<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta name="generator" content="Bluefish 2.2.7">
  <meta http-equiv="content-type" content=
  "text/html; charset=us-ascii">

  <title>Guide to Ublu</title>
  <meta content="Jack J. Woehr" name="author">
  <meta content=
  "Guide to the Ublu Midrange and Mainframe Life Cycle Extension Language"
  name="description">
  <link rel="stylesheet" type="text/css" href="ublujedit.css">
  <meta http-equiv="Last-Modified" content=
  "Thu, 29 Jun 2017 17:36:18 UTC">
</head>

<body>
  <table cellspacing="0" height="456" cellpadding="2" width="100%"
  border="0">
    <tbody>
      <tr>
        <td bgcolor="#000000" valign="middle" align="center">
          <font color="#66FFFF"><big><big>Guide</big></big><br>
          to the<br></font>

          <h1><a class="mozTocH1" name=
          "mozTocId88081"></a><font color=
          "#66FFFF">Ublu</font></h1><font color="#66FFFF">Midrange
          and Mainframe<br>
          Life Cycle Extension Language<br></font>
        </td>

        <th bgcolor="#000000" valign="middle" align="center">
        <img alt="NASA JPL Candle in Space" title=
        "NASA JPL Candle in Space" src="images/Candlespace.jpg"
        height="444" width="400"><br></th>

        <td bgcolor="#000000" valign="middle" align="center">
        <font color="#33FFFF">Copyright &#169; 2016 Jack. J.
        Woehr</font><br>
        <font color="#33FFFF"><font color=
        "#33FFFF">jwoehr@softwoehr.com<br></font> &nbsp;All Rights
        Reserved<br>
        <br>
        SoftWoehr LLC<br>
        <a href="http://www.softwoehr.com" target=
        "_blank">http://www.softwoehr.com</a><br>
        PO Box 51<br>
        Golden, CO 80402-0051<br>
        USA</font></td>
      </tr>
    </tbody>
  </table>

  <h2><a class="mozTocH1" name="mozTocId986452"></a> Table of
  Contents</h2>

  <ul id="mozToc">
    <!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6-->

    <li>
      <a href="#mozTocId88081">Ublu</a>

      <ul>
        <li><a href="#mozTocId986452">Table of Contents</a></li>

        <li><a href="#mozTocId754622">Who is this Guide
        for?</a></li>

        <li>
          <a href="#mozTocId185961">Why Ublu?</a>

          <ul>
            <li><a href="#mozTocId190420">Work in Progress</a></li>
          </ul>
        </li>

        <li><a href="#mozTocId809903">What does Ublu do?</a></li>

        <li><a href="#Discussing_Ublu">Discussing Ublu
        Online</a></li>

        <li>
          <a href="#Discussing_Ublu"></a><a href=
          "#Discussing_Ublu"></a><a href="#mozTocId723509">Quick
          Tour of the Ublu Language</a>

          <ul>
            <li><a href="#mozTocId190571">Overview</a></li>

            <li><a href="#mozTocId994066">Commands</a></li>

            <li><a href="#mozTocId117788">Language
            Interpreter</a></li>
          </ul>
        </li>

        <li>
          <a href="#mozTocId185354">A Full Ublu Program</a>

          <ul>
            <li><a href=
            "#mozTocId152770">examples/autoreply.ublu</a></li>

            <li><a href="#mozTocId987283">Understanding
            examples/autoreply.ublu</a></li>
          </ul>
        </li>

        <li>
          <a href="#mozTocId10736">Generating launcher scripts for
          Ublu programs via gensh</a>

          <ul>
            <li><a href=
            "#mozTocId850587">examples/autoreply.sh</a></li>
          </ul>
        </li>

        <li>
          <a href="#mozTocId625051">Some Obvious Questions about
          Ublu</a>

          <ul>
            <li><a href="#mozTocId772969">What are the data types
            in Ublu?</a></li>

            <li><a href="#mozTocId379708">What are those dash
            thingies after Ublu commands?</a></li>

            <li><a href="#mozTocId58628">What is a put ?</a></li>

            <li><a href="#tuple-assign"><code>tuple -assign</code>
            instead of <code>put</code></a></li>

            <li>
              <a href="#mozTocId56861">How are arguments
              passed?</a>

              <ul>
                <li>
                  <a href="#mozTocId154189">Local variables as
                  arguments</a>

                  <ul>
                    <li>
                      <a href="#mozTocId856951">A limit on local
                      variables as arguments</a>

                      <ul>
                        <li><a href=
                        "#mozTocId334710">examples/localvarthread</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>

        <li>
          <a href="#mozTocId241059">The examples directory</a>

          <ul>
            <li><a href="#mozTocId992046">The test
            directory</a></li>
          </ul>
        </li>

        <li><a href="#extensions">The extensions directory</a></li>

        <li>
          <a href="#mozTocId163217">Object-disoriented</a>

          <ul>
            <li><a href="#Autonomes">Autonomes offer easier
            syntax</a></li>
          </ul>
        </li>

        <li><a href="#TupleStack">The Tuple Stack</a></li>

        <li><a href="#Calling_Java">Calling Java</a></li>

        <li><a href="#Goublu">Goublu, the experimental enhanced
        Ublu console</a></li>

        <li>
          <a href="#mozTocId722916">Notes</a>

          <ul>
            <li><a href=
            "#mozTocId810320">ublu.util.Interpreter.loop()</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <h2><a class="mozTocH2" name="mozTocId754622"></a>Who is this
  Guide for?</h2>

  <p>It's for people who just want an introduction to using Ublu,
  or who have downloaded and built Ublu, read enough of the
  <a href="./ubluref.html" target="_blank">Ublu Reference</a> to
  know how to launch <a href="https://github.com/jwoehr/ublu"
  target="_blank">Ublu</a>, and now want more help understanding
  Ublu.</p>

  <p>The Guide is meant to be easy to read, and extra stuff you may
  not want to bother with is written <small><i>like this in small
  italics</i><big>.</big></small></p>

  <h2><a class="mozTocH2" name="mozTocId185961"></a>Why Ublu?</h2>

  <p>Ublu is an interpretive language for remote systems
  programming of midrange or mainframe hosts from a Java platform
  such as Linux, Mac, OpenBSD or Windows. It also can run natively
  on IBM i &#174;, IBM z/OS USS &#174; or any other reasonable Java
  platform.</p>

  <p>I wrote Ublu because I wanted a language to run on
  OpenBSD/Mac/Linux/Windows to perform ad-hoc process automation
  primarily on IBM i Series OS &#174;. I was supporting consulting
  clients by writing individual utility programs using JTOpen which
  I have used since 1998 to control the AS/400. I decided to
  consolidate the programs in a language, and the result is
  Ublu.</p>

  <p>Additionally, Ublu can call Java directly allowing the user
  him- or herself to extend the language interpretively in nearly
  any direction desired.</p>

  <p>It is convenient to operate legacy systems remotely from
  modern environments:</p>

  <ul>
    <li>Use Ublu to empower help-desk folks who know how to feed
    arguments to scripts and answer interactive prompts but are
    challenged by the green screen.</li>

    <li>Intermediate programmers use Ublu as an easy entry point to
    legacy systems programming.<br></li>

    <li>Teams working to design add-ons or extensions to legacy
    applications can use Ublu.</li>

    <li>Teams designing follow-on systems who need to explore the
    legacy environment can use Ublu.</li>

    <li>Ublu also runs locally on IBM i Series OS and is sometimes
    used to model programs which later may be written in straight
    Java to run locally on the server.</li>
  </ul>

  <p><small><i>I also previously wrote <a href=
  "http://pigiron.sourceforge.net/">PigIron</a>, a Java bridge to
  IBM z/VM &#174; System Management API <a href=
  "https://www.ibm.com/support/knowledgecenter/SSB27U_6.3.0/com.ibm.zvm.v630.dmse6/toc.htm?lang=en">
  (SMAPI)</a>. I provide PigIron support in Ublu. I had been using
  my <a href="http://fiji.sourceforge.net/" target="_blank">FIJI
  ForthIsh Java Interpreter</a> to drive PigIron, which works very
  well but is arcane, and also <a href="http://www.oorexx.org/"
  target="_blank">ObjectRexx</a>, which is a wonderful language
  which doesn't run on as many platforms as Java. Ublu turns out to
  be an excellent language environment for PigIron SMAPI
  operations.</i></small></p>

  <p>Ublu is a new language which was coded quick and easy in Java
  on top of other open source libraries. The "quick and easy"
  approach derives from a work environment in which folks just
  wanted results and had no particular interest in the language
  itself.</p>

  <p>Ublu is easy to build, install, read, and use. It is handsome
  but not beautiful. Ublu works like an interactive shell scripting
  language but also has some advanced language features such as
  compiling, tasking, debugging and a TCP/IP port server mode.</p>

  <h3><a class="mozTocH3" name="mozTocId190420"></a>Work in
  Progress</h3>Ublu is a work in progress and, like all "living"
  software, likely to remain so. There are always more aspects to
  IBM i programming to support. Everything that's in Ublu is there
  because I/We needed it <em>right then</em>. The <code>db</code>
  command was almost the first thing added, which is effectively an
  interpretive shell around JDBC. On the other hand, we never
  needed classic record file access because everyone on staff was
  SQL-oriented and knew little about physical file access. Thus,
  only recently have I added the <a href=
  "ubluref.html#file"><code>file</code></a> and <tt><a href=
  "ubluref.html#record">record</a></tt> commands for classic record
  file access.<br>
  <br>
  If you find Ublu useful, please <a href=
  "http://www.softwoehr.com/">let me know</a>!<br>
  <br>
  If you find a bug, or wish to issue a feature request, you can
  <a href="https://github.com/jwoehr/ublu/issues/new" target=
  "_blank">create an issue in the issue tracker</a>.<br>

  <h2><a class="mozTocH2" name="mozTocId809903"></a>What does Ublu
  do?</h2>

  <ul>
    <li>Ublu is an interpreter with full language features such as
    flow control (<tt>IF ELSE DO WHILE</tt> etc.), exception
    handling, and even a multitasker and debugger.</li>

    <li>Ublu has commands that manipulate Java objects representing
    objects, services and various facilities on the remote
    server.</li>

    <li>In Ublu you can define functions to create complex programs
    to manipulate the remote server and its databases, tape drives,
    whatever.</li>

    <li>You can also do <a href=
    "http://www.postgresql.org/">Postgresql</a> databasing (and
    pretty much anything else) on your local computer, allowing you
    to interoperate your local database with the database on the
    remote server.</li>

    <li>You can do this interactively or load a program from text
    files which can, in turn, <a href=
    "./ubluref.html#include"><tt>include</tt></a> other text
    files.</li>

    <li>You can automate a telnet 5250 terminal emulator
    session.<br></li>

    <li>You can interact directly with the underlying Java and
    class libraries.</li>
  </ul>

  <p>When you've got your complete application written in Ublu,
  there's an Ublu command <a href=
  "#mozTocId10736"><tt>gensh</tt></a> which autogenerates a shell
  script to work under either <tt>bash</tt> or <tt>ksh</tt>. The
  script takes arguments via command-line switches and pass them to
  your program's top-level function. <small><i>The script effects a
  closure on your top-level function.</i></small></p>

  <p>For a formal summary of everything, see the <a href=
  "ubluref.html">Ublu Reference</a>. That Reference tells you how
  to install and run Ublu and lists the Open Source project
  dependencies as well as documenting every command and facility
  built into Ublu.</p>

  <h2><a name="Discussing_Ublu"></a>Discussing Ublu Online</h2>

  <p>Currently I discuss Ublu on the <a href=
  "https://ibmioss.ryver.com/index.html#forums/1057363" target=
  "_blank">Ublu, Java &amp; JTOpen forum</a> of the <a href=
  "https://ibmioss.ryver.com/index.html" target="_blank">OSS on IBM
  i Ryver team</a>.</p>

  <h2><a class="mozTocH2" name="mozTocId723509"></a>Quick Tour of
  the Ublu Language</h2>

  <h3><a class="mozTocH3" name="mozTocId190571"></a>Overview</h3>

  <p>Ublu is mostly composed of commands and a language
  interpreter. There are also are other Ublu features such as
  server mode and the tasker, but commands and the language
  interpreter are the nexus.<br></p>

  <h3><a class="mozTocH4" name="mozTocId994066"></a>Commands</h3>

  <p>Ublu commands are like individual application programs which
  are invoked with their arguments under the language interpreter.
  Command arguments are often references to objects which have been
  created by other commands. You usually don't have to know much
  about objects passed from command to command other than what
  they're supposed to represent.<br></p>

  <p>Most arguments are passed to the <a href=
  "ubluref.html#Dash_Command">dash-commands</a> associated with the
  command, e.g.<br></p>

  <blockquote>
    <pre>
<font color="#000000"><font color=
"#009966"><strong>ask</strong></font> <font color=
"#0099FF"><strong>-to</strong></font> <font color=
"#CC00CC">@answer</font> <font color=
"#0099FF"><strong>-say</strong></font> <font color=
"#FF00CC">${</font><font color="#FF00CC"> </font><font color=
"#FF00CC">Do</font><font color="#FF00CC"> </font><font color=
"#FF00CC">you</font><font color="#FF00CC"> </font><font color=
"#FF00CC">wish</font><font color="#FF00CC"> </font><font color=
"#FF00CC">to</font><font color="#FF00CC"> </font><font color=
"#FF00CC">reply</font><font color="#FF00CC"> </font><font color=
"#FF00CC">to</font><font color="#FF00CC"> </font><font color=
"#FF00CC">this</font><font color="#FF00CC"> </font><font color=
"#FF00CC">message?</font><font color="#FF00CC"> </font><font color=
"#FF00CC">(y/n)</font><font color="#FF00CC"> </font><font color=
"#FF00CC">}$</font></font>
</pre>
  </blockquote>

  <p>The <tt>ask</tt> command here has two dash-commands,
  <tt>-to</tt> and <tt>-say</tt>. <tt>-to</tt> has an argument
  which says to which <a href=
  "ubluref.html#Tuple_Variables">variable</a> to put the answer to
  the question about to be asked the user, and <tt>-say</tt> takes
  a <a href="ubluref.html#Quoted_strings">quoted string</a> which
  is the prompt to the user.</p>

  <p>Here is a link to the Ublu Reference's list of <a href=
  "ubluref.html#Commands_by_Category">commands by
  category</a>.<br></p>

  <h3><a class="mozTocH4" name="mozTocId117788"></a>Language
  Interpreter<br></h3>The heart of the Ublu language is a text
  interpreter loop. There can be multiple nested or branching
  interpreter instances with different variable spaces in one Ublu
  session, but basically they're all doing the same sort of thing:
  an outer input loop is getting input and running an inner
  interpretive <a href="#ublu.util.Interpreter.loop">loop</a> to
  interpret a single line of text.<br>
  <br>
  <small><i>There are actually several different but very similar
  loops, e.g., the debugger interpreter loop is different from the
  normal runtime intepreter loop.</i></small><br>
  <br>
  Parsing is very simplistic. The parse parses, and having parsed,
  moves on, <a href=
  "https://www.google.com/search?q=nor+can+all+your+piety+and+wit"
  target="_blank"><i>nor can all your piety and wit</i></a> make it
  go back one <i>lex</i> (unit of parsing).<br>
  <br>
  The text interpreter loop parses the next whitespace-delimited
  element (a lex) and tries to locate it as an Ublu command or as a
  defined function. Matching is case-sensitive.<br>
  <br>
  If no match is found, the loop falls out to the outer input loop
  with an error. The outer loop then waits for more input to pass
  to the inner interpretive loop.<br>
  <br>
  If the interpretive loop succeeds in finding the next lex in the
  input as a command or function, it passes the rest of the line to
  the command or to the function interpreter. Both do their work
  then pass back the remnant of the input line that wasn't consumed
  in their work.<br>
  <br>
  Thus, line processing is a relay: the loop hands off to the
  command/function, which then hands back to loop, and on to next
  command/function ... until the line is consumed or an error is
  encountered.<br>
  <br>
  If an error is encountered, the rest of the input is discarded.
  Typically the interpretive loop will fall out to the outer
  parsing loop. However, there is a <tt>TRY CATCH THROW</tt>
  exception facility in Ublu allowing the program to catch errors
  without losing its place in the executing program.<br>
  <br>
  While the interpretive loop is line-oriented, certain constructs
  can span lines, particularly a delimited string or an execution
  block. Strings are delimited<br>

  <blockquote>
    <tt>${ like this }$</tt><br>
  </blockquote>and execution blocks<br>

  <blockquote>
    <tt>$[ like this ]$</tt><br>
  </blockquote>so it is easy for the loop to identify them and
  demand another line from the outer loop if the closing delimiter
  hasn't been found yet.<br>
  <br>
  Language control flow constructs are just a form of command.
  Typically they consume execution blocks from the input:<br>

  <blockquote>
    <tt>IF @truefalse THEN $[ command arg arg command arg arg
    command arg ... ]$ ELSE $[ command arg ... ]$<br></tt>
  </blockquote>As noted, these execution blocks can span multiple
  lines.<br>

  <h2><a class="mozTocH2" name="mozTocId185354"></a> A Full Ublu
  Program</h2>Here is a full Ublu program. It uses <a href=
  "./ubluref.html#FUNC">FUNC</a> to define a number of functions
  allowing the user to checks a message queue on an i Series OS
  server and lists the messages, asking the user on each if s/he
  would like to reply, and parsing the reply if one is given.&nbsp;
  Take a look at the program (and its associate shell script given
  here) and then we will <a href=
  "#Understanding_examplesautoreply.ublu">discuss the program
  line-by-line</a> below.<br>
  <br>
  <i><small>The Ublu codes samples are shown in this document with
  syntax coloring from a <a href="http://www.jedit.org/" target=
  "_blank">jEdit</a> mode</small></i>
  <small><tt>ublu.xml</tt></small> <i><small>reproduced here via
  <a href="https://www.palfrader.org/code/code2html/" target=
  "_blank">Code2HTML.</a><br>
  The jEdit mode is in</small></i> <small><tt>stuff/jEdit</tt>
  <i>with instructions how to install it at the head of the mode
  file.</i><br></small> <i><small>There is also a <a href=
  "http://www.vim.org/" target="_blank">Vim</a> mode for Ublu
  in</small></i> <small><tt>stuff/ublu-vimfiles-master</tt></small>
  <i><small>. Just copy the dir structure under that directory to
  your</small></i> <small><tt>$HOME/.vim</tt>
  <i>directory</i></small><i><small>.</small></i><br>

  <h3><a class="mozTocH3" name=
  "mozTocId152770"></a><tt>examples/autoreply.ublu</tt></h3>
  <pre>
<span class="syntax0"><span class="gutter">   1 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">autoreply.ublu</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">...</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Find</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">reply</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">all</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">*INQ</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&amp;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">*NOTIFY</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">messages</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">in</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">a</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">given</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">MSGQ</span>
<span class="gutter">   2 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">jack</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">j.</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">woehr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">jwoehr@absolute-performance.com</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">jwoehr@softwoehr.com</span>
<span class="gutter">   3 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">2015-03-10</span>
<span class="gutter">   4 </span>
<span class="gutterH">   5 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">instance</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">message</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">queue</span>
<span class="gutter">   6 </span><span class=
"syntax-KEYWORD1">FUNC</span> getMsgQ <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-KEYWORD2">system</span> <span class=
"syntax-KEYWORD2">user</span> password ifspath <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">   7 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@as400</span>
<span class="gutter">   8 </span>    <span class=
"syntax-KEYWORD2">as400</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@as400</span> <span class=
"syntax-LITERAL4">@@system</span> <span class=
"syntax-LITERAL4">@@user</span> <span class=
"syntax-LITERAL4">@@password</span>
<span class="gutter">   9 </span>    <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-LITERAL4">@@msgq</span> <span class=
"syntax-KEYWORD3">-as400</span> <span class=
"syntax-MARKUP">@as400</span> <span class=
"syntax-KEYWORD3">-instance</span> <span class=
"syntax-LITERAL4">@@ifspath</span>
<span class="gutterH">  10 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  11 </span>
<span class="gutter">  12 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">get</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">list</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">of</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">messages</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">needing</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">reply</span>
<span class="gutter">  13 </span><span class=
"syntax-KEYWORD1">FUNC</span> getReplyMsgs <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-KEYWORD2">msgq</span> replylist <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">  14 </span>    <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-KEYWORD3">--</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-LITERAL4">@@msgq</span> <span class=
"syntax-KEYWORD3">-query</span> <span class=
"syntax-KEYWORD3">-reply</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-LITERAL4">@@replylist</span>
<span class="gutterH">  15 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  16 </span>
<span class="gutter">  17 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">get</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">messages,</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">walk</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">list</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">offer</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">user</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">chance</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">reply</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">each</span>
<span class="gutter">  18 </span><span class=
"syntax-KEYWORD1">FUNC</span> autoreply <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-KEYWORD2">system</span> <span class=
"syntax-KEYWORD2">user</span> password ifspath <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">  19 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@msgq</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@replylist</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@key</span>
<span class="gutterH">  20 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@answer</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@tf</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@reply</span>
<span class="gutter">  21 </span>    getMsgQ <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-LITERAL4">@@system</span> <span class=
"syntax-LITERAL4">@@user</span> <span class=
"syntax-LITERAL4">@@password</span> <span class=
"syntax-LITERAL4">@@ifspath</span> <span class=
"syntax-MARKUP">@msgq</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter">  22 </span>    getReplyMsgs <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-MARKUP">@msgq</span> <span class=
"syntax-MARKUP">@replylist</span> <span class=
"syntax-OPERATOR">)</span>
<span class="gutter">  23 </span>    <span class=
"syntax-KEYWORD1">FOR</span> <span class=
"syntax-MARKUP">@msg</span> in <span class=
"syntax-MARKUP">@replylist</span> <span class=
"syntax-OPERATOR">$[</span>
<span class="gutter">  24 </span>        <span class=
"syntax-KEYWORD2">msg</span> <span class=
"syntax-KEYWORD3">--</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-MARKUP">@msg</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@key</span> <span class=
"syntax-KEYWORD3">-key</span>
<span class="gutterH">  25 </span>        <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-from</span> <span class=
"syntax-MARKUP">@msg</span>
<span class="gutter">  26 </span>        <span class=
"syntax-KEYWORD2">ask</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@answer</span> <span class=
"syntax-KEYWORD3">-say</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Do</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">you</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">wish</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">reply</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">this</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">message?</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(y/n)</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutter">  27 </span>        <span class=
"syntax-KEYWORD2">test</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@tf</span> <span class=
"syntax-KEYWORD3">-eq</span> <span class=
"syntax-MARKUP">@answer</span> y
<span class="gutter">  28 </span>        <span class=
"syntax-KEYWORD1">IF</span> <span class=
"syntax-MARKUP">@tf</span> <span class=
"syntax-KEYWORD1">THEN</span> <span class=
"syntax-OPERATOR">$[</span>
<span class="gutter">  29 </span>            <span class=
"syntax-KEYWORD2">ask</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@reply</span> <span class=
"syntax-KEYWORD3">-say</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Please</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">enter</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">your</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">reply</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutterH">  30 </span>            <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-KEYWORD3">--</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-MARKUP">@msgq</span> <span class=
"syntax-KEYWORD3">-sendreplybinkey</span> <span class=
"syntax-MARKUP">@key</span> <span class=
"syntax-MARKUP">@reply</span>
<span class="gutter">  31 </span>            <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Reply</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">sent.</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutter">  32 </span>        <span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  33 </span>    <span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  34 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutterH">  35 </span>
</span>
</pre>

  <h3><a class="mozTocH3" name="mozTocId987283"></a><a name=
  "Understanding_examplesautoreply.ublu"></a>Understanding
  <tt>examples/autoreply.ublu</tt></h3>
  <pre>
<span class="syntax0"><span class="gutter">   1 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">autoreply.ublu</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">...</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Find</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">reply</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">all</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">*INQ</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&amp;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">*NOTIFY</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">messages</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">in</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">a</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">given</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">MSGQ</span>
<span class="gutter">   2 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">jack</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">j.</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">woehr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">jwoehr@absolute-performance.com</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">jwoehr@softwoehr.com</span>
<span class="gutter">   3 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">2015-03-10</span>
<span class="gutter">   4 </span>
</span>
</pre>These lines are, of course, comments. Comments go to the end
of the line.<br>
  <br>
  As we discussed above, execution blocks (e.g., the body of a
  function) delimited by <tt>$[</tt> and <tt>]$</tt> can span
  lines. The way the interpretive loop does this is that it keeps
  calling for input from the outer parsing loop until it finds the
  closing delimiter. Effectively, the entire execution block is one
  line. So line comments (those commented by the <a href=
  "ubluref.html#comment_introducer"><tt>#</tt></a> command) should
  not be placed inside function bodies or they will comment out the
  entire function body! Instead, inside functions use the <a href=
  "ubluref.html#comment_quote"><tt>\\</tt></a> command.<br>
  <pre>
<span class="gutter">   6 </span><span class=
"syntax-KEYWORD1">FUNC</span> getMsgQ <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-KEYWORD2">system</span> <span class=
"syntax-KEYWORD2">user</span> password ifspath <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">   7 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@as400</span>
<span class="gutter">   8 </span>    <span class=
"syntax-KEYWORD2">as400</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@as400</span> <span class=
"syntax-LITERAL4">@@system</span> <span class=
"syntax-LITERAL4">@@user</span> <span class=
"syntax-LITERAL4">@@password</span>
<span class="gutter">   9 </span>    <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-LITERAL4">@@msgq</span> <span class=
"syntax-KEYWORD3">-as400</span> <span class=
"syntax-MARKUP">@as400</span> <span class=
"syntax-KEYWORD3">-instance</span> <span class=
"syntax-LITERAL4">@@ifspath</span>
<span class="gutterH">  10 </span><span class=
"syntax-OPERATOR">]$</span>
</pre>Here the function <tt>getMsgQ</tt> is defined. The argument
list is not typed in any way. These are merely token names for
whatever will appear in that position inside the parentheses when
the function is invoked. Inside the body of the function these
arguments will be referenced by prefixing them with <tt>@@</tt>
e.g., <tt>@@password</tt>.<br>
  <br>
  <b>Note</b> that the parentheses are separated from both the
  function name and from the argument list!!<br>
  <br>
  <small><i>In the example, I happened to use the bad style of
  naming arguments the same name as Ublu commands
  (</i><i><tt>system</tt></i> <i><tt>user</tt></i> <i>and
  <tt>msgq</tt>) which, of course, the editor then syntax-colored,
  mistaking them for keywords. This is entirely legal in Ublu but,
  again, it's bad style.<br></i></small><br>
  The function body is the execution block between <tt>$[</tt> and
  <tt>]$</tt><br>
  <br>
  On line 7, a local variable is declared. All variables ("tuple
  variables" as they are called, or just "tuples") are identified
  by the <tt>@</tt> prefix, whether they are <tt>LOCAL</tt> or
  global (or interpreter-level-local).<br>
  <br>
  Tuple variables come into existence just by being mentioned.
  Arguments to a function may be tuples or plain words, Ublu
  commands typically know what to do with either when passed them
  as arguments.<br>
  <br>
  The LOCAL declaration <tt>LOCAL @as400</tt> serves to says that
  there will be a local tuple variable which will hide any other
  variables of the same name in the program while in this execution
  block and then disappear at the end of the execution block, i.e.,
  at the end of function execution. Equally, the variable name
  <tt>@as400</tt> could have been used without declaration, but
  then it would persist beyond the end of the function, and
  further, if there happened to already exist such a variable in
  the program, it would be referencing that same variable, possibly
  unintentionally.<br>
  <br>
  Lines 8 and 9 are Ublu commands.<br>
  <br>
  Line 8 says, "Create a remote server instance for the system
  function argument using the user and password function arguments.
  Store that instance in the declared local variable
  <tt>@as400</tt>".<br>
  <br>
  Line 9 says, "Create an object referencing the message queue on
  the server represented by <tt>@as400</tt> and identified by the
  IFS path represented by the function argument <tt>ifspath</tt>
  and store that object to the function argument <tt>msgq</tt> ,
  presumably a variable, with an error resulting if a variable was
  not provided in that position in the function argument list."<br>
  <br>
  The variable named which is provided in the function argument
  list in that position does not have to be named anything like the
  declaring argument list named it. It could be called
  <tt>@fred</tt> for instance. It does not even have to have been
  previously declared. It comes into global existence by being
  named. It can later be deleted via the <tt><a href=
  "ubluref.html#tuple">tuple</a> -delete @fred</tt> command, if so
  desired. Or, it might be a LOCAL variable from a calling
  function.<br>
  <pre>
<span class="gutter">  13 </span><span class=
"syntax-KEYWORD1">FUNC</span> getReplyMsgs <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-KEYWORD2">msgq</span> replylist <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">  14 </span>    <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-KEYWORD3">--</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-LITERAL4">@@msgq</span> <span class=
"syntax-KEYWORD3">-query</span> <span class=
"syntax-KEYWORD3">-reply</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-LITERAL4">@@replylist</span>
<span class="gutterH">  15 </span><span class=
"syntax-OPERATOR">]$</span>
</pre>These lines declare another function which says, "Given a
message queue instance and a variable name in which to store the
result of this function, create a list of messages needing reply
waiting on the remoted i Series OS message queue represented by the
message queue instance."<br>
  <pre>
<span class="gutter">  18 </span><span class=
"syntax-KEYWORD1">FUNC</span> autoreply <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-KEYWORD2">system</span> <span class=
"syntax-KEYWORD2">user</span> password ifspath <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">  19 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@msgq</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@replylist</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@key</span>
<span class="gutterH">  20 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@answer</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@tf</span> <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@reply</span>
<span class="gutter">  21 </span>    getMsgQ <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-LITERAL4">@@system</span> <span class=
"syntax-LITERAL4">@@user</span> <span class=
"syntax-LITERAL4">@@password</span> <span class=
"syntax-LITERAL4">@@ifspath</span> <span class=
"syntax-MARKUP">@msgq</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter">  22 </span>    getReplyMsgs <span class=
"syntax-OPERATOR">(</span> <span class=
"syntax-MARKUP">@msgq</span> <span class=
"syntax-MARKUP">@replylist</span> <span class=
"syntax-OPERATOR">)</span>
<span class="gutter">  23 </span>    <span class=
"syntax-KEYWORD1">FOR</span> <span class=
"syntax-MARKUP">@msg</span> in <span class=
"syntax-MARKUP">@replylist</span> <span class=
"syntax-OPERATOR">$[</span>
<span class="gutter">  24 </span>        <span class=
"syntax-KEYWORD2">msg</span> <span class=
"syntax-KEYWORD3">--</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-MARKUP">@msg</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@key</span> <span class=
"syntax-KEYWORD3">-key</span>
<span class="gutterH">  25 </span>        <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-from</span> <span class=
"syntax-MARKUP">@msg</span>
<span class="gutter">  26 </span>        <span class=
"syntax-KEYWORD2">ask</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@answer</span> <span class=
"syntax-KEYWORD3">-say</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Do</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">you</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">wish</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">reply</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">this</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">message?</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(y/n)</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutter">  27 </span>        <span class=
"syntax-KEYWORD2">test</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@tf</span> <span class=
"syntax-KEYWORD3">-eq</span> <span class=
"syntax-MARKUP">@answer</span> y
<span class="gutter">  28 </span>        <span class=
"syntax-KEYWORD1">IF</span> <span class=
"syntax-MARKUP">@tf</span> <span class=
"syntax-KEYWORD1">THEN</span> <span class=
"syntax-OPERATOR">$[</span>
<span class="gutter">  29 </span>            <span class=
"syntax-KEYWORD2">ask</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@reply</span> <span class=
"syntax-KEYWORD3">-say</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Please</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">enter</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">your</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">reply</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutterH">  30 </span>            <span class=
"syntax-KEYWORD2">msgq</span> <span class=
"syntax-KEYWORD3">--</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-MARKUP">@msgq</span> <span class=
"syntax-KEYWORD3">-sendreplybinkey</span> <span class=
"syntax-MARKUP">@key</span> <span class=
"syntax-MARKUP">@reply</span>
<span class="gutter">  31 </span>            <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Reply</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">sent.</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutter">  32 </span>        <span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  33 </span>    <span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  34 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutterH">  35 </span>
</pre><br>
  These lines declare <tt>autoreply</tt> which is the top-level
  function in the file. Note that we declared these functions from
  low-level to top level. This is not necessary, since the
  functions are not interpreted until called, but it's easier to
  understand this way.<br>
  <br>
  <small><i>Ublu function definitions offer almost no compiler
  security. They are simply parsed and stored as execution blocks
  associated with a call specification and no validation of their
  runtime action is performed.</i></small><br>
  <br>
  <tt>autoreply</tt> takes as its arguments a system name, user id,
  password and IFS path. Arguments to the function, whether they
  are plainwords or variables are referenced inside the function by
  their declared name decorated with <tt>@@</tt> . If a function is
  declared:<br>

  <blockquote>
    <tt>FUNC foo ( bar )</tt><br>
  </blockquote>then the argument <tt>bar</tt> is referenced inside
  the body of the function as <tt>@@bar</tt><br>

  <blockquote>
    <tt>FUNC foo ( bar ) $[ put -from @@bar ]$</tt><br>
  </blockquote><tt>autoreply</tt>&nbsp; also declares a few local
  variables that will hide global and more outer local variables of
  the same name and then disappear at the end of the execution
  block in which they are declared.<br>
  <br>
  <tt>autoreply</tt>&nbsp; calls the function <tt>getMsgQ</tt> to
  get the message queue instance.<br>
  <br>
  <tt>autoreply</tt> then calls <tt>getReplyMsgs</tt> to get a list
  messages awaiting a reply.<br>
  <br>
  <tt>autoreply</tt> then loops in a <tt>FOR</tt> loop through the
  list and uses <tt>ask</tt> command to ask the user if the user
  wishes to reply each individual message. It does <tt>test</tt> on
  the response against the character <tt>y</tt> and <tt>IF</tt> the
  result of that test is true, gets a reply via <tt>ask</tt> and
  replies to the message queue, informing the user via <tt>put</tt>
  that the reply was sent.<br>

  <h2><a class="mozTocH2" name="mozTocId10736"></a>Generating
  launcher scripts for Ublu programs via <tt>gensh</tt></h2>The
  <tt>autoreply</tt> program would still require understanding of
  Ublu to load and execute, but our help desk operator doesn't have
  to deal with that. As noted above, the Ublu <a href=
  "ubluref.html#gensh"><tt>gensh</tt></a> command can generate a
  shell script so that <tt>autoreply</tt> can become effectively a
  shell command that takes options to identify system and queue.
  <i><small><big><tt>gensh</tt></big> shell scripts allow the
  designer to turn Ublu functions into closures.</small></i><br>
  <br>
  Here is the <tt>gensh</tt>-generated&nbsp; shell script to run
  the top-level function <tt>autoreply</tt> from the program
  <tt>autoreply.ublu</tt><br>

  <h3><a class="mozTocH3" name=
  "mozTocId850587"></a><tt>examples/autoreply.sh</tt></h3>
  <pre>
<span class="syntax0"><span class="gutter">   1 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">autoreply.sh</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">...</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Find</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">reply</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">all</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">*INQ</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&amp;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">*NOTIFY</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">messages</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">in</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">a</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">given</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">MSGQ</span><span class="syntax-COMMENT1"> </span>
<span class="gutter">   2 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">autogenerated</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Wed</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Mar</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">09</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">19:26:19</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">MST</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">2016</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">by</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">jax</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">using</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">command:</span>
<span class="gutter">   3 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">gensh</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">autoreply.sh</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-path</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">/opt/ublu/ublu.jar</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-optr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">s</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">SERVER</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">@server</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Server</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">}$</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-optr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">u</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">USER</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">@user</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">User</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">}$</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-optr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">p</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">PASSWORD</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">@password</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Password</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">}$</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-optr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">q</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">QPATHIFS</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">@qpathifs</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">IFS</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">path</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">message</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">queue,</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">e.g.,</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">/QSYS.LIB/QSYSOPR.MSGQ</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">or</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">/QSYS.LIB/QUSRSYS.LIB/MYUSERID.MSGQ</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}$</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">${</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">autoreply.sh</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Find</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">reply</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">all</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*INQ</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&amp;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*NOTIFY</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">messages</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">in</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">given</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">MSGQ</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}$</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">/opt/ublu/examples/autoreply.ublu</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">${</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">autoreply</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">(</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">@server</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">@user</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">@password</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">@qpathifs</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">)</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}$</span>
<span class="gutter">   4 </span>
<span class="gutterH">   5 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Usage</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">message</span>
<span class="gutter">   6 </span>function usage { 
<span class="gutter">   7 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">autoreply</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">sh</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Find</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">and</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">reply</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">all</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">*</span><span class=
"syntax-LITERAL1">INQ</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">&amp;</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">*</span><span class=
"syntax-LITERAL1">NOTIFY</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">messages</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">in</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">a</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">given</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">MSGQ</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">"</span>
<span class="gutter">   8 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">This</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">shell</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">script</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">was</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">autogenerated</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Wed</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Mar</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">09</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">19</span><span class=
"syntax-LITERAL1">:</span><span class=
"syntax-LITERAL1">26</span><span class=
"syntax-LITERAL1">:</span><span class=
"syntax-LITERAL1">19</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">MST</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">2016</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">by</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">jax</span><span class=
"syntax-LITERAL1">.</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">   9 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Usage</span><span class=
"syntax-LITERAL1">:</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-KEYWORD2">0</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">[</span><span class=
"syntax-LITERAL1">silent</span><span class=
"syntax-LITERAL1">]</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">h</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">s</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">SERVER</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">u</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">USER</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">p</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">PASSWORD</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">q</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">QPATHIFS</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">"</span>
<span class="gutterH">  10 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">  </span><span class=
"syntax-LITERAL1">where</span><span class=
"syntax-LITERAL1">"</span>
<span class="gutter">  11 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">  </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">h</span><span class=
"syntax-LITERAL1">  </span><span class=
"syntax-LITERAL1">    </span><span class=
"syntax-LITERAL1">display</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">this</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">help</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">message</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">and</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">exit</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">0</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  12 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">  </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">s</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">SERVER</span><span class=
"syntax-LITERAL1">   </span><span class=
"syntax-LITERAL1">Server</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(</span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1">)</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  13 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">  </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">u</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">USER</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">User</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(</span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1">)</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  14 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">  </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">p</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">PASSWORD</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">Password</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(</span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1">)</span><span class="syntax-LITERAL1">"</span>
<span class="gutterH">  15 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">  </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">q</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">QPATHIFS</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">IFS</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">path</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">message</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">queue</span><span class=
"syntax-LITERAL1">,</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">e</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">g</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">,</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">/</span><span class=
"syntax-LITERAL1">QSYS</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">LIB</span><span class=
"syntax-LITERAL1">/</span><span class=
"syntax-LITERAL1">QSYSOPR</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">MSGQ</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">or</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">/</span><span class=
"syntax-LITERAL1">QSYS</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">LIB</span><span class=
"syntax-LITERAL1">/</span><span class=
"syntax-LITERAL1">QUSRSYS</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">LIB</span><span class=
"syntax-LITERAL1">/</span><span class=
"syntax-LITERAL1">MYUSERID</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">MSGQ</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(</span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1">)</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  16 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">-</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  17 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">If</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">the</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">keyword</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">'</span><span class=
"syntax-LITERAL1">silent</span><span class=
"syntax-LITERAL1">'</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">appears</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">ahead</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">of</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">all</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">options</span><span class=
"syntax-LITERAL1">,</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">then</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">included</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">files</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">will</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">not</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">echo</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">and</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">prompting</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">suppressed</span><span class=
"syntax-LITERAL1">.</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  18 </span>echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Exit</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">code</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">the</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">result</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">of</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">execution</span><span class=
"syntax-LITERAL1">,</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">or</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">0</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">for</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">h</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">or</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">2</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">if</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">there</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">an</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">error</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">in</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">processing</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">options</span><span class=
"syntax-LITERAL1">"</span>
<span class="gutter">  19 </span>}
<span class="gutterH">  20 </span>
<span class="gutter">  21 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1">Test</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">if</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">user</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">wants</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">silent</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">includes</span>
<span class="gutter">  22 </span><span class=
"syntax-KEYWORD1">if</span> [ <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-KEYWORD2">1</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">=</span><span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">silent</span><span class=
"syntax-LITERAL1">"</span> ]
<span class="gutter">  23 </span><span class=
"syntax-KEYWORD1">then</span>
<span class="gutter">  24 </span>    <span class=
"syntax-KEYWORD2">SILENT</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">silent</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">"</span>
<span class="gutterH">  25 </span>    shift
<span class="gutter">  26 </span><span class=
"syntax-KEYWORD1">else</span>
<span class="gutter">  27 </span>    <span class=
"syntax-KEYWORD2">SILENT</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  28 </span><span class=
"syntax-KEYWORD1">fi</span>
<span class="gutter">  29 </span>
<span class="gutterH">  30 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Process</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">options</span>
<span class="gutter">  31 </span><span class=
"syntax-KEYWORD1">while</span> getopts s:u:p:q:h the_opt
<span class="gutter">  32 </span><span class=
"syntax-KEYWORD1">do</span>
<span class="gutter">  33 </span>    <span class=
"syntax-KEYWORD1">case</span> <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-KEYWORD2">the_opt</span><span class=
"syntax-LITERAL1">"</span> <span class="syntax-KEYWORD1">in</span>
<span class="gutter">  34 </span>        s<span class=
"syntax-OPERATOR">)</span>  <span class=
"syntax-KEYWORD2">SERVER</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-KEYWORD2">OPTARG</span><span class=
"syntax-LITERAL1">"</span><span class="syntax-OPERATOR">;;</span>
<span class="gutterH">  35 </span>        u<span class=
"syntax-OPERATOR">)</span>  <span class=
"syntax-KEYWORD2">USER</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-KEYWORD2">OPTARG</span><span class=
"syntax-LITERAL1">"</span><span class="syntax-OPERATOR">;;</span>
<span class="gutter">  36 </span>        p<span class=
"syntax-OPERATOR">)</span>  <span class=
"syntax-KEYWORD2">PASSWORD</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-KEYWORD2">OPTARG</span><span class=
"syntax-LITERAL1">"</span><span class="syntax-OPERATOR">;;</span>
<span class="gutter">  37 </span>        q<span class=
"syntax-OPERATOR">)</span>  <span class=
"syntax-KEYWORD2">QPATHIFS</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-KEYWORD2">OPTARG</span><span class=
"syntax-LITERAL1">"</span><span class="syntax-OPERATOR">;;</span>
<span class="gutter">  38 </span>        h<span class=
"syntax-OPERATOR">)</span>  usage;exit 0;;
<span class="gutter">  39 </span>        [?]<span class=
"syntax-OPERATOR">)</span>    usage;exit 2;;
<span class="gutterH">  40 </span>
<span class="gutter">  41 </span>    <span class=
"syntax-KEYWORD1">esac</span>
<span class="gutter">  42 </span><span class=
"syntax-KEYWORD1">done</span>
<span class="gutter">  43 </span>shift <span class=
"syntax-KEYWORD3">`</span><span class=
"syntax-KEYWORD3">expr</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">OPTIND</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-KEYWORD3">-</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-KEYWORD3">1</span><span class="syntax-KEYWORD3">`</span>
<span class="gutter">  44 </span><span class=
"syntax-KEYWORD1">if</span> [ <span class=
"syntax-KEYWORD2">$#</span> -ne <span class=
"syntax-DIGIT">0</span> ]
<span class="gutterH">  45 </span><span class=
"syntax-KEYWORD1">then</span>
<span class="gutter">  46 </span>    echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Superfluous</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">argument</span><span class=
"syntax-LITERAL1">(</span><span class=
"syntax-LITERAL1">s</span><span class=
"syntax-LITERAL1">)</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-LITERAL1">*</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  47 </span>    usage
<span class="gutter">  48 </span>    exit <span class=
"syntax-DIGIT">2</span>
<span class="gutter">  49 </span><span class=
"syntax-KEYWORD1">fi</span>
<span class="gutterH">  50 </span>
<span class="gutter">  51 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Translate</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">options</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">tuple</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">assignments</span>
<span class="gutter">  52 </span><span class=
"syntax-KEYWORD1">if</span> [ <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">SERVER</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">!</span><span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-LITERAL1">"</span><span class="syntax-LITERAL1">"</span> ]
<span class="gutter">  53 </span><span class=
"syntax-KEYWORD1">then</span>
<span class="gutter">  54 </span>    <span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">string</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">@</span><span class=
"syntax-LITERAL1">server</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">trim</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">\$</span><span class=
"syntax-LITERAL1">{</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">SERVER</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">}</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">"</span>
<span class="gutterH">  55 </span><span class=
"syntax-KEYWORD1">else</span>
<span class="gutter">  56 </span>    echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">s</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">SERVER</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">a</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">but</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">not</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">present</span><span class=
"syntax-LITERAL1">.</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  57 </span>    usage
<span class="gutter">  58 </span>    exit <span class=
"syntax-DIGIT">2</span>
<span class="gutter">  59 </span><span class=
"syntax-KEYWORD1">fi</span>
<span class="gutterH">  60 </span><span class=
"syntax-KEYWORD1">if</span> [ <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">USER</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">!</span><span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-LITERAL1">"</span><span class="syntax-LITERAL1">"</span> ]
<span class="gutter">  61 </span><span class=
"syntax-KEYWORD1">then</span>
<span class="gutter">  62 </span>    <span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">string</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">@</span><span class=
"syntax-LITERAL1">user</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">trim</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">\$</span><span class=
"syntax-LITERAL1">{</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">USER</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">}</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  63 </span><span class=
"syntax-KEYWORD1">else</span>
<span class="gutter">  64 </span>    echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">u</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">USER</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">a</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">but</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">not</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">present</span><span class=
"syntax-LITERAL1">.</span><span class="syntax-LITERAL1">"</span>
<span class="gutterH">  65 </span>    usage
<span class="gutter">  66 </span>    exit <span class=
"syntax-DIGIT">2</span>
<span class="gutter">  67 </span><span class=
"syntax-KEYWORD1">fi</span>
<span class="gutter">  68 </span><span class=
"syntax-KEYWORD1">if</span> [ <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">PASSWORD</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">!</span><span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-LITERAL1">"</span><span class="syntax-LITERAL1">"</span> ]
<span class="gutter">  69 </span><span class=
"syntax-KEYWORD1">then</span>
<span class="gutterH">  70 </span>    <span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">string</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">@</span><span class=
"syntax-LITERAL1">password</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">trim</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">\$</span><span class=
"syntax-LITERAL1">{</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">PASSWORD</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">}</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  71 </span><span class=
"syntax-KEYWORD1">else</span>
<span class="gutter">  72 </span>    echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">p</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">PASSWORD</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">a</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">but</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">not</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">present</span><span class=
"syntax-LITERAL1">.</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  73 </span>    usage
<span class="gutter">  74 </span>    exit <span class=
"syntax-DIGIT">2</span>
<span class="gutterH">  75 </span><span class=
"syntax-KEYWORD1">fi</span>
<span class="gutter">  76 </span><span class=
"syntax-KEYWORD1">if</span> [ <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">QPATHIFS</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">!</span><span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-LITERAL1">"</span><span class="syntax-LITERAL1">"</span> ]
<span class="gutter">  77 </span><span class=
"syntax-KEYWORD1">then</span>
<span class="gutter">  78 </span>    <span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-OPERATOR">=</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">gensh_runtime_opts</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1">string</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">@</span><span class=
"syntax-LITERAL1">qpathifs</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">trim</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">\$</span><span class=
"syntax-LITERAL1">{</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-KEYWORD2">QPATHIFS</span><span class=
"syntax-KEYWORD2">}</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">}</span><span class=
"syntax-KEYWORD2">$</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  79 </span><span class=
"syntax-KEYWORD1">else</span>
<span class="gutterH">  80 </span>    echo <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">q</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">QPATHIFS</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">a</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">required</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">option</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">but</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">is</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">not</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">present</span><span class=
"syntax-LITERAL1">.</span><span class="syntax-LITERAL1">"</span>
<span class="gutter">  81 </span>    usage
<span class="gutter">  82 </span>    exit <span class=
"syntax-DIGIT">2</span>
<span class="gutter">  83 </span><span class=
"syntax-KEYWORD1">fi</span>
<span class="gutter">  84 </span>
<span class="gutterH">  85 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Invocation</span>
<span class=
"gutter">  86 </span>java -jar /opt/ublu/ublu.jar <span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-LITERAL1">gensh_runtime_opts</span><span class=
"syntax-KEYWORD2">}</span> include <span class=
"syntax-KEYWORD2">${</span><span class=
"syntax-LITERAL1">SILENT</span><span class=
"syntax-KEYWORD2">}</span>/opt/ublu/examples/autoreply.ublu autoreply \<span class="syntax-OPERATOR">(</span> @server @user @password @qpathifs \<span class="syntax-OPERATOR">)</span> 
<span class="gutter">  87 </span>exit <span class=
"syntax-KEYWORD2">$?</span>
<span class="gutter">  88 </span>
</span>
</pre>

  <h2><a class="mozTocH2" name="mozTocId625051"></a> Some Obvious
  Questions about Ublu</h2>The above explanations raise several new
  questions:

  <ul>
    <li>What are the data types in Ublu?</li>

    <li>What are those dash thingies after Ublu commands?</li>

    <li>What is a <tt>put</tt> ?</li>

    <li>How are arguments passed?</li>
  </ul>

  <p>We'll answer those questions next.<br></p>

  <h3><a class="mozTocH2" name="mozTocId772969"></a>What are the
  data types in Ublu?</h3>

  <p>Ublu can be described as an "object-disoriented
  language".<br></p>

  <p>Ublu is a form of interpretive Java that hides as much as
  possible about object usage.<br></p>There are basically five (5)
  data types in the Ublu language:<br>

  <ol>
    <li>plainword</li>

    <li>object</li>

    <li>variable</li>

    <li>string</li>

    <li>execution block<br></li>
  </ol>

  <p>A <b>plainword</b> is a single whitespace-delimited
  lex<br></p>

  <ul>
    <li><tt>arthur</tt></li>

    <li><tt>99999</tt></li>

    <li><tt>supercalifra$gilist$ticexpialifoobar..**(())</tt></li>
  </ul>

  <p>An <b>object</b> represents something or other, often a
  something-or-other on a remote server but it's pretty opaque and
  you just have to know which&nbsp; objects you have in hand go
  with which Ublu commands. It's mostly simple to do because the
  same commands that use the objects typically provide the objects
  in the first place.</p>

  <p>Objects are passed around in <b>variables</b> ("tuple
  variables" or "tuples") marked with the <tt>@</tt> sign.
  Variables come into existence by being mentioned. If they're in
  an execution block between <tt>$[</tt> and <tt>]$</tt> they can
  be marked <tt>LOCAL</tt> and disappear at the end of the block.
  Otherwise, they persist until expressly deleted or until the
  interpreter in whose context they reside exits.</p>

  <p>A <strong>string</strong> in Ublu is parsed from a sequence of
  plainwords wrapped by <tt>${</tt> and <tt>}$</tt> e.g. <tt>${ hi
  there }$</tt> Many commands in Ublu will take either a string, a
  plainword, or a variable as an argument. This is symbolized in
  the command descriptions in the Ublu Reference by
  <tt>~@{something}</tt>. <small><i>The ~ means also that the
  argument to the dash-command can be popped from Ublu's LIFO
  stack.<br></i></small></p>

  <p>An <strong>execution block</strong> is a body of Ublu program
  text wrapped in <tt>$[</tt> and <tt>]$</tt> . Execution blocks
  are used as the body of control constructs, such as <tt>IF</tt>
  ... <tt>THEN</tt> ... <tt>ELSE</tt> , function definitions and
  <tt>TRY</tt> ... <tt>CATCH</tt> , e.g.</p>

  <blockquote>
    <tt>IF @trueorfalse THEN $[ joblist -as400 @myserver -to @jl
    ]$</tt><br>
  </blockquote>

  <h3><a class="mozTocH2" name="mozTocId379708"></a>What are those
  dash thingies after Ublu commands?</h3>The dash-commands after
  Ublu commands pass arguments to the command, often objects being
  kept in variables.

  <blockquote>
    <p><tt>as400 -to @myServer somehostname.com someuserid
    somepassword</tt><tt><br></tt><tt>joblist -as400
    @myServer</tt><br></p>
  </blockquote>would retrieve a joblist from
  <tt>somehostname.com</tt> provided <tt>someuserid</tt> had
  authorization to request it.<br>
  <br>
  One special dash-command is double-dash <tt>--</tt> the
  "eponymous dash-command" which represents an object identified in
  the command description with same name as the command itself. For
  example, the <tt>as400</tt> command instances and operates on
  objects representing a connection to a remote i Series OS server.
  Once you have instanced such an object and stored it <tt>-to
  @someServer</tt> you can use it and then later test if it is
  still connected by passing the same variable back to the
  <tt>as400</tt> command like this:<br>

  <blockquote>
    <tt>as400 -as400 @someServer -connected</tt><br>
  </blockquote>which will <tt>put</tt> either <tt>true</tt> or
  <tt>false</tt>. But you could also have simply used the eponymous
  dash-command:<br>

  <blockquote>
    <tt>as400 -- @someServer -connected</tt><br>
  </blockquote>since, for the as400 command, <tt>--</tt> represents
  <tt>-as400</tt>.<br>

  <h3><a class="mozTocH2" name="mozTocId58628"></a>What is a
  <tt>put</tt> ?</h3>&nbsp;The <tt>as400</tt> command stored
  <tt>-to @myServer</tt> which variable was then passed to joblist
  command as <tt>-as400 @myServer<br></tt>

  <p><tt>-to</tt> is a dash-command to almost every Ublu command.
  It says where the <tt>put</tt> is to go.<br></p>

  <p>Most Ublu commands <tt>put</tt> a result. That result could be
  text or an object. If no <tt>-to</tt> destination is specified,
  then the <tt>put</tt> goes to standard out. If the result is an
  object and the <tt>put</tt> is to standard out,&nbsp; the object
  is rendered in text. Ublu knows how to render objects in text in
  a useful fashion.<br></p>

  <p>The full discussion of <tt>put</tt> requires an understanding
  of <a href="ubluref.html#Datasinks">Data Sinks</a> discussed in
  the Ublu Reference.<br></p>

  <h3><a name="tuple-assign"></a><code>tuple -assign</code> instead
  of <code>put</code></h3>

  <p>Once an object is assigned to a tuple variable,
  <code>put</code> tends to have the sometimes-undesirable effect
  of turning the value it puts into a string.</p>

  <p>To assign an object from one tuple or another (including from
  the tuple stack), use <code><a href="./ubluref.html#tuple">tuple
  -assign</a></code> <em>@destination-tuple
  ~@value-source</em>.</p>

  <h3><a class="mozTocH2" name="mozTocId56861"></a>How are
  arguments passed?</h3>

  <p>Arguments in Ublu are passed by reference, not of by
  value.<br></p>

  <p>When you pass a variable as an argument to a command or
  function, that variable is accessible to the function and any
  changes the function makes to that argument are changes to the
  variable itself.<br></p>

  <p>Arguments in function argument lists are actually <a href=
  "./ubluref.html#Function_Parameter_Binding">token-pasted</a> into
  the execution block which is the body of the function.</p>

  <p>Token pasting in function argument marshalling allows some
  unusual programming techniques as we'll see later, e.g., in the
  section on the <a href="#TupleStack">Tuple Stack</a>.</p>

  <h4><a class="mozTocH4" name="mozTocId154189"></a>Local variables
  as arguments</h4>

  <p>Local variables only are accessible within the execution block
  in which they are declared. This encompassed nested blocks within
  the declaring block (unless a local of the same name is declared
  in the inner block, thus hiding the outer block's local).<br></p>

  <p>This means you can pass a local as a positional argument to a
  function called within a block and that function can reference
  the provided value normally.<br></p>

  <blockquote>
    <p><tt>FUNC bar ( myarg ) $[ put -from @@myarg
    ]$</tt><tt><br></tt><tt>FUNC foo ( ) $[ LOCAL @a put -to @a 17
    bar ( @a ) ]$</tt><br></p>
  </blockquote>

  <p><tt>foo ( )</tt> when invoked will display the number
  17.<br></p>

  <h5><a class="mozTocH5" name="mozTocId856951"></a><big>A limit on
  local variables as arguments</big></h5>

  <p>Because calls are by reference and locals have only block
  scope, there exist cases where it appears you can pass a local to
  a function but you really cannot. Here's an instance of that:</p>

  <h6><a class="mozTocH6" name=
  "mozTocId334710"></a><big><big><big><tt>examples/test/localvarthread.ublu</tt></big></big></big></h6>
  <pre>
<span class="syntax0"><span class="gutter">   1 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Test</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">background</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">threading</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">with</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">local</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">vars</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">global</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">vars.</span>
<span class="gutter">   2 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Example</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">from</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Ublu</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">https://github.com/jwoehr/ublu</span>
<span class="gutter">   3 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Copyright</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">(C)</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">2016</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Jack</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">J.</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Woehr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">http://www.softwoehr.com</span>
<span class="gutter">   4 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">See</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Ublu</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">license</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">(BSD-2</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">open</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">source)</span>
<span class="gutterH">   5 </span>
<span class="gutter">   6 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">A</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">simple</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">function</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">run</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">in</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">a</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">thread</span>
<span class="gutter">   7 </span><span class=
"syntax-KEYWORD1">FUNC</span> localVarThread <span class=
"syntax-OPERATOR">(</span> var <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">   8 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@myvar</span> 
<span class="gutter">   9 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@start</span> 
<span class="gutterH">  10 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@end</span> 
<span class="gutter">  11 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-from</span> <span class=
"syntax-LITERAL4">@@var</span> 
<span class="gutter">  12 </span>    <span class=
"syntax-KEYWORD2">eval</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@myvar</span> + <span class=
"syntax-DIGIT">1</span> <span class="syntax-LITERAL4">@@var</span>
<span class="gutter">  13 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@start</span> <span class="syntax-DIGIT">1</span>
<span class="gutter">  14 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@end</span> <span class="syntax-DIGIT">9</span> 
<span class="gutterH">  15 </span>    <span class=
"syntax-KEYWORD1">DO</span> <span class=
"syntax-MARKUP">@start</span> <span class=
"syntax-MARKUP">@end</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">  16 </span>        <span class=
"syntax-KEYWORD2">eval</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@myvar</span> + <span class=
"syntax-MARKUP">@myvar</span> <span class=
"syntax-DIGIT">1</span> <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-from</span> <span class=
"syntax-MARKUP">@myvar</span>  <span class=
"syntax-KEYWORD2">system</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">sleep</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">10</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutter">  17 </span>    <span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  18 </span>    <span class=
"syntax-KEYWORD2">put</span> done!
<span class="gutter">  19 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutterH">  20 </span>
<span class="gutter">  21 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Doesn't</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">work</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">with</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">locals.</span>
<span class="gutter">  22 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Locals</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">in</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">calling</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">function</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">don't</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">exist</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">in</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">context</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">of</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">created</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">thread.</span>
<span class="gutter">  23 </span><span class=
"syntax-KEYWORD1">FUNC</span> runItLocal <span class=
"syntax-OPERATOR">(</span> number <span class=
"syntax-OPERATOR">)</span> <span class=
"syntax-OPERATOR">$[</span>    
<span class="gutter">  24 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@x</span>
<span class="gutterH">  25 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@x</span> <span class="syntax-DIGIT">100000</span>
<span class="gutter">  26 </span>    <span class=
"syntax-KEYWORD2">eval</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@x</span> + <span class=
"syntax-LITERAL4">@@number</span> <span class=
"syntax-DIGIT">7</span>
<span class="gutter">  27 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@p</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">localVarThread</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">@x</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">)</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutter">  28 </span>    <span class=
"syntax-KEYWORD2">thread</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@t</span> <span class=
"syntax-KEYWORD3">-from</span> <span class=
"syntax-MARKUP">@p</span>
<span class="gutter">  29 </span>    <span class=
"syntax-KEYWORD2">thread</span> <span class=
"syntax-KEYWORD3">-thread</span> <span class=
"syntax-MARKUP">@t</span> <span class=
"syntax-KEYWORD3">-start</span>
<span class="gutterH">  30 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">  31 </span>
<span class="gutter">  32 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">This</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">works,</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">uses</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">a</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">global</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">variable</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span>
<span class="gutter">  33 </span><span class=
"syntax-KEYWORD1">FUNC</span> runIt <span class=
"syntax-OPERATOR">(</span> number <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">  34 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@x</span> <span class="syntax-DIGIT">100000</span>
<span class="gutterH">  35 </span>    <span class=
"syntax-KEYWORD2">eval</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@x</span> + <span class=
"syntax-LITERAL4">@@number</span> <span class=
"syntax-DIGIT">7</span>
<span class="gutter">  36 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@p</span> <span class=
"syntax-LITERAL1">${</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">localVarThread</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">(</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">@x</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">)</span><span class=
"syntax-LITERAL1"> </span><span class="syntax-LITERAL1">}$</span>
<span class="gutter">  37 </span>    <span class=
"syntax-KEYWORD2">thread</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@t</span> <span class=
"syntax-KEYWORD3">-from</span> <span class=
"syntax-MARKUP">@p</span>
<span class="gutter">  38 </span>    <span class=
"syntax-KEYWORD2">thread</span> <span class=
"syntax-KEYWORD3">-thread</span> <span class=
"syntax-MARKUP">@t</span> <span class=
"syntax-KEYWORD3">-start</span>
<span class="gutter">  39 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutterH">  40 </span>
</span>
</pre>In the above example, a thread is launched with a string
argument, effectively an execution block although passed as a
string in a variable. Even though the thread is launched in the
same execution block as the local variable declaration, the
thread's runtime environment is not nested within the execution
block, so a local variable cannot be passed to the thread.<br>

  <h2><a class="mozTocH2" name="mozTocId241059"></a>The
  <tt>examples</tt> directory</h2>Ublu is distributed with an
  <tt>examples</tt> directory. Most of these are code actually used
  in production, though of course <b>there is NO WARRANTY OR
  GUARANTY of correctness or fitness for a given application (see
  the LICENSE)</b>.<br>
  <br>
  Example files consist of definitions of functions embodying
  factors of common operations, and of the shell scripts generated
  by <tt>gensh</tt> used to launch the functions.&nbsp; Not all
  examples are pristine examples of Ublu coding style, which is
  evolving. Generally, the more parameterization, the better.<br>

  <h3><a class="mozTocH3" name="mozTocId992046"></a>The test
  directory</h3>Under the <tt>examples</tt> directory is the
  <tt>test</tt> directory which are fairly crude regression code
  used to test the basic functionality of Ublu commands.<br>

  <h2><a class="extensions" name="extensions"></a>The
  <tt>extensions</tt> directory</h2>

  <p>Ublu is distributed with an <tt>extensions</tt> directory
  which contains extensions to the base Ublu system which are
  written in Ublu itself.</p>

  <p>As the IBM i system upon which Ublu primarily operates is so
  feature-rich, it is impractical to put every useful utility in
  the base system. Therefore, as Ublu evolves, more and more
  features will likely be relegated to the <tt>extensions</tt>
  directory to be loaded via <a href=
  "./ubluref.html#include"><tt>include</tt></a> as needed by the
  application programmer.</p>

  <p>Again, <b>there is NO WARRANTY OR GUARANTY of correctness or
  fitness for a given application (see the LICENSE)</b>.</p>

  <h2><a class="mozTocH2" name=
  "mozTocId163217"></a>Object-disoriented</h2>A few words about
  "object-disoriented". Object languages associate methods with
  specific data structures and define these relationships in
  classes. Ublu began as a collection of single-purpose utilities
  designed procedurally and then grew into a language when it
  became necessary to pass objects from utility to utility in order
  to get more useful work done.<br>
  <br>
  You have seen how Ublu works and <a href="#mozTocId58628">read
  about the <tt>put</tt> command</a>. The <tt>put</tt> command was
  the beginning of Ublu "object-disorientation". When Ublu emerged
  from the need to pass objects rather than string values from one
  utility to the next, the <tt>put</tt> command was an immediate
  result of that change to an interpretive language. I needed to
  see quickly what was going on.<br>
  <br>
  A lot of effort went into <tt>put</tt> so it would give useful
  insight into anything passed around from command to command in
  Ublu without demanding that the programmer remember what was
  where. It is always safe to simply <tt>put @foo</tt> because a
  useful string representation is returned. And <tt>put -to @bar
  @foo</tt> put whatever is in <tt>@foo</tt> also into
  <tt>@bar</tt> without worrying about object class.<br>
  <br>
  What Ublu's language structure comes down to is that:<br>

  <ul>
    <li>commands are effectively <i>classes</i></li>

    <li>dash-commands are effectively <i>methods</i></li>

    <li>the object values passed in tuple vars to the commands are
    the <i>object instances</i> multiply inheriting from the
    <i>classes</i>.

      <ul>
        <li>Multiple inheritance because the <i>object
        instances</i> respond to the <i>methods</i> of many
        <i>classes</i><br></li>
      </ul>
    </li>
  </ul>

  <p>E.g, in the example ...<br></p>

  <blockquote>
    <tt>as400 -to @sys mysys myuid mypwd</tt><tt><br></tt><tt>as400
    -- @sys -alivesvc
    CENTRAL</tt><tt><br></tt><i><tt>true</tt><br></i>
  </blockquote>... effectively, an Ublu <tt>as400</tt> <i>class</i>
  creates an <i>object instance</i> stored in <tt>@sys</tt>. That
  object has a method <i>alivesvc(CENTRAL)</i> invoked on it.<br>
  <br>

  <p>Ublu's default "object-disoriented" syntax is wordier than a
  true object language, in that the class is named each time (the
  "command"), but it tends to be easy to use interpretively. It's
  clunky, yet it is reminiscent of traditional "big iron"-style
  command syntax and is pretty easy to remember.</p>

  <h3><a name="Autonomes">Autonomes</a> offer easier syntax</h3>

  <p><a href=
  "./ubluref.html#Autonomic_Tuple_Variables">Autonomes</a> simplify
  Ublu syntax. An <em>autonome</em> is a tuple variable whose value
  is of one of many recognized types allowed by Ublu to stand for
  its most typical command and the <a href=
  "./ubluref.html#Eponymous_dash-command__--_">eponymous
  dash-command</a>.</p>

  <p>Thus, assuming that <code>@job</code> contains a valid
  instance created by the <a href=
  "./ubluref.html#job"><code>job</code> command</a>,</p>

  <blockquote>
    <code>job -- @job -info</code>
  </blockquote>can be expressed

  <blockquote>
    <code>@job -info</code>
  </blockquote>

  <h2><a class="mozTocH2" name="TupleStack"></a>The Tuple
  Stack</h2>The <a href=
  "https://en.wikipedia.org/wiki/Forth_(programming_language)"
  target="_blank">Forth programming language</a> taught me the use
  of a LIFO stack in programming. The Ublu <a href=
  "./ubluref.html#Tuple_stack">Tuple stack</a> allows some
  interesting programming metaphors that allow coding functions
  that get around some of the clunkiness of basic Ublu syntax.
  Instead of stowing results in tuple variables, functions can push
  their results to the stack to be popped as arguments by the next
  function. Additionally, the <a href=
  "./ubluref.html#Function_Parameter_Binding">token-pasting</a>
  nature of Ublu <a href="./ubluref.html#FUNC"><tt>FUNC</tt></a>
  arguments allow even dash-commands to be presented to an Ublu
  command via the argument list to a function.<br>
  <br>
  Here is an example (<tt>examples/stringpush.ublu</tt>) of this
  object-disoriented slackomorphic style of programming:<br>
  <pre>
<span class="syntax0"><span class="gutter"> 1 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">stringpush.ublu</span>
<span class="gutter"> 2 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Example</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">from</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Ublu</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Midrange</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Mainframe</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Life</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Cycle</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Extension</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">language</span>
<span class="gutter"> 3 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">https://github.com/jwoehr/ublu</span>
<span class="gutter"> 4 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Copyright</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">(C)</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">2016</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Jack</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">J.</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Woehr</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">http://www.softwoehr.com</span>
<span class="gutterH"> 5 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">See</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Ublu</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">license</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">(BSD-2</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">open</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">source)</span>
<span class="gutter"> 6 </span>
<span class="gutter"> 7 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Execute</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">string</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">command</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">providing</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">op</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">2</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arguments</span>
<span class="gutter"> 8 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">push</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">result</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">tuple</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">LIFO</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">stack</span>
<span class="gutter"> 9 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Example:</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">$-2</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">(</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-cat</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">)</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">will</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">pop</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">tuple</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">stack</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">twice,</span>
<span class="gutterH">10 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">concatenate</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">two</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">string</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">values</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">and</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">push</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">result</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">back.</span>
<span class="gutter">11 </span><span class=
"syntax-KEYWORD1">FUNC</span> $<span class=
"syntax-LITERAL4">~</span><span class=
"syntax-DIGIT">2</span> <span class=
"syntax-OPERATOR">(</span> op a b <span class=
"syntax-OPERATOR">)</span> <span class=
"syntax-OPERATOR">$[</span> <span class=
"syntax-KEYWORD2">string</span> <span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-LITERAL4">~</span> <span class=
"syntax-LITERAL4">@@op</span> <span class=
"syntax-LITERAL4">@@a</span> <span class=
"syntax-LITERAL4">@@b</span> <span class=
"syntax-OPERATOR">]$</span>
<span class="gutter">12 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Here's</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">an</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">example</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">session:</span>
<span class="gutter">13 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">put</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}$</span>
<span class="gutter">14 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">put</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">foo</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">bar</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">woof</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}$</span>
<span class="gutterH">15 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">$~2</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">(</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-cat</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">)</span>
<span class="gutter">16 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">put</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">~</span>
<span class="gutter">17 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">foo</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">bar</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">woof</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">arf</span>
<span class="gutter">18 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter">19 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">Note</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">that</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">"the</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">first</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">shall</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">be</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">last".</span>
<span class="gutterH">20 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">...</span>
<span class="gutter">21 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">put</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}$</span>
<span class="gutter">22 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">put</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-to</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">${</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">arf</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">}$</span>
<span class="gutter">23 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">$~2</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">(</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">-eq</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">~</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">)</span>
<span class="gutter">24 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">&gt;</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">put</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">~</span>
<span class="gutterH">25 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">true</span>
<span class="gutter">26 </span>
<span class="gutter">27 </span><span class=
"syntax-COMMENT1">#</span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">end</span>
<span class="gutter">28 </span>
</span>
</pre>

  <h3><a name="TupleStackPopFuncArgs">Tuple Stack Pop in Function
  Arguments</a></h3>

  <p>Using the <code>~</code> symbol for a tuple stack pop as an
  argument to a function can lead to unexpected results.</p>

  <p>Function arguments are passed by token pasting as discussed
  above (<a href="mozTocId56861"></a>How are arguments passed?). So
  when a function body references the argument, it sees precisely
  what you provided as the runtime argument. Ergo, in an example
  like:</p>
  <pre>
<span class="syntax0"><span class="gutter">   1 </span><span class=
"syntax-KEYWORD1">FUNC</span> foo <span class=
"syntax-OPERATOR">(</span> bar <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">   2 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-LITERAL4">@@bar</span>
<span class="gutter">   3 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-LITERAL4">@@bar</span>
<span class="gutter">   4 </span><span class=
"syntax-OPERATOR">]$</span>
<span class="gutterH">   5 </span>  
<span class="gutter">   6 </span><span class=
"syntax-KEYWORD1">FUNC</span> foo1 <span class=
"syntax-OPERATOR">(</span> bar <span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">$[</span>
<span class="gutter">   7 </span>    <span class=
"syntax-KEYWORD1">LOCAL</span> <span class=
"syntax-MARKUP">@bar1</span>
<span class="gutter">   8 </span>    <span class=
"syntax-KEYWORD2">put</span><span class=
"syntax-KEYWORD3"> </span><span class=
"syntax-KEYWORD3">-to</span> <span class=
"syntax-MARKUP">@bar1</span> <span class=
"syntax-LITERAL4">@@bar</span>
<span class="gutter">   9 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-MARKUP">@bar1</span>
<span class="gutterH">  10 </span>    <span class=
"syntax-KEYWORD2">put</span> <span class=
"syntax-MARKUP">@bar1</span>
<span class="gutter">  11 </span><span class=
"syntax-OPERATOR">]$</span>
</span>
</pre>

  <p>the function <code>foo ( bar )</code> is incorrect, because
  the second reference to <code>@@bar</code> will find an empty
  stack:</p>
  <pre>
&gt; put -to ~ woof
&gt; foo ( ~ )
<em>woof
Ublu:1:UbluInterpreter.Thread[main,5,main]:SEVERE:ublu.util.Interpreter.loop():Command "put" threw exception null
java.util.EmptyStackException
        ...</em>
</pre>

  <p>whereas <code>foo1 ( bar )</code> is correct:</p>
  <pre>
   
&gt;  put -to ~ woof
&gt; foo1 ( ~ )
<em>woof
woof</em>
</pre>

  <h2><a name="Calling_Java"></a>Calling Java</h2>

  <p>Ublu can call Java directly via the <a href=
  "./ubluref.html#calljava"><tt>calljava</tt></a> command. This
  allows the user to extend the language interpretively in nearly
  any direction desired. This is useful, because as I continually
  extend Ublu, it is not practical to support every option for
  every object in the JTOpen library with Ublu sytax</p>

  <p>For instance, at present writing, there is no Ublu
  dash-command to fetch the reply status of a queued message. Maybe
  I'll add that later, if I need it enough. For the present, if I
  need that reply status, I <tt>calljava</tt> on the queued message
  object easily obtainable from Ublu.</p>
  <pre>
&gt; <a href=
"./ubluref.html#as400">as400</a> -to @mysys MYSYS.ORG MYPROFILE MYPASSWORD
&gt; <a href=
"./ubluref.html#joblog">joblog</a> -to @jl -as400 @mysys -new MYJOBNAME MYUID 349989
&gt; joblog -to ~ -- @jl -length
&gt; joblog -- @jl -to ~ -qm 0 ~
&gt; FOR @i in ~ $[ calljava -obj @i -method getReplyStatus -to @result put @result ]$
</pre>

  <p>Of course, in this sort of programming, downloading and
  perusing the Ublu javadocs and JTOpen library javadocs is
  essential. In the example above, one would have to know that
  Ublu's <tt>joblog -qm</tt> is returning a collection of
  <tt>com.ibm.as400.access.QueuedMessage</tt> instances.</p>

  <h2><a name="Goublu">Goublu</a>, the experimental enhanced Ublu
  console</h2>

  <p>Goublu is a <a href="http://golang.org/">Go language</a> front
  end that provides a better console interface to Ublu than the
  console support provided by Java.</p>

  <p>On most platforms, the Java console does not provide command
  line editing nor command line recall. Goublu provides both, along
  with other features. Goublu is a more congenial environment for
  interactive Ublu usage. Goublu has some limitations, and "plain"
  Ublu is better for running Ublu applications.</p>

  <p>Goublu must be compiled on the specific platform. You can
  install the Go language development environment and follow the
  <a href="https://github.com/jwoehr/goublu">instructions to get
  Goublu and build it</a> on your machine.</p>

  <h2><a class="mozTocH2" name="mozTocId722916"></a>Notes</h2>

  <h3><a class="mozTocH3" name="mozTocId810320"></a><a name=
  "ublu.util.Interpreter.loop"></a><tt>ublu.util.Interpreter.loop()</tt></h3>Here
  is the Java code (or some fairly recent version of same, consult
  the source) for the interpretive loop.
  <pre>
<span class="syntax0"><span class=
"gutter">1122 </span>    <span class="syntax-COMMENT3">/**</span>
<span class="gutter">1123 </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">*</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">The</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">processing</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">loop</span><span class=
"syntax-COMMENT3">,</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">processes</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">all</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">the</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">input</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">for</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">a</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">line</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">until</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">exhausted</span>
<span class="gutter">1124 </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">*</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">or</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">until</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">a</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">command</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">returns</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">a</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">command</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">result</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">indicating</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">failure</span><span class=
"syntax-COMMENT3">.</span>
<span class="gutterH">1125 </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span>
<span class="gutter">1126 </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">*</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-LABEL">@return</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">the</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">last</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">command</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">result</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">indicating</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">success</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">or</span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3">failure</span><span class=
"syntax-COMMENT3">.</span>
<span class="gutter">1127 </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class=
"syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter">1128 </span>    <span class=
"syntax-KEYWORD2">public</span> COMMANDRESULT <span class=
"syntax-FUNCTION">loop</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class=
"gutter">1129 </span>        COMMANDRESULT lastCommandResult <span class="syntax-OPERATOR">=</span> COMMANDRESULT.SUCCESS;
<span class=
"gutterH">1130 </span>        String initialCommandLine <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">getArgArray</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">toHistoryLine</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">1131 </span>        <span class=
"syntax-KEYWORD1">while</span> <span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">!</span><span class=
"syntax-FUNCTION">getArgArray</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">isEmpty</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span> <span class=
"syntax-OPERATOR">&amp;</span><span class=
"syntax-OPERATOR">&amp;</span> <span class=
"syntax-OPERATOR">!</span>good_bye <span class=
"syntax-OPERATOR">&amp;</span><span class=
"syntax-OPERATOR">&amp;</span> <span class=
"syntax-OPERATOR">!</span><span class=
"syntax-FUNCTION">isBreakIssued</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">1132 </span>            <span class=
"syntax-COMMENT2">//</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">/*</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">Debug</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">*/</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">System.err.println("</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">arg</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">array</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">is</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">"</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">+</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">getArgArray());</span>
<span class="gutter">1133 </span>            <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span><span class=
"syntax-FUNCTION">getArgArray</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">isNextTupleNameOrPop</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class=
"gutter">1134 </span>                Tuple t <span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-FUNCTION">getArgArray</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">peekNextTupleOrPop</span><span class=
"syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">1135 </span>                <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span>Autonome.<span class=
"syntax-FUNCTION">autonomize</span><span class=
"syntax-OPERATOR">(</span>t, <span class=
"syntax-FUNCTION">getArgArray</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">1136 </span>                    <span class=
"syntax-KEYWORD1">continue</span>;
<span class="gutter">1137 </span>                <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">else</span> <span class=
"syntax-OPERATOR">{</span>
<span class="gutter">1138 </span>                    <span class=
"syntax-FUNCTION">getLogger</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">log</span><span class=
"syntax-OPERATOR">(</span>Level.SEVERE, <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">non</span><span class=
"syntax-LITERAL1">-</span><span class=
"syntax-LITERAL1">autonomized</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">tuple</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">or</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">pop</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">:</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">{</span><span class=
"syntax-LITERAL1">0</span><span class=
"syntax-LITERAL1">}</span><span class=
"syntax-LITERAL1">"</span>, <span class=
"syntax-FUNCTION">getArgArray</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">next</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class=
"gutter">1139 </span>                    lastCommandResult <span class="syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE;
<span class="gutterH">1140 </span>                    <span class=
"syntax-KEYWORD1">break</span>;
<span class="gutter">1141 </span>                <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1142 </span>            <span class=
"syntax-OPERATOR">}</span>
<span class=
"gutter">1143 </span>            String commandName <span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-FUNCTION">getArgArray</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">next</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">trim</span><span class=
"syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">1144 </span>            <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span>commandName.<span class=
"syntax-FUNCTION">equals</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">"</span><span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">1145 </span>                <span class=
"syntax-KEYWORD1">continue</span>; <span class=
"syntax-COMMENT2">//</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">cr</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">or</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">some</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">sort</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">of</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">whitespace</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">got</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">parsed,</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">skip</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">to</span><span class=
"syntax-COMMENT2"> </span><span class="syntax-COMMENT2">next</span>
<span class="gutter">1146 </span>            <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1147 </span>            <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span><span class=
"syntax-FUNCTION">getCmdMap</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">containsKey</span><span class=
"syntax-OPERATOR">(</span>commandName<span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class=
"gutter">1148 </span>                CommandInterface command <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">getCmd</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">this</span>, commandName<span class="syntax-OPERATOR">)</span>;
<span class="gutter">1149 </span>                <span class=
"syntax-KEYWORD1">try</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">1150 </span>                    <span class=
"syntax-FUNCTION">setArgArray</span><span class=
"syntax-OPERATOR">(</span>command.<span class=
"syntax-FUNCTION">cmd</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-FUNCTION">getArgArray</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class=
"gutter">1151 </span>                    lastCommandResult <span class="syntax-OPERATOR">=</span> command.<span class="syntax-FUNCTION">getResult</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">1152 </span>                    <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span>lastCommandResult <span class=
"syntax-OPERATOR">=</span><span class=
"syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE<span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class=
"gutter">1153 </span>                        <span class=
"syntax-KEYWORD1">break</span>; <span class=
"syntax-COMMENT2">//</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">we</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">exit</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">the</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">loop</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">on</span><span class=
"syntax-COMMENT2"> </span><span class=
"syntax-COMMENT2">error</span>
<span class="gutter">1154 </span>                    <span class=
"syntax-OPERATOR">}</span>
<span class="gutterH">1155 </span>                <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">catch</span> <span class=
"syntax-OPERATOR">(</span>IllegalArgumentException ex<span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">1156 </span>                    <span class=
"syntax-FUNCTION">getLogger</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">log</span><span class=
"syntax-OPERATOR">(</span>Level.SEVERE, <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Command</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">+</span> commandName <span class=
"syntax-OPERATOR">+</span> <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">threw</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">exception</span><span class=
"syntax-LITERAL1">"</span>, ex<span class=
"syntax-OPERATOR">)</span>;
<span class=
"gutter">1157 </span>                    lastCommandResult <span class="syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE;
<span class="gutter">1158 </span>                    <span class=
"syntax-KEYWORD1">break</span>;
<span class="gutter">1159 </span>                <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">catch</span> <span class=
"syntax-OPERATOR">(</span>java.lang.RuntimeException ex<span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">1160 </span>                    <span class=
"syntax-COMMENT1">/*</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">java.net.UnknownHostException</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">lands</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">here,</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">as</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">well</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">as</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">1161 </span> <span class=
"syntax-COMMENT1">/*</span><span class=
"syntax-COMMENT1"> </span><span class=
"syntax-COMMENT1">com.ibm.as400.access.ExtendedIllegalArgumentException</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">1162 </span>                    <span class=
"syntax-FUNCTION">getLogger</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">log</span><span class=
"syntax-OPERATOR">(</span>Level.SEVERE, <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Command</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">+</span> commandName <span class=
"syntax-OPERATOR">+</span> <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">threw</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">exception</span><span class=
"syntax-LITERAL1">"</span>, ex<span class=
"syntax-OPERATOR">)</span>;
<span class=
"gutter">1163 </span>                    lastCommandResult <span class="syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE;
<span class="gutter">1164 </span>                    <span class=
"syntax-KEYWORD1">break</span>;
<span class="gutterH">1165 </span>                <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1166 </span>            <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">else</span> <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span><span class=
"syntax-FUNCTION">getFunctorMap</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">containsKey</span><span class=
"syntax-OPERATOR">(</span>commandName<span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">1167 </span>                <span class=
"syntax-KEYWORD1">try</span> <span class="syntax-OPERATOR">{</span>
<span class=
"gutter">1168 </span>                    TupleNameList tnl <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">parseTupleNameList</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">1169 </span>                    <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span>tnl <span class=
"syntax-OPERATOR">!</span><span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-LITERAL2">null</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class=
"gutterH">1170 </span>                        lastCommandResult <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">executeFunctor</span><span class="syntax-OPERATOR">(</span><span class="syntax-FUNCTION">getFunctor</span><span class="syntax-OPERATOR">(</span>commandName<span class="syntax-OPERATOR">)</span>, tnl<span class="syntax-OPERATOR">)</span>;
<span class=
"gutter">1171 </span>                        <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span>lastCommandResult <span class=
"syntax-OPERATOR">=</span><span class=
"syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE<span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class=
"gutter">1172 </span>                            <span class=
"syntax-KEYWORD1">break</span>;
<span class=
"gutter">1173 </span>                        <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1174 </span>                    <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">else</span> <span class=
"syntax-OPERATOR">{</span>
<span class=
"gutterH">1175 </span>                        <span class=
"syntax-FUNCTION">getLogger</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">log</span><span class=
"syntax-OPERATOR">(</span>Level.SEVERE, <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Found</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">function</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">{</span><span class=
"syntax-LITERAL1">0</span><span class=
"syntax-LITERAL1">}</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">but</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">could</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">not</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">execute</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">it</span><span class=
"syntax-LITERAL1">"</span>, commandName<span class=
"syntax-OPERATOR">)</span>;
<span class=
"gutter">1176 </span>                        lastCommandResult <span class="syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE;
<span class=
"gutter">1177 </span>                        <span class=
"syntax-KEYWORD1">break</span>;
<span class="gutter">1178 </span>                    <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1179 </span>                <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">catch</span> <span class=
"syntax-OPERATOR">(</span>java.lang.RuntimeException ex<span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">1180 </span>                    <span class=
"syntax-FUNCTION">getLogger</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">log</span><span class=
"syntax-OPERATOR">(</span>Level.SEVERE, <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Function</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">+</span> commandName <span class=
"syntax-OPERATOR">+</span> <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">threw</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">exception</span><span class=
"syntax-LITERAL1">"</span>, ex<span class=
"syntax-OPERATOR">)</span>;
<span class=
"gutter">1181 </span>                    lastCommandResult <span class="syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE;
<span class="gutter">1182 </span>                    <span class=
"syntax-KEYWORD1">break</span>;
<span class="gutter">1183 </span>                <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1184 </span>            <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">else</span> <span class=
"syntax-OPERATOR">{</span>
<span class="gutterH">1185 </span>                <span class=
"syntax-FUNCTION">getLogger</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">log</span><span class=
"syntax-OPERATOR">(</span>Level.SEVERE, <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Command</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1">{</span><span class=
"syntax-LITERAL1">0</span><span class=
"syntax-LITERAL1">}</span><span class=
"syntax-LITERAL4">\"</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">not</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">found</span><span class=
"syntax-LITERAL1">.</span><span class=
"syntax-LITERAL1">"</span>, commandName<span class=
"syntax-OPERATOR">)</span>;
<span class=
"gutter">1186 </span>                lastCommandResult <span class=
"syntax-OPERATOR">=</span> COMMANDRESULT.FAILURE;
<span class="gutter">1187 </span>                <span class=
"syntax-KEYWORD1">break</span>;
<span class="gutter">1188 </span>            <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1189 </span>        <span class=
"syntax-OPERATOR">}</span>
<span class="gutterH">1190 </span>        <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">!</span><span class=
"syntax-FUNCTION">isIncluding</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span> <span class=
"syntax-OPERATOR">&amp;</span><span class=
"syntax-OPERATOR">&amp;</span> <span class=
"syntax-OPERATOR">!</span>initialCommandLine.<span class=
"syntax-FUNCTION">isEmpty</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">1191 </span>            <span class=
"syntax-KEYWORD1">if</span> <span class=
"syntax-OPERATOR">(</span><span class=
"syntax-FUNCTION">getHistory</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span> <span class=
"syntax-OPERATOR">!</span><span class=
"syntax-OPERATOR">=</span> <span class=
"syntax-LITERAL2">null</span><span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">1192 </span>                <span class=
"syntax-KEYWORD1">try</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">1193 </span>                    <span class=
"syntax-FUNCTION">getHistory</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">writeLine</span><span class=
"syntax-OPERATOR">(</span>initialCommandLine<span class=
"syntax-OPERATOR">)</span>;
<span class="gutter">1194 </span>                <span class=
"syntax-OPERATOR">}</span> <span class=
"syntax-KEYWORD1">catch</span> <span class=
"syntax-OPERATOR">(</span>IOException ex<span class=
"syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">1195 </span>                    <span class=
"syntax-FUNCTION">getLogger</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">log</span><span class=
"syntax-OPERATOR">(</span>Level.WARNING, <span class=
"syntax-LITERAL1">"</span><span class=
"syntax-LITERAL1">Couldn</span><span class=
"syntax-LITERAL1">'</span><span class=
"syntax-LITERAL1">t</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">write</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">to</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">history</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">file</span><span class=
"syntax-LITERAL1"> </span><span class=
"syntax-LITERAL1">"</span> <span class=
"syntax-OPERATOR">+</span> <span class=
"syntax-FUNCTION">getHistory</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>.<span class=
"syntax-FUNCTION">getHistoryFileName</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span>, ex<span class=
"syntax-OPERATOR">)</span>;
<span class="gutter">1196 </span>                <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1197 </span>            <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1198 </span>        <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1199 </span>        <span class=
"syntax-FUNCTION">setGlobal_ret_val</span><span class=
"syntax-OPERATOR">(</span>lastCommandResult.<span class=
"syntax-FUNCTION">ordinal</span><span class=
"syntax-OPERATOR">(</span><span class=
"syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">1200 </span>        <span class=
"syntax-KEYWORD1">return</span> lastCommandResult;
<span class="gutter">1201 </span>    <span class=
"syntax-OPERATOR">}</span>
<span class="gutter">1202 </span>
</span>
</pre><i>This guide is a work in progress ... continued ...</i><br>
  </body>
</html>
