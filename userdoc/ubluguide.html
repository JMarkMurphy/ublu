<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "tidyp for OpenBSD (v1.04), see www.w3.org">
  <meta http-equiv="content-type" content=
  "text/html; charset=us-ascii">

  <title>Guide to Ublu</title>
  <meta content="Jack J. Woehr" name="author">
  <meta content="Guide to Ublu Language" name="description">
  <meta http-equiv="Last-Modified" content=
  "Tue, 17 May 2016 19:39:15 UTC">
</head>

<body>
  <table width="983" cellpadding="2" cellspacing="0" height="456"
  border="0">
    <tbody>
      <tr>
        <td valign="middle" align="center" bgcolor="#000000">
          <h1><font color="#66FFFF">Ublu Guide<br></font></h1>
        </td>

        <th valign="middle" align="center" bgcolor="#000000">
        <img alt="NASA JPL Candle in Space" title=
        "NASA JPL Candle in Space" src="images/Candlespace.jpg"
        width="400" height="444"><br></th>

        <td valign="middle" align="center" bgcolor="#000000">
        <font color="#33FFFF">Copyright &#169; 2016 Jack. J.
        Woehr</font><br>
        <font color="#33FFFF"><font color=
        "#33FFFF">jwoehr@softwoehr.com<br></font> &nbsp;All Rights
        Reserved<br>
        <br>
        SoftWoehr LLC<br>
        http://www.softwoehr.com<br>
        PO Box 51<br>
        Golden, CO 80402-0051<br>
        USA</font></td>
      </tr>
    </tbody>
  </table>

  <h2>Who is this Guide for?</h2>It's for people who have
  downloaded and built Ublu, read enough of the <a href=
  "ubluref.html">Ublu Reference</a> to know how to launch <a href=
  "https://github.com/jwoehr/ublu">Ublu</a>, and now want an
  introduction to using Ublu.<br>
  <br>
  The Guide is meant to be easy to read, and extra stuff you may
  not want to bother with is written <small><i>like this in small
  italics</i><big>.</big></small><br>

  <h2>Why Ublu?</h2>I wrote Ublu because I wanted a language to run
  on OpenBSD/Mac/Linux/Windows that could do systems programming on
  IBM i Series OS &#174;. It is convenient to operate legacy
  systems from modern environments. This empowers help desk folks
  who know how to feed arguments to scripts and answer interactive
  prompts but are challenged by the green screen. Intermediate
  programmers take to Ublu as well as an easy entry point to legacy
  systems programming.<br>
  <br>
  I supported business clients by writing individual programs using
  <a href="http://jt400.sourceforge.net/">JTOpen</a> which I have
  used since the 1990's to control the AS/400 and decided to
  consolidate. I also had previously written a bridge in Java to
  IBM z/VM &#174; System Management API <a href=
  "https://www.ibm.com/support/knowledgecenter/SSB27U_6.3.0/com.ibm.zvm.v630.dmse6/toc.htm?lang=en">
  (SMAPI)</a> called <a href=
  "http://pigiron.sourceforge.net/">PigIron</a> and wanted to hook
  that in somehow.<br>
  <br>
  I considered using my <a href="http://fiji.sourceforge.net/">FIJI
  ForthIsh Java Interpreter</a> which works very well but is quite
  arcane for others to use.<br>
  <br>
  <a href="http://www.oorexx.org/">ObjectRexx</a> is a wonderful
  language but it doesn't run on as many platforms as Java.<br>
  <br>
  Other extant language frameworks exist but each has its own
  issues.<br>
  <br>
  So I made up a new language and coded it in Java on top of other
  open source libraries.<br>
  <br>
  Ublu is easy to build, install, and use. It is handsome but not
  beautiful. It's easy to read. It works as an interactive shell
  scripting language but also has some advanced language features
  such as tasking, debugging and a TCP/IP port server mode.<br>
  <br>
  I hope you find Ublu useful!<br>

  <h2>What does Ublu do?</h2>Ublu is an interpreter with full
  language features such as flow control (<tt>IF ELSE DO WHILE</tt>
  etc.) and even a multitasker and debugger.<br>
  <br>
  Ublu has commands that manipulate Java objects representing
  objects, services and various facilities on the remote server. In
  Ublu you can define functions to create complex programs to
  manipulate the remote server and its databases, tape drives,
  whatever. You can also do <a href=
  "http://www.postgresql.org/">Postgresql</a> databasing (and
  pretty much anything else) on your local computer, allowing you
  to interoperate databases with the remote server. You can do this
  interactively or load a program from text files which can, in
  turn, <tt>include</tt> other text files.<br>
  <br>
  When you've got a complete application written in Ublu, there's
  an Ublu command <tt>gensh</tt> which autogenerates and writes out
  a shell script which works under either bash or ksh to take
  arguments via command-line switches and pass them to your
  program's top-level function.<br>
  <br>
  For a formal summary of everything, see the <a href=
  "ubluref.html">Ublu Reference</a>. That Reference tells you how
  to install and run Ublu and lists the Open Source project
  dependencies as well as documenting every command and facility
  built into Ublu.<br>

  <h2>Quick Tour of the Ublu Language</h2>The heart of the Ublu
  language is a text interpreter loop. There can be multiple nested
  or branching interpreter instances with different variable spaces
  in one Ublu session, but basically they're all doing the same
  sort of thing, an outer engine loop running an inner <a href=
  "#ublu.util.Interpreter.loop">loop</a> to interpret a line of
  text.<br>
  <br>
  <small><i>There are actually several different but very similar
  loops, e.g., the debugger interpreter loop is different from the
  normal runtime intepreter loop.</i></small><br>
  <br>
  Parsing is very simplistic. The parse parses, and having parsed,
  moves on, <a href=
  "https://www.google.com/search?q=nor+can+all+your+piety+and+wit"><i>
  nor can all your piety and wit</i></a> make it go back one
  lex.<br>
  <br>
  The text interpreter loop parses the next whitespace-delimited
  element and tries to locate it as an Ublu command or as a defined
  function. If it fails, the loop falls out to the outer
  input-and-process loop with an error. The outer loop then waits
  for more input to pass to the text interpreter loop.<br>
  <br>
  If the text interpreter loop succeeds in finding the next element
  as a command or function, it passes the rest of the line to the
  command or to the function interpreter. Both do their work then
  pass back the remnant of the input line that wasn't consumed in
  their work. Thus, line processing is a relay: loop to
  command/function, back to loop, to next command/function ...
  until the line is consumed.<br>
  <br>
  Certain constructs can span lines, particularly a delimited
  string or an execution block. Strings are delimited<br>

  <blockquote>
    <tt>${ like this }$</tt><br>
  </blockquote>and execution blocks<br>

  <blockquote>
    <tt>$[ like this ]$</tt><br>
  </blockquote>so it is easy for the loop to identify them and
  demand another line from the outer loop if the closing delimiter
  hasn't been found yet.<br>
  <br>
  Language control flow constructs are just a form of command.
  Typically they parse execution blocks:<br>

  <blockquote>
    <tt>IF @truefalse THEN $[ command arg arg command arg arg
    command arg ... ]$ ELSE $[ command arg ... ]$<br></tt>
  </blockquote>As noted, these execution blocks can span multiple
  lines.<br>
  <br>
  Here is a full Ublu program. It checks a message queue on an i
  Series OS server and lists the messages, asking the operator on
  each if s/he would like to reply, and parsing the reply if one is
  given.<br>
  <br>
  <i><small>The Ublu codes samples are shown in this document with
  syntax coloring from a <a href="http://www.jedit.org/">jEdit</a>
  mode</small></i> <small><tt>ublu.xml</tt></small><i><small>.<br>
  The jEdit mode is in</small></i> <small><tt>stuff/jEdit</tt>
  <i>with instructions how to install it at the head of the mode
  file.</i><br></small> <i><small>Ther is also a <a href=
  "http://www.vim.org/">Vim</a> mode for Ublu in</small></i>
  <small><tt>stuff/.vim</tt></small> <i><small>... just copy the
  dir structure to your</small></i> <small><tt>$HOME/.vim</tt>
  <i>directory</i></small><i><small>.</small></i><br>

  <h3><tt>examples/autoreply.ublu</tt></h3>
  <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">autoreply.ublu</font><font color="#CC0000"> </font><font color="#CC0000">...</font><font color="#CC0000"> </font><font color="#CC0000">Find</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">reply</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">all</font><font color="#CC0000"> </font><font color="#CC0000">*INQ</font><font color="#CC0000"> </font><font color="#CC0000">&amp;</font><font color="#CC0000"> </font><font color="#CC0000">*NOTIFY</font><font color="#CC0000"> </font><font color="#CC0000">messages</font><font color="#CC0000"> </font><font color="#CC0000">in</font><font color="#CC0000"> </font><font color="#CC0000">a</font><font color="#CC0000"> </font><font color="#CC0000">given</font><font color="#CC0000"> </font><font color="#CC0000">MSGQ</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">jack</font><font color="#CC0000"> </font><font color="#CC0000">j.</font><font color="#CC0000"> </font><font color="#CC0000">woehr</font><font color="#CC0000"> </font><font color="#CC0000">jwoehr@absolute-performance.com</font><font color="#CC0000"> </font><font color="#CC0000">jwoehr@softwoehr.com</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 3 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">2015-03-10</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 4 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 5 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">instance</font><font color="#CC0000"> </font><font color="#CC0000">message</font><font color="#CC0000"> </font><font color="#CC0000">queue</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 6 </font></span><font color="#006699"><strong>FUNC</strong></font> getMsgQ <font color="#000000"><strong>(</strong></font> <font color="#009966"><strong>system</strong></font> <font color="#009966"><strong>user</strong></font> password ifspath <font color="#009966"><strong>msgq</strong></font> <font color="#000000"><strong>)</strong></font> $[
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 7 </font></span> <font color="#006699"><strong>LOCAL</strong></font> <font color="#CC00CC">@as400</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 8 </font></span> <font color="#009966"><strong>as400</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#CC00CC">@as400</font> <font color="#6600CC">@@system</font> <font color="#6600CC">@@user</font> <font color="#6600CC">@@password</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 9 </font></span> <font color="#009966"><strong>msgq</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#6600CC">@@msgq</font> <font color="#0099FF"><strong>-as400</strong></font> <font color="#CC00CC">@as400</font> <font color="#0099FF"><strong>-instance</strong></font> <font color="#6600CC">@@ifspath</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 10 </font></span>]$
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 11 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 12 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">get</font><font color="#CC0000"> </font><font color="#CC0000">list</font><font color="#CC0000"> </font><font color="#CC0000">of</font><font color="#CC0000"> </font><font color="#CC0000">messages</font><font color="#CC0000"> </font><font color="#CC0000">needing</font><font color="#CC0000"> </font><font color="#CC0000">reply</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 13 </font></span><font color="#006699"><strong>FUNC</strong></font> getReplyMsgs <font color="#000000"><strong>(</strong></font> <font color="#009966"><strong>msgq</strong></font> replylist <font color="#000000"><strong>)</strong></font> $[
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 14 </font></span> <font color="#009966"><strong>msgq</strong></font> <font color="#0099FF"><strong>--</strong></font> <font color="#6600CC">@@msgq</font> <font color="#0099FF"><strong>-query</strong></font> <font color="#0099FF"><strong>-reply</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#6600CC">@@replylist</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 15 </font></span>]$
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 16 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 17 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">get</font><font color="#CC0000"> </font><font color="#CC0000">messages,</font><font color="#CC0000"> </font><font color="#CC0000">walk</font><font color="#CC0000"> </font><font color="#CC0000">list</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">offer</font><font color="#CC0000"> </font><font color="#CC0000">user</font><font color="#CC0000"> </font><font color="#CC0000">chance</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">reply</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">each</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 18 </font></span><font color="#006699"><strong>FUNC</strong></font> autoreply <font color="#000000"><strong>(</strong></font> <font color="#009966"><strong>system</strong></font> <font color="#009966"><strong>user</strong></font> password ifspath <font color="#000000"><strong>)</strong></font> $[
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 19 </font></span> <font color="#006699"><strong>LOCAL</strong></font> <font color="#CC00CC">@msgq</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#CC00CC">@replylist</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#CC00CC">@key</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 20 </font></span> <font color="#006699"><strong>LOCAL</strong></font> <font color="#CC00CC">@answer</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#CC00CC">@tf</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#CC00CC">@reply</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 21 </font></span> getMsgQ <font color="#000000"><strong>(</strong></font> <font color="#6600CC">@@system</font> <font color="#6600CC">@@user</font> <font color="#6600CC">@@password</font> <font color="#6600CC">@@ifspath</font> <font color="#CC00CC">@msgq</font> <font color="#000000"><strong>)</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 22 </font></span> getReplyMsgs <font color="#000000"><strong>(</strong></font> <font color="#CC00CC">@msgq</font> <font color="#CC00CC">@replylist</font> <font color="#000000"><strong>)</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 23 </font></span> <font color="#006699"><strong>FOR</strong></font> <font color="#CC00CC">@msg</font> in <font color="#CC00CC">@replylist</font> $[
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 24 </font></span> <font color="#009966"><strong>msg</strong></font> <font color="#0099FF"><strong>--</strong></font> <font color="#CC00CC">@msg</font> <font color="#0099FF"><strong>-to</strong></font> <font color="#CC00CC">@key</font> <font color="#0099FF"><strong>-key</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 25 </font></span> <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#CC00CC">@msg</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 26 </font></span> <font color="#009966"><strong>ask</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#CC00CC">@answer</font> <font color="#0099FF"><strong>-say</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">Do</font><font color="#FF00CC"> </font><font color="#FF00CC">you</font><font color="#FF00CC"> </font><font color="#FF00CC">wish</font><font color="#FF00CC"> </font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">reply</font><font color="#FF00CC"> </font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">this</font><font color="#FF00CC"> </font><font color="#FF00CC">message?</font><font color="#FF00CC"> </font><font color="#FF00CC">(y/n)</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 27 </font></span> <font color="#009966"><strong>test</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#CC00CC">@tf</font> <font color="#0099FF"><strong>-eq</strong></font> <font color="#CC00CC">@answer</font> y
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 28 </font></span> <font color="#006699"><strong>IF</strong></font> <font color="#CC00CC">@tf</font> <font color="#006699"><strong>THEN</strong></font> $[
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 29 </font></span> <font color="#009966"><strong>ask</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#CC00CC">@reply</font> <font color="#0099FF"><strong>-say</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">Please</font><font color="#FF00CC"> </font><font color="#FF00CC">enter</font><font color="#FF00CC"> </font><font color="#FF00CC">your</font><font color="#FF00CC"> </font><font color="#FF00CC">reply</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 30 </font></span> <font color="#009966"><strong>msgq</strong></font> <font color="#0099FF"><strong>--</strong></font> <font color="#CC00CC">@msgq</font> <font color="#0099FF"><strong>-sendreplybinkey</strong></font> <font color="#CC00CC">@key</font> <font color="#CC00CC">@reply</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 31 </font></span> <font color="#009966"><strong>put</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">Reply</font><font color="#FF00CC"> </font><font color="#FF00CC">sent.</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 32 </font></span> ]$
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 33 </font></span> ]$
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 34 </font></span>]$
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 35 </font></span>
</font>
</pre><br>
  This program would still require understanding of Ublu to load
  and execute, but our help desk operator doesn't have to deal with
  that. As noted above, the Ublu <a href=
  "ubluref.html#gensh"><tt>gensh</tt></a> command can generate a
  shell script so that autoreply can become for the help desk
  operator effectively a shell command that takes options to
  identify system and queue.

  <h3><tt>examples/autoreply.sh</tt></h3>
  <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">autoreply.sh</font><font color="#CC0000"> </font><font color="#CC0000">...</font><font color="#CC0000"> </font><font color="#CC0000">Find</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">reply</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">all</font><font color="#CC0000"> </font><font color="#CC0000">*INQ</font><font color="#CC0000"> </font><font color="#CC0000">&amp;</font><font color="#CC0000"> </font><font color="#CC0000">*NOTIFY</font><font color="#CC0000"> </font><font color="#CC0000">messages</font><font color="#CC0000"> </font><font color="#CC0000">in</font><font color="#CC0000"> </font><font color="#CC0000">a</font><font color="#CC0000"> </font><font color="#CC0000">given</font><font color="#CC0000"> </font><font color="#CC0000">MSGQ</font><font color="#CC0000"> </font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">autogenerated</font><font color="#CC0000"> </font><font color="#CC0000">Wed</font><font color="#CC0000"> </font><font color="#CC0000">Mar</font><font color="#CC0000"> </font><font color="#CC0000">09</font><font color="#CC0000"> </font><font color="#CC0000">19:26:19</font><font color="#CC0000"> </font><font color="#CC0000">MST</font><font color="#CC0000"> </font><font color="#CC0000">2016</font><font color="#CC0000"> </font><font color="#CC0000">by</font><font color="#CC0000"> </font><font color="#CC0000">jax</font><font color="#CC0000"> </font><font color="#CC0000">using</font><font color="#CC0000"> </font><font color="#CC0000">command:</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   3 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">gensh</font><font color="#CC0000"> </font><font color="#CC0000">-to</font><font color="#CC0000"> </font><font color="#CC0000">autoreply.sh</font><font color="#CC0000"> </font><font color="#CC0000">-path</font><font color="#CC0000"> </font><font color="#CC0000">/opt/ublu/ublu.jar</font><font color="#CC0000"> </font><font color="#CC0000">-optr</font><font color="#CC0000"> </font><font color="#CC0000">s</font><font color="#CC0000"> </font><font color="#CC0000">SERVER</font><font color="#CC0000"> </font><font color="#CC0000">@server</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">Server</font><font color="#CC0000"> </font><font color="#CC0000">}$</font><font color="#CC0000"> </font><font color="#CC0000">-optr</font><font color="#CC0000"> </font><font color="#CC0000">u</font><font color="#CC0000"> </font><font color="#CC0000">USER</font><font color="#CC0000"> </font><font color="#CC0000">@user</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">User</font><font color="#CC0000"> </font><font color="#CC0000">}$</font><font color="#CC0000"> </font><font color="#CC0000">-optr</font><font color="#CC0000"> </font><font color="#CC0000">p</font><font color="#CC0000"> </font><font color="#CC0000">PASSWORD</font><font color="#CC0000"> </font><font color="#CC0000">@password</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">Password</font><font color="#CC0000"> </font><font color="#CC0000">}$</font><font color="#CC0000"> </font><font color="#CC0000">-optr</font><font color="#CC0000"> </font><font color="#CC0000">q</font><font color="#CC0000"> </font><font color="#CC0000">QPATHIFS</font><font color="#CC0000"> </font><font color="#CC0000">@qpathifs</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">IFS</font><font color="#CC0000"> </font><font color="#CC0000">path</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">message</font><font color="#CC0000"> </font><font color="#CC0000">queue,</font><font color="#CC0000"> </font><font color="#CC0000">e.g.,</font><font color="#CC0000"> </font><font color="#CC0000">/QSYS.LIB/QSYSOPR.MSGQ</font><font color="#CC0000"> </font><font color="#CC0000">or</font><font color="#CC0000"> </font><font color="#CC0000">/QSYS.LIB/QUSRSYS.LIB/MYUSERID.MSGQ</font><font color="#CC0000"> </font><font color="#CC0000">}$</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">autoreply.sh</font><font color="#CC0000"> </font><font color="#CC0000">...</font><font color="#CC0000"> </font><font color="#CC0000">Find</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">reply</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">all</font><font color="#CC0000"> </font><font color="#CC0000">*INQ</font><font color="#CC0000"> </font><font color="#CC0000">&amp;</font><font color="#CC0000"> </font><font color="#CC0000">*NOTIFY</font><font color="#CC0000"> </font><font color="#CC0000">messages</font><font color="#CC0000"> </font><font color="#CC0000">in</font><font color="#CC0000"> </font><font color="#CC0000">a</font><font color="#CC0000"> </font><font color="#CC0000">given</font><font color="#CC0000"> </font><font color="#CC0000">MSGQ</font><font color="#CC0000"> </font><font color="#CC0000">}$</font><font color="#CC0000"> </font><font color="#CC0000">/opt/ublu/examples/autoreply.ublu</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">autoreply</font><font color="#CC0000"> </font><font color="#CC0000">(</font><font color="#CC0000"> </font><font color="#CC0000">@server</font><font color="#CC0000"> </font><font color="#CC0000">@user</font><font color="#CC0000"> </font><font color="#CC0000">@password</font><font color="#CC0000"> </font><font color="#CC0000">@qpathifs</font><font color="#CC0000"> </font><font color="#CC0000">)</font><font color="#CC0000"> </font><font color="#CC0000">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   4 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">   5 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Usage</font><font color="#CC0000"> </font><font color="#CC0000">message</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   6 </font></span>function usage { 
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   7 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">autoreply</font><font color="#FF00CC">.</font><font color="#FF00CC">sh</font><font color="#FF00CC"> </font><font color="#FF00CC">.</font><font color="#FF00CC">.</font><font color="#FF00CC">.</font><font color="#FF00CC"> </font><font color="#FF00CC">Find</font><font color="#FF00CC"> </font><font color="#FF00CC">and</font><font color="#FF00CC"> </font><font color="#FF00CC">reply</font><font color="#FF00CC"> </font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">all</font><font color="#FF00CC"> </font><font color="#FF00CC">*</font><font color="#FF00CC">INQ</font><font color="#FF00CC"> </font><font color="#FF00CC">&amp;</font><font color="#FF00CC"> </font><font color="#FF00CC">*</font><font color="#FF00CC">NOTIFY</font><font color="#FF00CC"> </font><font color="#FF00CC">messages</font><font color="#FF00CC"> </font><font color="#FF00CC">in</font><font color="#FF00CC"> </font><font color="#FF00CC">a</font><font color="#FF00CC"> </font><font color="#FF00CC">given</font><font color="#FF00CC"> </font><font color="#FF00CC">MSGQ</font><font color="#FF00CC"> </font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   8 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">This</font><font color="#FF00CC"> </font><font color="#FF00CC">shell</font><font color="#FF00CC"> </font><font color="#FF00CC">script</font><font color="#FF00CC"> </font><font color="#FF00CC">was</font><font color="#FF00CC"> </font><font color="#FF00CC">autogenerated</font><font color="#FF00CC"> </font><font color="#FF00CC">Wed</font><font color="#FF00CC"> </font><font color="#FF00CC">Mar</font><font color="#FF00CC"> </font><font color="#FF00CC">09</font><font color="#FF00CC"> </font><font color="#FF00CC">19</font><font color="#FF00CC">:</font><font color="#FF00CC">26</font><font color="#FF00CC">:</font><font color="#FF00CC">19</font><font color="#FF00CC"> </font><font color="#FF00CC">MST</font><font color="#FF00CC"> </font><font color="#FF00CC">2016</font><font color="#FF00CC"> </font><font color="#FF00CC">by</font><font color="#FF00CC"> </font><font color="#FF00CC">jax</font><font color="#FF00CC">.</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">   9 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">Usage</font><font color="#FF00CC">:</font><font color="#FF00CC"> </font><font color="#009966"><strong>$</strong></font><font color="#009966"><strong>0</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">[</font><font color="#FF00CC">silent</font><font color="#FF00CC">]</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">h</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">s</font><font color="#FF00CC"> </font><font color="#FF00CC">SERVER</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">u</font><font color="#FF00CC"> </font><font color="#FF00CC">USER</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">p</font><font color="#FF00CC"> </font><font color="#FF00CC">PASSWORD</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">q</font><font color="#FF00CC"> </font><font color="#FF00CC">QPATHIFS</font><font color="#FF00CC"> </font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  10 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">  </font><font color="#FF00CC">where</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  11 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">  </font><font color="#FF00CC">-</font><font color="#FF00CC">h</font><font color="#FF00CC">  </font><font color="#FF00CC">    </font><font color="#FF00CC">display</font><font color="#FF00CC"> </font><font color="#FF00CC">this</font><font color="#FF00CC"> </font><font color="#FF00CC">help</font><font color="#FF00CC"> </font><font color="#FF00CC">message</font><font color="#FF00CC"> </font><font color="#FF00CC">and</font><font color="#FF00CC"> </font><font color="#FF00CC">exit</font><font color="#FF00CC"> </font><font color="#FF00CC">0</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  12 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">  </font><font color="#FF00CC">-</font><font color="#FF00CC">s</font><font color="#FF00CC"> </font><font color="#FF00CC">SERVER</font><font color="#FF00CC">   </font><font color="#FF00CC">Server</font><font color="#FF00CC"> </font><font color="#FF00CC"> </font><font color="#FF00CC">(</font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC">)</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  13 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">  </font><font color="#FF00CC">-</font><font color="#FF00CC">u</font><font color="#FF00CC"> </font><font color="#FF00CC">USER</font><font color="#FF00CC"> </font><font color="#FF00CC">User</font><font color="#FF00CC"> </font><font color="#FF00CC"> </font><font color="#FF00CC">(</font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC">)</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  14 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">  </font><font color="#FF00CC">-</font><font color="#FF00CC">p</font><font color="#FF00CC"> </font><font color="#FF00CC">PASSWORD</font><font color="#FF00CC"> </font><font color="#FF00CC">Password</font><font color="#FF00CC"> </font><font color="#FF00CC"> </font><font color="#FF00CC">(</font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC">)</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  15 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">  </font><font color="#FF00CC">-</font><font color="#FF00CC">q</font><font color="#FF00CC"> </font><font color="#FF00CC">QPATHIFS</font><font color="#FF00CC"> </font><font color="#FF00CC">IFS</font><font color="#FF00CC"> </font><font color="#FF00CC">path</font><font color="#FF00CC"> </font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">message</font><font color="#FF00CC"> </font><font color="#FF00CC">queue</font><font color="#FF00CC">,</font><font color="#FF00CC"> </font><font color="#FF00CC">e</font><font color="#FF00CC">.</font><font color="#FF00CC">g</font><font color="#FF00CC">.</font><font color="#FF00CC">,</font><font color="#FF00CC"> </font><font color="#FF00CC">/</font><font color="#FF00CC">QSYS</font><font color="#FF00CC">.</font><font color="#FF00CC">LIB</font><font color="#FF00CC">/</font><font color="#FF00CC">QSYSOPR</font><font color="#FF00CC">.</font><font color="#FF00CC">MSGQ</font><font color="#FF00CC"> </font><font color="#FF00CC">or</font><font color="#FF00CC"> </font><font color="#FF00CC">/</font><font color="#FF00CC">QSYS</font><font color="#FF00CC">.</font><font color="#FF00CC">LIB</font><font color="#FF00CC">/</font><font color="#FF00CC">QUSRSYS</font><font color="#FF00CC">.</font><font color="#FF00CC">LIB</font><font color="#FF00CC">/</font><font color="#FF00CC">MYUSERID</font><font color="#FF00CC">.</font><font color="#FF00CC">MSGQ</font><font color="#FF00CC"> </font><font color="#FF00CC"> </font><font color="#FF00CC">(</font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC">)</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  16 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">-</font><font color="#FF00CC">-</font><font color="#FF00CC">-</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  17 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">If</font><font color="#FF00CC"> </font><font color="#FF00CC">the</font><font color="#FF00CC"> </font><font color="#FF00CC">keyword</font><font color="#FF00CC"> </font><font color="#FF00CC">'</font><font color="#FF00CC">silent</font><font color="#FF00CC">'</font><font color="#FF00CC"> </font><font color="#FF00CC">appears</font><font color="#FF00CC"> </font><font color="#FF00CC">ahead</font><font color="#FF00CC"> </font><font color="#FF00CC">of</font><font color="#FF00CC"> </font><font color="#FF00CC">all</font><font color="#FF00CC"> </font><font color="#FF00CC">options</font><font color="#FF00CC">,</font><font color="#FF00CC"> </font><font color="#FF00CC">then</font><font color="#FF00CC"> </font><font color="#FF00CC">included</font><font color="#FF00CC"> </font><font color="#FF00CC">files</font><font color="#FF00CC"> </font><font color="#FF00CC">will</font><font color="#FF00CC"> </font><font color="#FF00CC">not</font><font color="#FF00CC"> </font><font color="#FF00CC">echo</font><font color="#FF00CC"> </font><font color="#FF00CC">and</font><font color="#FF00CC"> </font><font color="#FF00CC">prompting</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">suppressed</font><font color="#FF00CC">.</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  18 </font></span>echo <font color="#FF00CC">"</font><font color="#FF00CC">Exit</font><font color="#FF00CC"> </font><font color="#FF00CC">code</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">the</font><font color="#FF00CC"> </font><font color="#FF00CC">result</font><font color="#FF00CC"> </font><font color="#FF00CC">of</font><font color="#FF00CC"> </font><font color="#FF00CC">execution</font><font color="#FF00CC">,</font><font color="#FF00CC"> </font><font color="#FF00CC">or</font><font color="#FF00CC"> </font><font color="#FF00CC">0</font><font color="#FF00CC"> </font><font color="#FF00CC">for</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">h</font><font color="#FF00CC"> </font><font color="#FF00CC">or</font><font color="#FF00CC"> </font><font color="#FF00CC">2</font><font color="#FF00CC"> </font><font color="#FF00CC">if</font><font color="#FF00CC"> </font><font color="#FF00CC">there</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">an</font><font color="#FF00CC"> </font><font color="#FF00CC">error</font><font color="#FF00CC"> </font><font color="#FF00CC">in</font><font color="#FF00CC"> </font><font color="#FF00CC">processing</font><font color="#FF00CC"> </font><font color="#FF00CC">options</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  19 </font></span>}
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  20 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  21 </font></span><font color="#CC0000">#</font><font color="#CC0000">Test</font><font color="#CC0000"> </font><font color="#CC0000">if</font><font color="#CC0000"> </font><font color="#CC0000">user</font><font color="#CC0000"> </font><font color="#CC0000">wants</font><font color="#CC0000"> </font><font color="#CC0000">silent</font><font color="#CC0000"> </font><font color="#CC0000">includes</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  22 </font></span><font color="#006699"><strong>if</strong></font> [ <font color="#FF00CC">"</font><font color="#009966"><strong>$</strong></font><font color="#009966"><strong>1</strong></font><font color="#FF00CC">"</font> <font color="#000000"><strong>=</strong></font><font color="#000000"><strong>=</strong></font> <font color="#FF00CC">"</font><font color="#FF00CC">silent</font><font color="#FF00CC">"</font> ]
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  23 </font></span><font color="#006699"><strong>then</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  24 </font></span>    <font color="#009966"><strong>SILENT</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#FF00CC">-</font><font color="#FF00CC">silent</font><font color="#FF00CC"> </font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  25 </font></span>    shift
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  26 </font></span><font color="#006699"><strong>else</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  27 </font></span>    <font color="#009966"><strong>SILENT</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  28 </font></span><font color="#006699"><strong>fi</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  29 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  30 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Process</font><font color="#CC0000"> </font><font color="#CC0000">options</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  31 </font></span><font color="#006699"><strong>while</strong></font> getopts s:u:p:q:h the_opt
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  32 </font></span><font color="#006699"><strong>do</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  33 </font></span>    <font color="#006699"><strong>case</strong></font> <font color="#FF00CC">"</font><font color="#009966"><strong>$</strong></font><font color="#009966"><strong>the_opt</strong></font><font color="#FF00CC">"</font> <font color="#006699"><strong>in</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  34 </font></span>        s<font color="#000000"><strong>)</strong></font>  <font color="#009966"><strong>SERVER</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>$</strong></font><font color="#009966"><strong>OPTARG</strong></font><font color="#FF00CC">"</font><font color="#000000"><strong>;;</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  35 </font></span>        u<font color="#000000"><strong>)</strong></font>  <font color="#009966"><strong>USER</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>$</strong></font><font color="#009966"><strong>OPTARG</strong></font><font color="#FF00CC">"</font><font color="#000000"><strong>;;</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  36 </font></span>        p<font color="#000000"><strong>)</strong></font>  <font color="#009966"><strong>PASSWORD</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>$</strong></font><font color="#009966"><strong>OPTARG</strong></font><font color="#FF00CC">"</font><font color="#000000"><strong>;;</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  37 </font></span>        q<font color="#000000"><strong>)</strong></font>  <font color="#009966"><strong>QPATHIFS</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>$</strong></font><font color="#009966"><strong>OPTARG</strong></font><font color="#FF00CC">"</font><font color="#000000"><strong>;;</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  38 </font></span>        h<font color="#000000"><strong>)</strong></font>  usage;exit 0;;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  39 </font></span>        [?]<font color="#000000"><strong>)</strong></font>    usage;exit 2;;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  40 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  41 </font></span>    <font color="#006699"><strong>esac</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  42 </font></span><font color="#006699"><strong>done</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  43 </font></span>shift <font color="#0099FF"><strong>`</strong></font><font color="#0099FF"><strong>expr</strong></font><font color="#0099FF"><strong> </strong></font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>OPTIND</strong></font><font color="#009966"><strong>}</strong></font><font color="#0099FF"><strong> </strong></font><font color="#0099FF"><strong>-</strong></font><font color="#0099FF"><strong> </strong></font><font color="#0099FF"><strong>1</strong></font><font color="#0099FF"><strong>`</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  44 </font></span><font color="#006699"><strong>if</strong></font> [ <font color="#009966"><strong>$#</strong></font> -ne <font color="#FF0000">0</font> ]
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  45 </font></span><font color="#006699"><strong>then</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  46 </font></span>    echo <font color="#FF00CC">"</font><font color="#FF00CC">Superfluous</font><font color="#FF00CC"> </font><font color="#FF00CC">argument</font><font color="#FF00CC">(</font><font color="#FF00CC">s</font><font color="#FF00CC">)</font><font color="#FF00CC"> </font><font color="#009966"><strong>$</strong></font><font color="#FF00CC">*</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  47 </font></span>    usage
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  48 </font></span>    exit <font color="#FF0000">2</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  49 </font></span><font color="#006699"><strong>fi</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  50 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  51 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Translate</font><font color="#CC0000"> </font><font color="#CC0000">options</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">tuple</font><font color="#CC0000"> </font><font color="#CC0000">assignments</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  52 </font></span><font color="#006699"><strong>if</strong></font> [ <font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>SERVER</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">"</font> <font color="#000000"><strong>!</strong></font><font color="#000000"><strong>=</strong></font> <font color="#FF00CC">"</font><font color="#FF00CC">"</font> ]
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  53 </font></span><font color="#006699"><strong>then</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  54 </font></span>    <font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">string</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">@</font><font color="#FF00CC">server</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">trim</font><font color="#FF00CC"> </font><font color="#FF00CC">\$</font><font color="#FF00CC">{</font><font color="#FF00CC"> </font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>SERVER</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">}</font><font color="#009966"><strong>$</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  55 </font></span><font color="#006699"><strong>else</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  56 </font></span>    echo <font color="#FF00CC">"</font><font color="#FF00CC">Option</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">s</font><font color="#FF00CC"> </font><font color="#FF00CC">SERVER</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">a</font><font color="#FF00CC"> </font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC"> </font><font color="#FF00CC">but</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">not</font><font color="#FF00CC"> </font><font color="#FF00CC">present</font><font color="#FF00CC">.</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  57 </font></span>    usage
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  58 </font></span>    exit <font color="#FF0000">2</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  59 </font></span><font color="#006699"><strong>fi</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  60 </font></span><font color="#006699"><strong>if</strong></font> [ <font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>USER</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">"</font> <font color="#000000"><strong>!</strong></font><font color="#000000"><strong>=</strong></font> <font color="#FF00CC">"</font><font color="#FF00CC">"</font> ]
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  61 </font></span><font color="#006699"><strong>then</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  62 </font></span>    <font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">string</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">@</font><font color="#FF00CC">user</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">trim</font><font color="#FF00CC"> </font><font color="#FF00CC">\$</font><font color="#FF00CC">{</font><font color="#FF00CC"> </font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>USER</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">}</font><font color="#009966"><strong>$</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  63 </font></span><font color="#006699"><strong>else</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  64 </font></span>    echo <font color="#FF00CC">"</font><font color="#FF00CC">Option</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">u</font><font color="#FF00CC"> </font><font color="#FF00CC">USER</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">a</font><font color="#FF00CC"> </font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC"> </font><font color="#FF00CC">but</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">not</font><font color="#FF00CC"> </font><font color="#FF00CC">present</font><font color="#FF00CC">.</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  65 </font></span>    usage
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  66 </font></span>    exit <font color="#FF0000">2</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  67 </font></span><font color="#006699"><strong>fi</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  68 </font></span><font color="#006699"><strong>if</strong></font> [ <font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>PASSWORD</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">"</font> <font color="#000000"><strong>!</strong></font><font color="#000000"><strong>=</strong></font> <font color="#FF00CC">"</font><font color="#FF00CC">"</font> ]
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  69 </font></span><font color="#006699"><strong>then</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  70 </font></span>    <font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">string</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">@</font><font color="#FF00CC">password</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">trim</font><font color="#FF00CC"> </font><font color="#FF00CC">\$</font><font color="#FF00CC">{</font><font color="#FF00CC"> </font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>PASSWORD</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">}</font><font color="#009966"><strong>$</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  71 </font></span><font color="#006699"><strong>else</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  72 </font></span>    echo <font color="#FF00CC">"</font><font color="#FF00CC">Option</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">p</font><font color="#FF00CC"> </font><font color="#FF00CC">PASSWORD</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">a</font><font color="#FF00CC"> </font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC"> </font><font color="#FF00CC">but</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">not</font><font color="#FF00CC"> </font><font color="#FF00CC">present</font><font color="#FF00CC">.</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  73 </font></span>    usage
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  74 </font></span>    exit <font color="#FF0000">2</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  75 </font></span><font color="#006699"><strong>fi</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  76 </font></span><font color="#006699"><strong>if</strong></font> [ <font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>QPATHIFS</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">"</font> <font color="#000000"><strong>!</strong></font><font color="#000000"><strong>=</strong></font> <font color="#FF00CC">"</font><font color="#FF00CC">"</font> ]
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  77 </font></span><font color="#006699"><strong>then</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  78 </font></span>    <font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#000000"><strong>=</strong></font><font color="#FF00CC">"</font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>gensh_runtime_opts</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC">string</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">@</font><font color="#FF00CC">qpathifs</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">trim</font><font color="#FF00CC"> </font><font color="#FF00CC">\$</font><font color="#FF00CC">{</font><font color="#FF00CC"> </font><font color="#009966"><strong>${</strong></font><font color="#009966"><strong>QPATHIFS</strong></font><font color="#009966"><strong>}</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">}</font><font color="#009966"><strong>$</strong></font><font color="#FF00CC"> </font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  79 </font></span><font color="#006699"><strong>else</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  80 </font></span>    echo <font color="#FF00CC">"</font><font color="#FF00CC">Option</font><font color="#FF00CC"> </font><font color="#FF00CC">-</font><font color="#FF00CC">q</font><font color="#FF00CC"> </font><font color="#FF00CC">QPATHIFS</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">a</font><font color="#FF00CC"> </font><font color="#FF00CC">required</font><font color="#FF00CC"> </font><font color="#FF00CC">option</font><font color="#FF00CC"> </font><font color="#FF00CC">but</font><font color="#FF00CC"> </font><font color="#FF00CC">is</font><font color="#FF00CC"> </font><font color="#FF00CC">not</font><font color="#FF00CC"> </font><font color="#FF00CC">present</font><font color="#FF00CC">.</font><font color="#FF00CC">"</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  81 </font></span>    usage
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  82 </font></span>    exit <font color="#FF0000">2</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  83 </font></span><font color="#006699"><strong>fi</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  84 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">  85 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Invocation</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  86 </font></span>java -jar /opt/ublu/ublu.jar <font color="#009966"><strong>${</strong></font><font color="#FF00CC">gensh_runtime_opts</font><font color="#009966"><strong>}</strong></font> include <font color="#009966"><strong>${</strong></font><font color="#FF00CC">SILENT</font><font color="#009966"><strong>}</strong></font>/opt/ublu/examples/autoreply.ublu autoreply \<font color="#000000"><strong>(</strong></font> @server @user @password @qpathifs \<font color="#000000"><strong>)</strong></font> 
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  87 </font></span>exit <font color="#009966"><strong>$?</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">  88 </font></span>
</font>
</pre>

  <h2>Notes</h2>

  <h3><a name=
  "ublu.util.Interpreter.loop"></a><tt>ublu.util.Interpreter.loop()</tt></h3>
  <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1038 </font></span>    <font color="#6600CC">/**</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1039 </font></span><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC">*</font><font color="#6600CC"> </font><font color="#6600CC">The</font><font color="#6600CC"> </font><font color="#6600CC">processing</font><font color="#6600CC"> </font><font color="#6600CC">loop</font><font color="#6600CC">,</font><font color="#6600CC"> </font><font color="#6600CC">processes</font><font color="#6600CC"> </font><font color="#6600CC">all</font><font color="#6600CC"> </font><font color="#6600CC">the</font><font color="#6600CC"> </font><font color="#6600CC">input</font><font color="#6600CC"> </font><font color="#6600CC">for</font><font color="#6600CC"> </font><font color="#6600CC">a</font><font color="#6600CC"> </font><font color="#6600CC">line</font><font color="#6600CC"> </font><font color="#6600CC">until</font><font color="#6600CC"> </font><font color="#6600CC">exhausted</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1040 </font></span><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC">*</font><font color="#6600CC"> </font><font color="#6600CC">or</font><font color="#6600CC"> </font><font color="#6600CC">until</font><font color="#6600CC"> </font><font color="#6600CC">a</font><font color="#6600CC"> </font><font color="#6600CC">command</font><font color="#6600CC"> </font><font color="#6600CC">returns</font><font color="#6600CC"> </font><font color="#6600CC">a</font><font color="#6600CC"> </font><font color="#6600CC">command</font><font color="#6600CC"> </font><font color="#6600CC">result</font><font color="#6600CC"> </font><font color="#6600CC">indicating</font><font color="#6600CC"> </font><font color="#6600CC">failure</font><font color="#6600CC">.</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1041 </font></span><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC">*</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1042 </font></span><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC">*</font><font color="#6600CC"> </font><font color="#02B902">@return</font><font color="#6600CC"> </font><font color="#6600CC">the</font><font color="#6600CC"> </font><font color="#6600CC">last</font><font color="#6600CC"> </font><font color="#6600CC">command</font><font color="#6600CC"> </font><font color="#6600CC">result</font><font color="#6600CC"> </font><font color="#6600CC">indicating</font><font color="#6600CC"> </font><font color="#6600CC">success</font><font color="#6600CC"> </font><font color="#6600CC">or</font><font color="#6600CC"> </font><font color="#6600CC">failure</font><font color="#6600CC">.</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1043 </font></span><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC"> </font><font color="#6600CC">*/</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1044 </font></span>    <font color="#009966"><strong>public</strong></font> COMMANDRESULT <font color="#9966FF">loop</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1045 </font></span>        COMMANDRESULT lastCommandResult <font color="#000000"><strong>=</strong></font> COMMANDRESULT.SUCCESS;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1046 </font></span>        String initialCommandLine <font color="#000000"><strong>=</strong></font> <font color="#9966FF">getArgArray</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">toHistoryLine</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1047 </font></span>        <font color="#006699"><strong>while</strong></font> <font color="#000000"><strong>(</strong></font><font color="#000000"><strong>!</strong></font><font color="#9966FF">getArgArray</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">isEmpty</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>&amp;</strong></font><font color="#000000"><strong>&amp;</strong></font> <font color="#000000"><strong>!</strong></font>good_bye <font color="#000000"><strong>&amp;</strong></font><font color="#000000"><strong>&amp;</strong></font> <font color="#000000"><strong>!</strong></font><font color="#9966FF">isBreakIssued</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1048 </font></span>            String commandName <font color="#000000"><strong>=</strong></font> <font color="#9966FF">getArgArray</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">next</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">trim</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1049 </font></span>            <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font>commandName.<font color="#9966FF">equals</font><font color="#000000"><strong>(</strong></font><font color="#FF00CC">"</font><font color="#FF00CC">"</font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1050 </font></span>                <font color="#006699"><strong>continue</strong></font>; <font color="#FF8400">//</font><font color="#FF8400"> </font><font color="#FF8400">cr</font><font color="#FF8400"> </font><font color="#FF8400">or</font><font color="#FF8400"> </font><font color="#FF8400">some</font><font color="#FF8400"> </font><font color="#FF8400">sort</font><font color="#FF8400"> </font><font color="#FF8400">of</font><font color="#FF8400"> </font><font color="#FF8400">whitespace</font><font color="#FF8400"> </font><font color="#FF8400">got</font><font color="#FF8400"> </font><font color="#FF8400">parsed,</font><font color="#FF8400"> </font><font color="#FF8400">skip</font><font color="#FF8400"> </font><font color="#FF8400">to</font><font color="#FF8400"> </font><font color="#FF8400">next</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1051 </font></span>            <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1052 </font></span>            <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font><font color="#9966FF">getCmdMap</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">containsKey</font><font color="#000000"><strong>(</strong></font>commandName<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1053 </font></span>                CommandInterface command <font color="#000000"><strong>=</strong></font> <font color="#9966FF">getCmd</font><font color="#000000"><strong>(</strong></font><font color="#CC00CC">this</font>, commandName<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1054 </font></span>                <font color="#006699"><strong>try</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1055 </font></span>                    <font color="#9966FF">setArgArray</font><font color="#000000"><strong>(</strong></font>command.<font color="#9966FF">cmd</font><font color="#000000"><strong>(</strong></font><font color="#9966FF">getArgArray</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1056 </font></span>                    lastCommandResult <font color="#000000"><strong>=</strong></font> command.<font color="#9966FF">getResult</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1057 </font></span>                    <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font>lastCommandResult <font color="#000000"><strong>=</strong></font><font color="#000000"><strong>=</strong></font> COMMANDRESULT.FAILURE<font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1058 </font></span>                        <font color="#006699"><strong>break</strong></font>; <font color="#FF8400">//</font><font color="#FF8400"> </font><font color="#FF8400">we</font><font color="#FF8400"> </font><font color="#FF8400">exit</font><font color="#FF8400"> </font><font color="#FF8400">the</font><font color="#FF8400"> </font><font color="#FF8400">loop</font><font color="#FF8400"> </font><font color="#FF8400">on</font><font color="#FF8400"> </font><font color="#FF8400">error</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1059 </font></span>                    <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1060 </font></span>                <font color="#000000"><strong>}</strong></font> <font color="#006699"><strong>catch</strong></font> <font color="#000000"><strong>(</strong></font>IllegalArgumentException ex<font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1061 </font></span>                    <font color="#9966FF">getLogger</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">log</font><font color="#000000"><strong>(</strong></font>Level.SEVERE, <font color="#FF00CC">"</font><font color="#FF00CC">Command</font><font color="#FF00CC"> </font><font color="#6600CC">\"</font><font color="#FF00CC">"</font> <font color="#000000"><strong>+</strong></font> commandName <font color="#000000"><strong>+</strong></font> <font color="#FF00CC">"</font><font color="#6600CC">\"</font><font color="#FF00CC"> </font><font color="#FF00CC">threw</font><font color="#FF00CC"> </font><font color="#FF00CC">exception</font><font color="#FF00CC">"</font>, ex<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1062 </font></span>                    lastCommandResult <font color="#000000"><strong>=</strong></font> COMMANDRESULT.FAILURE;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1063 </font></span>                    <font color="#006699"><strong>break</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1064 </font></span>                <font color="#000000"><strong>}</strong></font> <font color="#006699"><strong>catch</strong></font> <font color="#000000"><strong>(</strong></font>java.lang.RuntimeException ex<font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1065 </font></span>                    <font color="#CC0000">/*</font><font color="#CC0000"> </font><font color="#CC0000">java.net.UnknownHostException</font><font color="#CC0000"> </font><font color="#CC0000">lands</font><font color="#CC0000"> </font><font color="#CC0000">here,</font><font color="#CC0000"> </font><font color="#CC0000">as</font><font color="#CC0000"> </font><font color="#CC0000">well</font><font color="#CC0000"> </font><font color="#CC0000">as</font><font color="#CC0000"> </font><font color="#CC0000"> </font><font color="#CC0000">*/</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1066 </font></span> <font color="#CC0000">/*</font><font color="#CC0000"> </font><font color="#CC0000">com.ibm.as400.access.ExtendedIllegalArgumentException</font><font color="#CC0000"> </font><font color="#CC0000">*/</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1067 </font></span>                    <font color="#9966FF">getLogger</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">log</font><font color="#000000"><strong>(</strong></font>Level.SEVERE, <font color="#FF00CC">"</font><font color="#FF00CC">Command</font><font color="#FF00CC"> </font><font color="#6600CC">\"</font><font color="#FF00CC">"</font> <font color="#000000"><strong>+</strong></font> commandName <font color="#000000"><strong>+</strong></font> <font color="#FF00CC">"</font><font color="#6600CC">\"</font><font color="#FF00CC"> </font><font color="#FF00CC">threw</font><font color="#FF00CC"> </font><font color="#FF00CC">exception</font><font color="#FF00CC">"</font>, ex<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1068 </font></span>                    lastCommandResult <font color="#000000"><strong>=</strong></font> COMMANDRESULT.FAILURE;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1069 </font></span>                    <font color="#006699"><strong>break</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1070 </font></span>                <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1071 </font></span>            <font color="#000000"><strong>}</strong></font> <font color="#006699"><strong>else</strong></font> <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font><font color="#9966FF">getFunctorMap</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">containsKey</font><font color="#000000"><strong>(</strong></font>commandName<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1072 </font></span>                <font color="#006699"><strong>try</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1073 </font></span>                    TupleNameList tnl <font color="#000000"><strong>=</strong></font> <font color="#9966FF">parseTupleNameList</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1074 </font></span>                    <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font>tnl <font color="#000000"><strong>!</strong></font><font color="#000000"><strong>=</strong></font> <font color="#CC00CC">null</font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1075 </font></span>                        lastCommandResult <font color="#000000"><strong>=</strong></font> <font color="#9966FF">executeFunctor</font><font color="#000000"><strong>(</strong></font><font color="#9966FF">getFunctor</font><font color="#000000"><strong>(</strong></font>commandName<font color="#000000"><strong>)</strong></font>, tnl<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1076 </font></span>                        <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font>lastCommandResult <font color="#000000"><strong>=</strong></font><font color="#000000"><strong>=</strong></font> COMMANDRESULT.FAILURE<font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1077 </font></span>                            <font color="#006699"><strong>break</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1078 </font></span>                        <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1079 </font></span>                    <font color="#000000"><strong>}</strong></font> <font color="#006699"><strong>else</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1080 </font></span>                        <font color="#9966FF">getLogger</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">log</font><font color="#000000"><strong>(</strong></font>Level.SEVERE, <font color="#FF00CC">"</font><font color="#FF00CC">Found</font><font color="#FF00CC"> </font><font color="#FF00CC">function</font><font color="#FF00CC"> </font><font color="#FF00CC">{</font><font color="#FF00CC">0</font><font color="#FF00CC">}</font><font color="#FF00CC"> </font><font color="#FF00CC">but</font><font color="#FF00CC"> </font><font color="#FF00CC">could</font><font color="#FF00CC"> </font><font color="#FF00CC">not</font><font color="#FF00CC"> </font><font color="#FF00CC">execute</font><font color="#FF00CC"> </font><font color="#FF00CC">it</font><font color="#FF00CC">"</font>, commandName<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1081 </font></span>                        lastCommandResult <font color="#000000"><strong>=</strong></font> COMMANDRESULT.FAILURE;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1082 </font></span>                        <font color="#006699"><strong>break</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1083 </font></span>                    <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1084 </font></span>                <font color="#000000"><strong>}</strong></font> <font color="#006699"><strong>catch</strong></font> <font color="#000000"><strong>(</strong></font>java.lang.RuntimeException ex<font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1085 </font></span>                    <font color="#9966FF">getLogger</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">log</font><font color="#000000"><strong>(</strong></font>Level.SEVERE, <font color="#FF00CC">"</font><font color="#FF00CC">Function</font><font color="#FF00CC"> </font><font color="#6600CC">\"</font><font color="#FF00CC">"</font> <font color="#000000"><strong>+</strong></font> commandName <font color="#000000"><strong>+</strong></font> <font color="#FF00CC">"</font><font color="#6600CC">\"</font><font color="#FF00CC"> </font><font color="#FF00CC">threw</font><font color="#FF00CC"> </font><font color="#FF00CC">exception</font><font color="#FF00CC">"</font>, ex<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1086 </font></span>                    lastCommandResult <font color="#000000"><strong>=</strong></font> COMMANDRESULT.FAILURE;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1087 </font></span>                    <font color="#006699"><strong>break</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1088 </font></span>                <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1089 </font></span>            <font color="#000000"><strong>}</strong></font> <font color="#006699"><strong>else</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1090 </font></span>                <font color="#9966FF">getLogger</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">log</font><font color="#000000"><strong>(</strong></font>Level.SEVERE, <font color="#FF00CC">"</font><font color="#FF00CC">Command</font><font color="#FF00CC"> </font><font color="#6600CC">\"</font><font color="#FF00CC">{</font><font color="#FF00CC">0</font><font color="#FF00CC">}</font><font color="#6600CC">\"</font><font color="#FF00CC"> </font><font color="#FF00CC">not</font><font color="#FF00CC"> </font><font color="#FF00CC">found</font><font color="#FF00CC">.</font><font color="#FF00CC">"</font>, commandName<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1091 </font></span>                lastCommandResult <font color="#000000"><strong>=</strong></font> COMMANDRESULT.FAILURE;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1092 </font></span>                <font color="#006699"><strong>break</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1093 </font></span>            <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1094 </font></span>        <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1095 </font></span>        <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font><font color="#000000"><strong>!</strong></font><font color="#9966FF">isIncluding</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>&amp;</strong></font><font color="#000000"><strong>&amp;</strong></font> <font color="#000000"><strong>!</strong></font>initialCommandLine.<font color="#9966FF">isEmpty</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1096 </font></span>            <font color="#006699"><strong>if</strong></font> <font color="#000000"><strong>(</strong></font><font color="#9966FF">getHistory</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>!</strong></font><font color="#000000"><strong>=</strong></font> <font color="#CC00CC">null</font><font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1097 </font></span>                <font color="#006699"><strong>try</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1098 </font></span>                    <font color="#9966FF">getHistory</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">writeLine</font><font color="#000000"><strong>(</strong></font>initialCommandLine<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1099 </font></span>                <font color="#000000"><strong>}</strong></font> <font color="#006699"><strong>catch</strong></font> <font color="#000000"><strong>(</strong></font>IOException ex<font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>{</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1100 </font></span>                    <font color="#9966FF">getLogger</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">log</font><font color="#000000"><strong>(</strong></font>Level.WARNING, <font color="#FF00CC">"</font><font color="#FF00CC">Couldn</font><font color="#FF00CC">'</font><font color="#FF00CC">t</font><font color="#FF00CC"> </font><font color="#FF00CC">write</font><font color="#FF00CC"> </font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">history</font><font color="#FF00CC"> </font><font color="#FF00CC">file</font><font color="#FF00CC"> </font><font color="#FF00CC">"</font> <font color="#000000"><strong>+</strong></font> <font color="#9966FF">getHistory</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>.<font color="#9966FF">getHistoryFileName</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font>, ex<font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1101 </font></span>                <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1102 </font></span>            <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1103 </font></span>        <font color="#000000"><strong>}</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1104 </font></span>        <font color="#9966FF">setGlobal_ret_val</font><font color="#000000"><strong>(</strong></font>lastCommandResult.<font color="#9966FF">ordinal</font><font color="#000000"><strong>(</strong></font><font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">1105 </font></span>        <font color="#006699"><strong>return</strong></font> lastCommandResult;
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">1106 </font></span>    <font color="#000000"><strong>}</strong></font>
</font>
</pre><i>This guide is a work in progress ... continued ...</i><br>

  <br>
  <br>
</body>
</html>
