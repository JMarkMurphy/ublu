<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "tidyp for OpenBSD (v1.04), see www.w3.org">
  <meta name="generator" content=
  "HTML Tidy for Java (vers. 2009-12-01), see jtidy.sourceforge.net">
  <meta content="text/html; charset=us-ascii" http-equiv=
  "Content-Type">
  <meta http-equiv="Last-Modified" content=
  "Tue, 2 Aug 2016 15:01:46 UTC">

  <title>Ublu Midrange and Mainframe Life Cycle Extension
  Language</title>
  <meta content="Jack J. Woehr" name="author">
  <meta content=
  "Documenting usage of Ublu which is an extensible object-disoriented interpretive language for midrange and mainframe remote system programming"
  name="description">
  <meta http-equiv="content-type" content=
  "text/html; charset=us-ascii">
</head>

<body>
  <table width="100%" cellpadding="2" border="0" height="456"
  cellspacing="0">
    <tbody>
      <tr>
        <td valign="middle" bgcolor="#000000" align="center">
          <h1 align="center"><font color=
          "#33FFFF"><small><small>The concise reference to
          the</small></small><br>
          <big>Ublu</big><br>
          <small>Midrange and Mainframe<br>
          Life Cycle Extension
          Language</small></font></h1><font color="#66FFFF">An
          extensible object-disoriented interpretive language for
          midrange and mainframe remote system programming</font>
        </td>

        <th valign="middle" bgcolor="#000000" align="center">
        <img alt="NASA JPL Candle in Space" title=
        "NASA JPL Candle in Space" src="images/Candlespace.jpg"
        width="400" height="444"></th>

        <td valign="middle" bgcolor="#000000" align="center">
        <font color="#33FFFF">Copyright &#169; 2016 Jack. J.
        Woehr</font><br>
        <font color="#33FFFF">jwoehr@softwoehr.com<br>
        All Rights Reserved<br>
        <br>
        SoftWoehr LLC<br>
        http://www.softwoehr.com<br>
        PO Box 51<br>
        Golden, CO 80402-0051<br>
        USA</font></td>
      </tr>
    </tbody>
  </table>

  <p>Author: Jack J. Woehr<br>
  Original date: 2013-07-11<br>
  Last edit: 2016-08-02</p>
  <pre>
Copyright (c) 2015, Absolute Performance, Inc. http://www.absolute-performance.com
Copyright (c) 2016, Jack J. Woehr jwoehr@softwoehr.com http://www.softwoehr.com
All rights reserved.


Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre>

  <h2>Table of Contents</h2>

  <ul>
    <li>
      <a href="#Overview">Overview</a>

      <ul>
        <li><a href=
        "#Object-disoriented">Object-disoriented</a><br></li>
      </ul>
    </li>

    <li><a href="#Installation">Installation</a></li>

    <li>
      <a href="#Invocation">Invocation</a>

      <ul>
        <li><a href="#Memory_requirements">Memory
        requirements</a></li>
      </ul>
    </li>

    <li>
      <a href="#Interpreter">Interpreter</a>

      <ul>
        <li><a href="#Main_interpreter">Main interpreter</a></li>
      </ul>
    </li>

    <li><a href="#Commandline">Commandline</a></li>

    <li><a href="#Server_mode">Server mode</a></li>

    <li><a href="#Input_for_interpreter">Input</a><br></li>

    <li><a href="#Output">Output</a><br></li>

    <li><a href="#Executing_commands_from_a_file">Executing
    commands from a file</a></li>

    <li><a href="#Launch_your_application_from_a_shell">Launch your
    application from a shell script autogenerated via
    <tt>gensh</tt></a><br></li>

    <li><a href="#Debugger">Debugger</a><br></li>

    <li><a href="#Parsing_and_syntax">Parsing and syntax</a></li>

    <li><a href="#Quoted_strings">Quoted strings</a></li>

    <li>
      <a href="#Tuple_Variables">Tuple variables</a>

      <ul>
        <li><a href="#Tuple_naming">Tuple naming</a></li>

        <li><a href="#Tuple_autoinstancing">Tuple
        autoinstancing</a></li>
      </ul>
    </li>

    <li><a href="#Tuple_stack">Tuple stack</a><br></li>

    <li><a href="#Numbers">Numbers</a></li>

    <li><a href="#Plainwords">Plainwords</a><br></li>

    <li>
      <a href="#Execution_blocks">Execution blocks</a>

      <ul>
        <li><a href="#Local_variables">Local Variables<br></a></li>
      </ul>
    </li>

    <li><a href="#Functors">Functors</a></li>

    <li>
      <a href="#Functions">Functions</a>

      <ul>
        <li><a href="#Function_Parameter_Binding">Function
        Parameter Binding</a><a href=
        "#Function_Dictionary"><br></a></li>
      </ul>
    </li>

    <li><a href="#Function_Dictionary">Function Dictionary</a></li>

    <li><a href="#User_ID_and_password">User ID and
    password</a></li>

    <li><a href="#Commands_by_Category">Commands by
    Category</a><br></li>

    <li>
      <a href="#Commands">Commands</a>

      <ul>
        <li>
          <a href="#Command_Structure">Command structure</a>

          <ul>
            <li><a href="#Command">Command</a></li>

            <li>
              <a href="#Dash_Command">Dash command</a>

              <ul>
                <li><a href=
                "#Eponymous_dash-command__--_">Eponymous
                dash-command ( <tt>--</tt> )</a><br></li>
              </ul>
            </li>

            <li><a href="#Argument">Argument</a></li>

            <li><a href="#Command_Example">Command example</a></li>

            <li><a href="#Datasinks">Datasinks</a></li>

            <li><a href="#System_Userid">System, Userid, Password
            and <tt>-as400</tt></a></li>
          </ul>
        </li>

        <li>
          <a href="#List_of_commands">List of commands</a>

          <ul>
            <li><a href="#Command_summary">Command summary</a></li>

            <li><tt><a href="#as400">as400</a></tt></li>

            <li><tt><a href="#ask">ask</a></tt></li>

            <li><tt><a href="#bye">bye</a></tt></li>

            <li><tt><a href="#CALL">CALL</a></tt></li>

            <li><tt><a href="#calljava">calljava</a><br></tt></li>

            <li><a href="#collection"><tt>collection</tt></a></li>

            <li><tt><a href=
            "#commandcall">commandcall</a></tt></li>

            <li><a href="#dbug"><tt>dbug</tt></a></li>

            <li><tt><a href="#db">db</a></tt></li>

            <li><tt><a href="#defun">defun</a></tt></li>

            <li><tt><a href="#dict">dict</a><br></tt></li>

            <li><tt><a href="#DO">DO</a></tt></li>

            <li><a href="#dpoint"><tt>dpoint</tt></a></li>

            <li><tt><a href="#dq">dq</a><br></tt></li>

            <li><tt><a href="#eval">eval</a></tt></li>

            <li><tt><a href="#exit">exit</a><br></tt></li>

            <li><tt><a href="#FOR">FOR</a><br></tt></li>

            <li><tt><a href="#ftp">ftp</a></tt></li>

            <li><a href="#FUN"><tt>FUN</tt></a></li>

            <li><tt><a href="#FUNC">FUNC</a></tt></li>

            <li><tt><a href="#gensh">gensh</a><br></tt></li>

            <li><tt><a href="#help">help</a></tt></li>

            <li><tt><a href="#histlog">histlog</a><br></tt></li>

            <li><tt><a href="#history">history</a></tt> <i>or</i>
            <tt><a href="#history">h</a></tt></li>

            <li><tt><a href="#host">host</a><br></tt></li>

            <li><tt><a href="#IF">IF THEN ELSE</a><br></tt></li>

            <li><a href="#ifs"><tt>ifs<br></tt></a></li>

            <li><tt><a href="#interpret">interpret</a></tt></li>

            <li><a href="#include"><tt>include</tt></a></li>

            <li><tt><a href="#jmx">jmx</a><br></tt></li>

            <li><tt><a href="#job">job</a><br></tt></li>

            <li><tt><a href="#joblist">joblist</a></tt></li>

            <li><tt><a href="#jrnl">jrnl</a></tt></li>

            <li><tt><a href="#jvm">jvm</a><br></tt></li>

            <li><tt><a href="#lifo">lifo</a></tt></li>

            <li><tt><a href="#list">list</a><br></tt></li>

            <li><a href=
            "#LOCAL"><tt>LOCAL</tt></a><tt><br></tt></li>

            <li><tt><a href="#monitor">monitor</a></tt></li>

            <li><tt><a href="#msg">msg</a><br></tt></li>

            <li><tt><a href="#msgq">msgq</a></tt></li>

            <li><tt><a href="#num">num</a></tt></li>

            <li><tt><a href="#objdesc">objdesc</a><br></tt></li>

            <li><tt><a href="#objlist">objlist</a><br></tt></li>

            <li><a href="#outq"><tt>outq</tt></a></li>

            <li><tt><a href="#ppl">ppl</a><br></tt></li>

            <li><tt><a href="#printer">printer</a></tt></li>

            <li><tt><a href="#props">props</a><br></tt></li>

            <li><tt><a href="#put">put</a></tt></li>

            <li><tt><a href="#RETURN">RETURN</a><br></tt></li>

            <li><tt><a href="#rs">rs</a></tt></li>

            <li><tt><a href="#savf">savf</a><br></tt></li>

            <li><tt><a href="#server">server</a></tt></li>

            <li><a href="#session"><tt>session</tt> -or-
            <tt>sess</tt></a><br></li>

            <li><tt><a href="#smapi">smapi</a></tt></li>

            <li><a href="#spoolf"><tt>spoolf</tt></a></li>

            <li><tt><a href=
            "#spoolflist">spoolflist</a><br></tt></li>

            <li><tt><a href="#string">string</a></tt></li>

            <li><tt><a href="#subsys">subsys</a><br></tt></li>

            <li><tt><a href="#SWITCH">SWITCH</a><br></tt></li>

            <li><tt><a href="#system">system</a></tt></li>

            <li><tt><a href="#sysval">sysval</a><br></tt></li>

            <li><tt><a href="#TASK">TASK</a><br></tt></li>

            <li><tt><a href="#test">test</a></tt></li>

            <li><tt><a href="#thread">thread</a></tt></li>

            <li><tt><a href="#THROW">THROW</a></tt></li>

            <li><tt><a href="#tn5250">tn5250</a><br></tt></li>

            <li><tt><a href="#TRY">TRY</a><br></tt></li>

            <li><a href="#tuple"><tt>tuple</tt></a></li>

            <li><tt><a href="#usage">usage</a></tt></li>

            <li><tt><a href="#user">user</a><br></tt></li>

            <li><tt><a href="#userlist">userlist</a></tt></li>

            <li><tt><a href="#WHILE">WHILE</a><br></tt></li>

            <li><a href="#comment_introducer"><tt>#</tt> &nbsp;<i>-
            or -</i>&nbsp;</a><tt><a href=
            "#comment_introducer">#!</a></tt></li>

            <li><tt><a href="#bang">!</a></tt></li>

            <li><a href="#comment_quote"><tt>\\</tt></a></li>
          </ul>
        </li>
      </ul>
    </li>

    <li>
      <a href="#Tips_and_Tricks">Tips and Tricks</a>

      <ul>
        <li><a href="#Expert_Tool">Expert Tool</a></li>

        <li><a href="#Shortening_invocation">Shortening
        invocation</a></li>

        <li><a href="#Making_your_AbsPerfOS400_script_an">Making
        your Ublu script an executable shell script</a><br></li>

        <li><a href="#Recording_a_session">Recording a
        session</a></li>

        <li><a href="#Piping_input_to_AbsPerfOS400">Piping input to
        Ublu</a><br></li>

        <li><a href="#Defluff_a_CSV">Defluff a CSV</a></li>

        <li>
          <a href=
          "#Splitting_a_result_set_from_an_extant">Splitting a
          result set from an extant table into a new table</a>

          <ul>
            <li><a href=
            "#rssplitapavend.ublu">rssplitapavend.ublu</a></li>
          </ul>
        </li>

        <li>
          <a href=
          "#Replicating_a_table_and_copying_the_data">Replicating a
          table and copying the data</a>

          <ul>
            <li><a href="#testreplicate.ublu">testreplicate.ublu -
            the primary keys are automatically generated</a></li>

            <li><a href="#replicate">replicate - the primary keys
            are provided to the command</a><br></li>
          </ul>
        </li>

        <li><a href="Saving_history_as_a_program">Saving history as
        a program</a></li>

        <li><a href=
        "#Searching_for_tables_in_the_i_Series">Searching for
        tables in the i Series database</a></li>

        <li><a href="#Get_a_list_of_active_interactive_jobs">Get a
        list of active interactive jobs and search that list for
        specific jobs</a><br></li>
      </ul>
    </li>

    <li><a href="#Syntax_coloring_edit_modes">Syntax coloring edit
    modes</a></li>
  </ul>

  <h2><a name="Overview" id="Overview"></a>Overview</h2>

  <p>The Java command line <tt>java ublu.Ublu</tt> [args ...]
  invokes an extensible object-disoriented interpretive language
  named Ublu intended for interaction with OS400 (IBM i Series OS
  &#174;) and IBM z/VM &#174; SMAPI operations programming. The
  language is <a href="#TASK">multithreaded</a> and offers a
  <a href="#Server_mode">client-server</a> mode. It also possesses
  a built-in single-step <a href="#Debugger">debugger</a>.<br></p>

  <ul>
    <li>Access to the i Series OS server is implemented via the
    <a href="http://jt400.sourceforge.net/">JTOpen
    library</a>.</li>

    <li>Access to z/VM SMAPI is provided via the <a href=
    "http://pigiron.sourceforge.net/">PigIron</a> library (see the
    <a href="#smapi">smapi</a> command).<br></li>

    <li>Interoperation between the DB2 for i Series database and
    <a href="http://www.postgresql.org/">Postgresql</a> open source
    database is provided (see the <a href="#db">db</a>
    command).<br></li>

    <li>Terminal "screen-scraping" automation is provided via
    <a href="https://github.com/tn5250j">tn5250j</a> (see the
    <a href="#tn5250">tn5250</a> command).<br></li>
  </ul>

  <p>"<a name="Object-disoriented" id=
  "Object-disoriented"></a><b>Object-disoriented</b>" means that
  Ublu is a functional language implemented on top of
  object-oriented Java libraries. Ublu manipulates objects
  constructed in the underlying environment without forcing you to
  know very much about the object architecture. By way of analogy,
  consider how resources in a hierarchical network environment are
  flattened out for ease of use by <a href=
  "https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol">
  LDAP</a>. In a similar fashion, Ublu conceals many details while
  still providing complete access should a program require it,
  e.g., via the <a href="#calljava"><tt>calljava</tt></a>
  command.<br></p>

  <p><b>Ublu</b> operates in four (4) modes:</p>

  <ol>
    <li>as a command-line utility</li>

    <li>as an interpreter</li>

    <li>as a text file program executor via the <tt><a href=
    "#include">include</a></tt> command</li>

    <li>As a TCP/IP port listening server<br></li>
  </ol>

  <p>In any mode, Ublu reads a line and then consumes one or more
  <a href="#Command">commands</a> and their arguments and attempts
  to execute them. In certain cases, text parsing crosses line
  boundaries, e.g., when a <a href="#Quoted_strings">quoted
  string</a> or <a href="#Execution_blocks">execution block</a>
  extends for multiple lines.<br></p>

  <p>Ublu provides the command <a href="#FUNC">FUNC</a> to define
  functions with argument lists which can later be invoked with
  appropriate arguments.<br></p>Commands and command features are
  steadily being added to the repertoire of Ublu. Suggestions for
  added commands or extensions to extant commands are welcome and
  should be made via whatever ticketing system is present on the
  site where Ublu is distributed.

  <p>Ublu is distributed as a Java .jar file (<tt>ublu.jar</tt>)
  and a <tt>lib</tt> directory. The <tt>lib</tt> directory contains
  third-party .jar files containing classes referenced by
  Ublu.<br></p>

  <p>The <tt>lib</tt> directory should be a subdirectory of the
  directory containing <tt>ublu.jar</tt> .</p>

  <h2><a name="Invocation" id="Invocation"></a>Invocation</h2>

  <blockquote>
    <p><b><tt>java ublu.Ublu [args ...]</tt></b> <i>(set classpath
    first)</i><br>
    <i>or</i><br>
    <b><tt>java -jar ublu.jar</tt></b> <b><tt>[args ...]</tt></b>
    <i>(for use if the lib directory containing open source support
    jars is a subdirectory of the directory containing</i>
    <i>ublu.jar)</i></p>

    <p>If the <tt>lib</tt> directory is a subdirectory of the
    directory in which <tt>ublu.jar</tt> resides, Ublu can be
    invoked via <tt>java -jar</tt> as shown. Otherwise, prior to
    invocation the CLASSPATH must be set to include each of the
    supporting .jar files found in the lib directory.<br></p>
  </blockquote>

  <ul>
    <li>Ublu commences by initializing the <a href=
    "#Main_interpreter">main interpreter</a> and passing it all
    command line arguments.<br></li>

    <li>When invoked with no command line arguments, the main
    interpreter prompts and awaits interactive input.<br>

      <ul>
        <li>A greeting with copyright notices is displayed to
        stderr before the main interpreter prompts.<br>

          <ul>
            <li>To avoid this greeting message when invoking in
            interpret mode, you can append the single command
            <a href="#interpret"><tt>interpret</tt></a> to the
            invocation command line. This nests an interpreter and
            thus the main interpreter has not yet completed the
            initial command line.<br></li>
          </ul>
        </li>
      </ul>
    </li>

    <li>When invoked with arguments, Ublu will execute the
    arguments as if one line of commands were issued to the
    interpreter and then exit.

      <ul>
        <li>To continue in interpretive mode after invoking Ublu
        with a command line including arguments, make the last
        argument the command <a href=
        "#interpret"><tt>interpret</tt></a> . This nests an
        interpreter and thus the main interpreter has not yet
        completed the initial command line.</li>
      </ul>
    </li>

    <li>Ublu upon exit returns a result code indicating the success
    of the last command that Ublu processed.

      <ul>
        <li>0 is SUCCESS</li>

        <li>1 is FAILURE<br></li>
      </ul>
    </li>
  </ul>At invocation in interpretive mode, Ublu prints to standard
  error information about the build including time/date stamp, open
  source usage and copyright.<br>

  <blockquote>
    <tt>$ java -jar ublu.jar<br>
    Ublu version 1.1.1 build of 2016-08-02 11:10:45<br>
    Author: Jack J. Woehr.<br>
    Copyright 2015, Absolute Performance, Inc.,
    http://www.absolute-performance.com<br>
    Copyright 2016, Jack J. Woehr, http://www.softwoehr.com<br>
    All Rights Reserved<br>
    Ublu is Open Source Software under the BSD 2-clause
    license.<br>
    ***<br>
    Ublu utilizes the following open source projects<br>
    IBM Toolbox for Java:<br>
    Open Source Software, JTOpen 8.7, codebase 5770-SS1 V7R2M0.00
    built=20151102 @P5<br>
    Supports JDBC version 3.0<br>
    Toolbox driver version 10.7<br>
    ---<br>
    Postgresql PostgreSQL 9.4.1208.jre6<br>
    Copyright (c) 1997-2011, PostgreSQL Global Development
    Group<br>
    All rights reserved http://www.postgresql.org<br>
    ---<br>
    tn5250j http://tn5250j.sourceforge.net/<br>
    NO WARRANTY (GPL) see the file tn5250_LICENSE<br>
    ---<br>
    PigIron 0.9.7+ http://pigiron.sourceforge.net<br>
    Copyright (c) 2008-2016 Jack J. Woehr, PO Box 51, Golden CO
    80403 USA<br>
    All Rights Reserved<br>
    ***<br>
    Type help for help. Type license for license. Type bye to
    exit.</tt>
  </blockquote>To exit the system, type <tt><a href=
  "#bye">bye</a></tt> . Some minimal cleanup, e.g., closing any
  <a href="#Server_mode">server</a>, will be performed.<br>
  <br>
  <tt>[Ctrl-D]</tt> is effectively the same as <tt>bye</tt> .<br>
  <br>
  If you must force exit, type <tt><a href="#exit">exit</a></tt> .
  No cleanup beyond that provided by Java itself will be
  performed.<br>
  <br>
  <tt>[Ctrl-C]</tt> is effectively the same as <tt>exit</tt> .<br>

  <h4><a name="Memory_requirements" id=
  "Memory_requirements"></a>Memory requirements</h4>Ublu ordinarily
  runs well with default Java memory values. However, in performing
  database operations on large databases one may be forced to boost
  the heap allocation considerably on invocation, e.g.<br>

  <blockquote>
    <b><tt>java -Xms4g -Xmx4g -jar /opt/ublu/ublu.jar</tt></b>
    ...<br>
  </blockquote>which allocates 4 gigabytes.<br>

  <h3><a name="Interpreter" id="Interpreter"></a>Interpreter</h3>

  <p>As an interpreter, one or more commands with their arguments
  can be issued on a line. The commands will be executed in
  sequence. If any command fails, generally the interpreter will
  abandon the rest of the commands on the line and return to the
  prompt. The interpreter mode prompt is a right-arrow (
  <tt>&gt;</tt> ).<br></p>

  <h4><a name="Main_interpreter" id="Main_interpreter"></a>Main
  interpreter</h4>

  <p>The instance of the interpreter presented to the user upon
  program invocation is called the <b>main interpreter</b> to
  distinguish it from (possibly multiple) interpreter instances
  created in <a href="#Server_mode">server mode</a>.<br></p>

  <h3><a name="Server_mode" id="Server_mode"></a>Server mode</h3>

  <p>Ublu can launch a TCP/IP port server that accepts connections
  and binds them to individual <a href=
  "#Interpreter">interpreter</a> sessions. This allows remote
  applications such as web applications to execute Ublu commands
  and receive their output. The default listener port is 43860. See
  the <tt><a href="#server">server</a></tt> command.<br></p>

  <h3><a name="Commandline" id="Commandline"></a>Commandline</h3>

  <p>Invoked as a command line application with or more commands
  following the <a href="#Invocation">invocation</a> on the shell
  command line, the commands and their arguments are processed as
  in the interpreter, then the application exits. If one of the
  commands is <a href="#interpret"><tt>interpret</tt></a>, then the
  application continues to run until that interpreter exits when
  that interpreter encounters the <tt><a href="#bye">bye</a></tt>
  or <a href="#exit"><tt>exit</tt></a> command. <tt>exit</tt>
  always exits, but <tt>bye</tt> only unnests one interpreter
  level. If that interpreter is the <a href=
  "#Main_interpreter">main interpreter</a>, Ublu exits.<br></p>

  <h3><a name="Input_for_interpreter" id=
  "Input_for_interpreter"></a>Input</h3>

  <p>Input for the <a href="#Main_interpreter">main interpreter</a>
  can come from the console or from standard input when Ublu is
  invoked using some form of shell redirection, e.g., shell pipes (
  <tt>|</tt> ) or "here documents" ( <tt>&lt;&lt;</tt> ).<br></p>

  <p>When interpreter input comes from standard in, prompting is
  suppressed.</p>

  <p>In <a href="#Server_mode">server mode</a>, input comes from
  the network socket and prompting is suppressed.<br></p>

  <h3><a name="Output" id="Output"></a>Output</h3>

  <p>In <a href="#Interpreter">interpreter</a> and <a href=
  "#Commandline">commandline</a> mode, command output of Ublu is
  written to standard out, with the exception of the following
  which are written to standard error:<br></p>

  <ul>
    <li>error and exception mesages</li>

    <li>some user informational messages which appear in
    interpretive mode, such as the initial version message,
    copyright message</li>

    <li>all help and usage messages</li>

    <li>the prompt</li>
  </ul>

  <p>When automating system tasks, it may be helpful to redirect
  stderr from the shell command line via <tt>2&gt;/dev/null</tt> to
  discard miscellaneous interpreter informational output. This,
  however, discards error messages as well.<br></p>

  <p>In server mode, Ublu standard out is connected the network
  socket. However, Ublu standard error output remains attached to
  the invoking interpreter's standard error. This makes the
  <a href="#Main_interpreter">main interpreter</a> a monitor of
  errors occurring in server threads.</p>

  <h3><a name="Executing_commands_from_a_file" id=
  "Executing_commands_from_a_file"></a>Executing commands from a
  file</h3>

  <p>Interpretation of a text file of <a href=
  "#Commands">commands</a> and <a href="#Functions">functions</a>
  is performed via the command <tt><a href=
  "#include">include</a></tt>.<br></p>

  <h3><a name="Launch_your_application_from_a_shell" id=
  "Launch_your_application_from_a_shell"></a>Launch your
  application from a shell script autogenerated via
  <tt>gensh</tt></h3>

  <p>Ublu offers a command <a href="#gensh"><tt>gensh</tt></a>
  which autogenerates a shell script to process arguments to your
  custom function via command line switches and invoke your custom
  function with those arguments. This is the Ublu model for runtime
  program delivery.<br>
  <br></p>

  <h3><a name="Debugger" id="Debugger"></a>Debugger</h3>

  <p>The <a href="#dbug">dbug</a> command provides interactive
  single-step debugging of an <a href="#Execution_blocks">execution
  block</a>.<br></p>

  <h3><a name="Parsing_and_syntax" id=
  "Parsing_and_syntax"></a>Parsing and syntax<br></h3>

  <p>Parsing and syntax are simplistic.<br></p>

  <p>Input is parsed left-to-right, with no lookback. Each sequence
  of non-whitespace characters separated from other non-whitespace
  by at least one whitespace character is parsed as an element. No
  extra whitespace is preserved in parsing, not even within
  <a href="#Quoted_strings">quoted strings</a>.<br></p>

  <p><b>Note</b> that the simplistic parser imposes one
  particularly arbitrary limitation in that within an <a href=
  "#Execution_blocks">execution block</a> neither the block opener
  <tt>$[</tt> nor the block closer <tt>]$</tt> are allowed to
  appear inside a quoted string. If you need to have those symbols
  in a quoted string, the limitation is easy to get around, as
  follows:<br></p>

  <blockquote>
    <tt>put -to @foo ${ $[ }$</tt><tt><br></tt> <tt>put -to @bar ${
    $] }$</tt><tt><br></tt> <tt>FOR @i in @foo $[ put -from @i
    ]$</tt><tt><br></tt> <i><tt>$[</tt></i><tt><br></tt> <tt>FOR @i
    in @bar $[ put -from @i ]$</tt><tt><br></tt>
    <i><tt>$]</tt></i><br>
  </blockquote>

  <h3><a name="Quoted_strings" id="Quoted_strings"></a>Quoted
  strings</h3>Quoting of strings is achieved by placing the string
  between two elements <b><tt>${</tt></b> and <b><tt>}$</tt></b> .
  The open and close elements of a quoted string must each be
  separated by at least one space from the contents of the string
  and from any leading or following commands or arguments.<br>
  <br>
  Whitespace between non-whitespace elements of the string is
  compacted into single spaces&nbsp; <tt>${ This &nbsp; &nbsp; is
  &nbsp; &nbsp; &nbsp; a quoted&nbsp;&nbsp;&nbsp;&nbsp; string.
  }$</tt> represents <tt>This is a quoted string.</tt> A quoted
  string can span multiple lines.<br>
  <br>
  When end-of-line is reached in the interpreter after the
  open-quote glyph ( <tt>${</tt> ) without finding the close-quote
  glyph ( <tt>}$</tt> ) then string parsing continues and the
  prompt changes for any lines following until the close-quote
  glyph is encountered. The string parsing continuation prompt is
  the open-quote glyph surrounded in parentheses <tt>(${)</tt>
  .<br>

  <p><b>Note</b> that the simplistic parser imposes one
  particularly arbitrary limitation in that within an <a href=
  "#Execution_blocks">execution block</a> neither the block opener
  <tt>$[</tt> nor the block closer <tt>]$</tt> are allowed to
  appear inside a quoted string. If you need to have those symbols
  in a quoted string, the limitation is easy to get around, as
  follows:<br></p>

  <blockquote>
    <tt>put -to @foo ${ $[ }$</tt><tt><br></tt> <tt>put -to @bar ${
    $] }$</tt><tt><br></tt> <tt>FOR @i in @foo $[ put -from @i
    ]$</tt><tt><br></tt> <i><tt>$[</tt></i><tt><br></tt> <tt>FOR @i
    in @bar $[ put -from @i ]$</tt><tt><br></tt>
    <i><tt>$]</tt></i><br>
  </blockquote>

  <h3><a name="Tuple_Variables" id="Tuple_Variables"></a>Tuple
  variables</h3>A tuple variable is a <a href=
  "#Tuple_autoinstancing">autoinstancing</a> name-value pair that
  is either globally accessible within the given interpreter
  session or made <a href="#Local_variables">local</a> to a
  function definition via the <a href="#LOCAL"><tt>LOCAL</tt></a>
  command. Tuples are always referenced with a "@" as the first
  character of their name, e.g., <tt>@session</tt>. You can direct
  any kind of object to a tuple with the <tt>-to</tt>
  <tt>@<i>tuplename</i></tt> <a href=
  "#Dash_Command">dash-command</a> (adjunct to commands which
  support that) and retrieve the value with <tt>-from
  @<i>tuplename</i></tt> (adjunct to commands which support
  that).<br>
  <br>
  Tuples can be directly manipulated via the <a href=
  "#put"><tt>put</tt></a> and <a href="#tuple"><tt>tuple</tt></a>
  commands.<br>

  <h4><a name="Tuple_naming" id="Tuple_naming"></a>Tuple
  naming</h4>A tuple name can consist of any string of printable
  characters starting with the initial <tt>@</tt> marker
  <i>except</i> that the name may not start with the reserved
  sequence <tt>@///</tt><i>number</i>. A tuple name of this form
  (e.g., <tt>@///19</tt>) denotes a temporary variable used in
  function argument binding. Currently the protection of this form
  of tuple name&nbsp; is not enforced by the interpreter.
  <b>Unpredictable results</b> can occur if you use this form to
  name a tuple variable.<br>

  <h4><a name="Tuple_autoinstancing" id=
  "Tuple_autoinstancing"></a>Tuple autoinstancing</h4>A tuple
  springs into being in the global tuple map when a previously
  unused tuple name is used as a <a href="#Datasinks">destination
  datasink</a> or as a parameter (input or output) to a <a href=
  "#Functions">function</a>. Alternatively, you can create a tuple
  variable using the tuple command, e.g.&nbsp; <tt>tuple -true
  @foo</tt> will set <tt>@foo</tt> to <tt>true</tt> if it exists
  already, or will create <tt>@foo</tt> and set it to <tt>true</tt>
  if it does not yet exist.<br>

  <h3><a name="Tuple_stack" id="Tuple_stack"></a>Tuple
  stack</h3>The system maintains a Last In, First Out (LIFO) stack
  of tuple variables for programming convenience manipulated via
  the <a href="#lifo"><tt>lifo</tt></a> command.<br>
  <br>
  Many commands and dash-commands that expect tuple arguments can
  also take the argument <big><big><b><tt>~</tt></b></big></big>
  ("tilde") which signifies "pop the tuple from the tuple stack".
  An error will result if the stack is empty.<br>

  <h3><a name="Numbers" id="Numbers"></a>Numbers</h3>Numbers are
  signed integers and generally can be input as decimal, hex
  (0x00), or octal (000).<br>

  <h3><a name="Plainwords" id="Plainwords"></a>Plainwords</h3>Any
  whitespace-delimited sequence of non-whitespace characters
  provided as an argument to a command or dash-command&nbsp; or
  function is a <i>plainword</i>. A plainword can be used in most
  cases to represent a number or a single whitespace-delimited
  textual item where a <a href="#Tuple_Variables">tuple
  variable</a> or <a href="#Quoted_strings">quoted string</a> would
  have to be used to contain longer whitespace-including strings of
  text.<br>

  <h3><a name="Execution_blocks" id=
  "Execution_blocks"></a>Execution blocks</h3>

  <p>An <b>execution block</b> is a body of commands enclosed
  between the block opener <tt>$[</tt> and the block closer
  <tt>]$</tt> . Execution blocks are used in <a href=
  "#Functors">functor</a> declarations (callable routines) via the
  <a href="#FUN"><tt>FUN</tt></a> command and with conditional
  control flow commands such as <a href="#FOR"><tt>FOR</tt></a> and
  <a href="#IF"><tt>IF</tt> - <tt>THEN</tt> - <tt>ELSE</tt></a> to
  express the limit of a code phrase in a condition.</p>

  <blockquote>
    <p><tt>IF @varname THEN $[ command command .. ]$ ELSE $[
    command command ]$</tt></p>
  </blockquote>

  <p>is a generalized example of block usage.<br></p>

  <p>An execution block can contain <a href=
  "#Local_variables">local variable</a> declarations and their use.
  A local variable declaration hides identically named variables
  from the global context and from any enclosing block. Inner
  blocks to the declaring block have access to the locals in
  enclosing blocks, unless, of course, an identically named
  variable has been declared local to the enclosed block.<br></p>

  <p><b>Note</b> that the "comment-to-end-of-line" command <a href=
  "#comment_introducer"><tt>#</tt></a> should not ever be used in
  an execution block! An execution block is treated as one command
  line, so the comment command will devour the rest of the
  block.</p>

  <p><b>Note</b> that the simplistic parser imposes one
  particularly arbitrary limitation in that within an <a href=
  "#Execution_blocks">execution block</a> neither the block opener
  <tt>$[</tt> nor the block closer <tt>]$</tt> are allowed to
  appear inside a quoted string. If you need to have those symbols
  in a quoted string, the limitation is easy to get around, as
  follows:<br></p>

  <blockquote>
    <tt>put -to @foo ${ $[ }$</tt><tt><br></tt> <tt>put -to @bar ${
    $] }$</tt><tt><br></tt> <tt>FOR @i in @foo $[ put -from @i
    ]$</tt><tt><br></tt> <i><tt>$[</tt></i><tt><br></tt> <tt>FOR @i
    in @bar $[ put -from @i ]$</tt><tt><br></tt>
    <i><tt>$]</tt></i><br>
  </blockquote>

  <p>An execution block may span several lines, however, the
  opening bracket ( <tt>$[</tt> ) of the block <i>must</i> appear
  on the same line with and directly after the conditional control
  flow command operating upon it.<br></p>

  <p>Execution blocks may be nested.<br></p>

  <p>In the <a href="#Tips_and_Tricks">Tips and Tricks</a> section
  of this document is an example which will <a href=
  "#Get_a_list_of_active_interactive_jobs">get a list of active
  interactive jobs and search that list for specific
  jobs</a>.<br></p>

  <h4><a name="Local_variables" id="Local_variables"></a>Local
  variables</h4>

  <p>An execution block can have local <a href=
  "#Tuple_Variables">tuple variables</a> declared via the <a href=
  "#LOCAL"><tt>LOCAL</tt></a> command whose names hide variables of
  the same name which may exist outside the execution block. Locals
  disappear at the end of the block in which they are
  declared.<br></p>

  <p>Local variables can be used safely even when a global tuple
  variable coincidentally of the same name is passed in as a
  function argument; no collision results, and both the local and
  the function argument can be referenced.</p>

  <blockquote>
    <p><i>Example</i></p>

    <p><tt>FUNC foo ( a ) $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; LOCAL @a</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; put -to @a ${ inner @a
    }</tt><tt>$</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp; put -n -s
    ${ outer a: }$ put -from @@a</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; put -n -s ${ local a: }$ put -from
    @a</tt><tt><br></tt> <tt>]$</tt><tt><br></tt> <tt>put -to @a ${
    outer @a }$</tt><tt><br></tt> <tt>foo ( @a )</tt><tt><br></tt>
    <tt><i>outer a:&nbsp; outer @a</i></tt> <tt><i><br></i></tt>
    <tt><i>local a:&nbsp; inner @a</i></tt><br></p>
  </blockquote>

  <h3><a name="Functors" id="Functors"></a>Functors<br></h3>

  <p>A functors is an anonymous <a href=
  "#Execution_blocks">execution block</a> created via <a href=
  "#FUN"><tt>FUN</tt></a> which can then be stored in <a href=
  "#Tuple_Variables">tuple variable</a> and invoked via <a href=
  "#CALL"><tt>CALL</tt></a> and/or associated with a name entry in
  the function dictionary via <tt><a href="#defun">defun</a></tt>.
  Arguments can be passed to the functor. Arguments are
  call-by-reference; the resolution of these arguments is discussed
  under <a href="#Function_Parameter_Binding">Function Parameter
  Binding</a>.<br></p>

  <h3><a name="Functions" id="Functions"></a>Functions</h3>

  <p>A function is a <a href="#Functors">functor</a> associated
  with a name entry in the <a href="#Function_Dictionary">function
  dictionary</a>, usually via <tt><a href="#FUNC">FUNC</a></tt> but
  also via the combination of <a href="#FUN"><tt>FUN</tt></a> and
  <a href="#defun"><tt>defun</tt></a>.<br></p>

  <p>The function dictionary is searched after the list of built-in
  commands. Dictionaries can be listed, saved, restored and merged
  via the <a href="#dict"><tt>dict</tt></a> command. Arguments can
  be passed to the block. All arguments are passed by reference,
  i.e., passing a <a href="#Tuple_Variables">tuple variable</a> to
  a function argument list passes the tuple itself, not the tuple's
  value, and any alteration of the argument alters the tuple
  referred to in the argument list. The resolution of these
  arguments is discussed under <a href=
  "#Function_Parameter_Binding">Function Parameter Binding</a>.</p>

  <p><tt>&gt; FUNC yadda ( a ) $[</tt> <tt>FOR @word in @@a $[ put
  -n -s -from @word put ${ yadda-yadda ... }$ ]$</tt>
  <tt>]$</tt><tt><br></tt> <tt>&gt; put -to @words ${ this that
  t'other }$</tt><tt><br></tt> <tt>&gt; yadda ( @words
  )</tt><tt><br></tt> <i><tt>this yadda-yadda ...</tt></i>
  <i><tt><br></tt></i> <i><tt>that yadda-yadda ...</tt></i>
  <i><tt><br></tt></i> <i><tt>t'other yadda-yadda ...</tt></i>
  <tt><br></tt> <tt>&gt; dict -list</tt><tt><br></tt> <i><tt>#
  yadda ublu.util.Functor@1d4b0e9</tt></i><i><tt><br></tt></i>
  <i><tt>FUNC yadda ( a ) $[ FOR @word in @@a $[ put -n -s -from
  @word put ${ yadda-yadda ... }$ ]$&nbsp; ]$</tt></i></p>

  <p><tt>&gt; dict -save -to mydict</tt> <tt><br></tt> <tt>&gt;
  FUNC -delete yadda</tt><tt><br></tt> <tt>&gt; dict
  -list</tt><tt><br></tt> <tt><br></tt> <tt>&gt; dict -restore
  -from mydict</tt><tt><br></tt> <tt>&gt; dict
  -list</tt><tt><br></tt> <i><tt># yadda
  ublu.util.Functor@14fd510</tt></i><i><tt><br></tt></i>
  <i><tt>FUNC yadda ( a ) $[ FOR @word in @@a $[ put -n -s -from
  @word put ${ yadda-yadda ... }$ ]$&nbsp; ]$</tt></i><br>
  <br>
  <i>See also</i> the <a href="#FUN"><tt>FUN</tt></a> and <a href=
  "#defun"><tt>defun</tt></a> commands.<br></p>

  <h4><a name="Function_Parameter_Binding" id=
  "Function_Parameter_Binding"></a>Function Parameter Binding</h4>

  <p>Ublu's interpreter being purely a text interpreter, performing
  (almost) no tokenization during interpretation and compilation,
  function parameter binding is effected by runtime rewriting of
  argument references (e.g., <tt>@@some_arg</tt>) in the execution
  block.<br></p>

  <ul>
    <li>If the argument provided is a simple lex, e.g.,
    <tt>foo</tt> or <tt>1234</tt>, it is substituted uncritically
    for all references to it.<br></li>

    <li>If the argument provided is a <a href=
    "#Tuple_Variables">tuple variable</a>, a temporary is created
    in a local extension to the tuple map and references to the
    argument are rewritten with the name of the temporary in the
    function's execution block.</li>
  </ul>It is perfectly acceptable to name function parameters with
  the same names as command or functions. But this practice can
  detract from the readability of the code, especially if using the
  provided syntax coloring edit modes.<br>

  <h3><a name="Function_Dictionary" id=
  "Function_Dictionary"></a>Function Dictionary</h3>

  <p>Function definitions are stored in the function
  dictionary.<br></p>

  <p><a href="#Interpreter">Interpreter</a> instances launched by
  the <tt><a href="#interpret">interpret</a></tt> command inherit
  the current function dictionary. Any additions within an
  interpreter instance are lost when the instance exits back to its
  parent interpreter instance.<br></p>

  <p>You can view the current function dictionary or save it to a
  file or <a href="#Tuple_Variables">tuple variable</a> and later
  restore it or merge it with the current dictionary. See the
  <a href="#dict"><tt>dict</tt></a> command.<br></p>

  <h3><a name="User_ID_and_password" id=
  "User_ID_and_password"></a>User ID and password</h3>You supply a
  user ID and a password in the argument list for any Ublu command
  which accesses an AS/400 (iSeries, System/i) host, or for
  creating an instance of the host using the <a href=
  "#as400"><tt>as400</tt></a> command so that you can employ the
  <tt><a href="#as400">-as400</a></tt> dash-command with subsequent
  commands in lieu of constant repetition of the system name,
  userid and password. On system operations, if the user ID or
  password is incorrect, you will be prompted to enter the correct
  user ID and/or password, upon completion of which the command
  will proceed.<br>

  <blockquote>
    <tt>&gt; joblist testsys frrd oopswrong</tt><tt><br>
    Please enter a valid userid for testsys: fred<br></tt>
    <tt>Please enter a valid password for testsys (will not
    echo):</tt><tt><br></tt> <tt>000000/QSYS/SCPF</tt><tt><br></tt>
    <tt>000736/QSYS/QSYSARB</tt><tt><br></tt>
    <tt>000737/QSYS/QSYSARB2</tt><br>
    ... etc.
  </blockquote>The behavior of Ublu when a signon attempt fails can
  be modified. See the <a href="#as400"><tt>as400</tt></a> and
  <a href="#props"><tt>props</tt></a> commands for details.<br>
  <br>
  DB400 database operations behave differently with regard to an
  incorrect userid or password. Unlike the JTOpen systems operation
  code, the JTOpen JDBC driver does not provide a programmable exit
  for application code to handle an incorrect userid or password,
  and instead handles the exception itself by attempting to launch
  a 1990's-style Java AWT window prompting for userid and password.
  If your environment supports a GUI, all is well: you can supply
  the correct userid and password. On the other hand, if your
  environment does not support a GUI, then the operation fails and
  a confusing exception is thrown complaining about the absence of
  a windowing system. You can avoid this windowing behavior and
  just allow the operation to fail on incorrect userid/password
  with an understandable exception by adding the following
  connection property <a href="#Dash_Command">dash-command</a> to
  the string of dash-commands for the <tt><a href="#db">db</a></tt>
  command:<br>

  <blockquote>
    <tt>-property prompt false</tt><br>
  </blockquote>which adds <tt>;prompt=false</tt> to the URL for the
  JDBC connection and disables the windowing password prompt.<br>

  <h2><a name="Commands" id="Commands"></a>Commands</h2>

  <p>Commands are the verbs of Ublu. Some have only language
  meaning, but the most important commands operate directly upon a
  host system affecting its data and operation. Be sure you
  understand what you are doing when you use an Ublu
  command!<br></p>

  <p>Access to i Series hosts is provided through IBM's open source
  <a href="http://jt400.sourceforge.net/">JTOpen
  library</a>.<br></p>

  <p>Access to z/VM SMAPI is provided through the author's open
  source <a href="http://pigiron.sourceforge.net/">PigIron
  library</a>.<br></p>

  <h3><a name="Command_Structure" id=
  "Command_Structure"></a>Command Structure<br></h3>

  <p>Commands are conceptually structured in three parts:<br></p>

  <blockquote>
    <p><i>command [dash-command dash-command-argument
    [dash-command-argument dash-command-argument ...] ]
    command-argument [command-argument ...</i><i>]<br></i></p>
  </blockquote>

  <p>Where <a href="#Dash_Command">dash-commands</a> are give in
  square brackets, e.g., <tt>[-foo ~@{bazz}]</tt> the dash-command
  is optional and not required.</p>

  <p>Where multiple dash-commands are enclosed collectively in a
  outer pair of square brackets and individually enclosed in square
  brackets and the bracketed dash-commands separated by the .OR.
  bar ( | ), e.g., then the dash-commands are a set of mutually
  exclusive optional dash-commands, e.g., <tt>[[-foo ~@{bazz}] |
  [-arf ~@{woof}]]<br></tt></p>

  <p>Where multiple dash-commands are enclosed collectively in a
  outer pair of square brackets and individually enclosed in square
  brackets and the bracketed dash-commands separated by the .OR.
  bar ( | ), e.g., then the dash-commands are a set of mutually
  exclusive optional dash-commands, e.g., <tt>[[-foo ~@{bazz}] |
  [-arf ~@{woof}]]</tt><br></p>

  <p>Where square brackets are missing from a dash-command
  description, the dash-command, or one of the alternative of a
  series of dash-commands separated in the description by the .OR.
  bar ( | ) is required.<br></p>

  <p>Some dash-commands are required in some contexts, and not in
  others. Such cases are explained in the explanatory text for the
  command.<br></p>

  <h4><a name="Command" id="Command"></a>Command</h4>

  <p>A <i>command</i> is a one-word command name. It is the first
  element of any Ublu command invocation.<br></p>

  <h4><a name="Dash_Command" id="Dash_Command"></a>Dash
  Command</h4>

  <p>A <i>dash-command</i> is a modifier to the command, itself
  often possessing an argument or string of arguments. The
  dash-command and its arguments must all follow on the same line
  as the command and cannot span a line-break, with the exception
  of a <a href="#Quoted_strings">quoted string</a> spanning line
  breaks, thus extending a command over two or more lines.<br></p>

  <p>If dash-commands specify conflicting operations, the last
  dash-command encountered in command processing is the operative
  choice.<br></p>

  <p>Often one dash-command is actually the default operation for
  the command, so that if no dash-command is provided, this default
  provides the operation of the command anyway. These defaults are
  noted in the command descriptions.<br></p>

  <p>All dash-commands to a command must appear on the same line
  with the command, except that a <a href="#Quoted_strings">quoted
  string</a> once started may span line breaks, thus extending a
  command over two or more lines.</p>

  <h5><a name="Eponymous_dash-command__--_" id=
  "Eponymous_dash-command__--_"></a>Eponymous dash-command (
  <tt>--</tt> )<br></h5>

  <p>Many commands are used to create objects of various kinds and
  store them in <a href="#Tuple_Variables">tuple variables</a>.
  Later, these same command operate on these same objects which
  they themselves have created. This sort of command references the
  tuple containing such an object via an eponymous dash-command,
  e.g, <tt>job -job @some_job</tt> etc. This eponymous dash-command
  can generally be replaced by <tt>--</tt> instead, so the example
  just given could equally be written <tt>job -- @some_job</tt>
  etc.<br></p>

  <h4><a name="Argument" id="Argument"></a>Argument</h4>

  <p>An <i>argument</i> is the object or, for multiple arguments,
  list of objects necessary for command execution.<br></p>

  <p>Commands may have arguments, and their dash-commands may also
  have their own arguments.</p>

  <p>All arguments to a command or dash-command must appear on the
  same line as the command or dash-command and cannot span a
  line-break, except that a <a href="#Quoted_strings">quoted
  string</a> once started may span line breaks, thus extending a
  command over two or more lines.<br></p>

  <p>In command descriptions:<br></p>

  <ul>
    <li>When an argument is decorated with the <a href=
    "#Tuple_Variables">tuple</a> character <tt>@</tt> , as in
    <tt>-somedashcommand @tuple</tt> this signifies that a tuple
    name is expected.</li>

    <li>When an argument is decorated with both the tuple character
    and the <a href="#Tuple_stack">stack-pop</a> indicator
    <tt>~</tt> , as in <tt>-somedashcommand ~@tuple</tt> this
    signifies that either a tuple name or the stack-pop indicator
    (popping an appropriate tuple previously pushed to the stack)
    is expected.</li>

    <li>When an argument is decorated with the tuple character, the
    <a href="#Tuple_stack">stack-pop</a> indicator <tt>~</tt> and
    wrapped in curly braces, as in <tt>-somedashcommand ~@{some
    string}</tt> , it signifies that the string argument may come
    from a named tuple, or a tuple pushed previously to the stack,
    or from an inline quoted string.</li>

    <li>In any position where a quoted string is one of the allowed
    argument types, a simple undecorated inline lex ("<a href=
    "#Plain_words">plainword</a>", no whitespace) is treated as a
    quoted string.</li>

    <li>When the string in the description of the argument to a
    dash-command consists of alternatives separated by the .OR. bar
    ( <tt>|</tt> ) these are alternative values, usually literal,
    for the argument.

      <ul>
        <li>An example is the description of the <tt>dpoint</tt>
        command's dash-command <tt>-type ~@{int|long|float}</tt>
        which means that <tt>-type</tt> expects an argument, either
        from a tuple or from a quoted string or <a href=
        "#Plainwords">plainword</a> that is the literal string
        either&nbsp; <tt>int</tt>, <tt>long</tt>,&nbsp; or
        <tt>float</tt>.<br></li>
      </ul>
    </li>
  </ul>

  <h4><a name="Command_Example" id="Command_Example"></a>Command
  Example<br></h4>

  <p>An example of a command with dash-commands and arguments is
  the following:<br></p>

  <blockquote>
    <p><tt>job -job @j -get subsystem -to
    @subsys</tt><tt><br></tt></p>
  </blockquote>

  <ul>
    <li><tt>job</tt> is the command<tt>.<br></tt></li>

    <li><tt>-job @j</tt> is the <tt>job</tt> command's dash-command
    for providing the command with an already instanced tuple
    variable representing the server job the command is to operate
    upon.<br></li>

    <li><tt>-get subsystem</tt> is the <tt>job</tt> command's
    dash-command with single plainword argument indicating what
    aspect of the job represented by <tt>@j</tt> we wish to
    examine.<br></li>

    <li><tt>-to @subsys</tt> is the <tt>job</tt> command's
    dash-command indicating the <a href="#Datasinks">data sink</a>
    (in this case, a tuple) to which the output of the <tt>job</tt>
    command is to go. Most commands know the <tt>-to</tt>
    <i>datasink</i> dash-command<br></li>
  </ul>

  <h4><a name="Datasinks" id="Datasinks"></a>Datasinks</h4>Command
  descriptions reference <i>datasinks</i>. A datasink is a data
  source or a data destination.<br>
  <br>
  Many commands offer the <a href="#Dash_Command">dash-command</a>
  <tt>-to</tt> which directs the output of the command (often an
  object) to the specified datasink. Some commands offer the
  <tt>-from</tt> dash-command which assigns a source datasink for
  input during the command, e.g., <a href=
  "#include"><tt>include</tt></a> which reads and interprets source
  code can have its input from a file or variable.<br>
  <br>
  A datasink is currently one of these types:<br>

  <ol>
    <li>Standard output<br></li>

    <li>File</li>

    <li><a href="#Tuple_Variables">Tuple variable</a></li>

    <li>Null output (discard all data directed to this
    datasink).<br></li>
  </ol>

  <p>A datasink's type is recognizable from its name.<br></p>

  <ul>
    <li>Standard output is named <tt>STD:</tt> and is the default
    destination datasink if none is explicitly provided via the
    <tt>-to</tt> dash-command.<tt><br></tt></li>

    <li>A file can be any filename, relative or fully qualified
    pathname.

      <ul>
        <li>File names are recognized in datasink assignment simply
        by their not matching one of the other name patterns for a
        datasink.<br></li>
      </ul>
    </li>

    <li>A named tuple variable is distinguished by starting with
    <tt>@</tt> as in <tt>@ThisIsAVar</tt> .

      <ul>
        <li>The tuple variable thus named is created if it was not
        previously exist.<br></li>
      </ul>
    </li>

    <li>Null output is named <tt>NULL:</tt></li>
  </ul>

  <p>In the absence of the <tt>-to</tt> dash-command, the default
  datasink of a commands is <tt>STD:</tt> (standard out).<br></p>

  <p>When a command results in an object other than a string and
  the command's destination datasink is File or Standard output the
  object's <tt>toString()</tt> method is called to provide the
  data.<br></p>

  <h4><a name="System_Userid" id="System_Userid"></a>System,
  Userid, Password and <tt>-as400</tt></h4>

  <p>In order to access the iSeries (AS400) server, many commands
  routinely require in their argument string the following three
  items:<br></p>

  <ol>
    <li>system (name or IP address)</li>

    <li>userid</li>

    <li>password<br></li>
  </ol>All such commands allow these three arguments to be omitted
  if instead the <tt>-as400</tt> dash-command is used to supply an
  extant server instance to the command. See the <a href=
  "#as400"><tt>as400</tt></a> command to learn how create a server
  instance to be used and re-used.<br>
  <br>
  Of course, the execution of commands that require extended
  ownership, access control or privilege level on the target system
  can only be executed via an account with such privileges.<br>
  <br>

  <h3><a name="Commands_by_Category" id=
  "Commands_by_Category"></a>Commands by Category</h3>

  <table width="100%" cellpadding="2" border="1" cellspacing="2">
    <tbody>
      <tr>
        <th valign="top">Ublu Language<br></th>

        <th valign="top">Server and Host Interaction<br></th>

        <th valign="top">Utilities<br></th>

        <th valign="top">Java<br></th>
      </tr>

      <tr>
        <td valign="top"><tt><a href=
        "#ask">ask</a></tt><tt><br></tt> <tt><a href=
        "#BREAK">BREAK</a></tt><tt><br></tt> <tt><a href=
        "#bye">bye</a></tt><tt><br></tt> <tt><a href=
        "#CALL">CALL</a></tt><tt><br></tt> <tt><a href=
        "#collection">collection</a></tt><tt><br></tt> <tt><a href=
        "#commandcall">commandcall</a></tt><tt><br></tt>
        <tt><a href="#dbug">dbug</a></tt><tt><br></tt> <tt><a href=
        "#defun">defun</a></tt><tt><br></tt> <tt><a href=
        "#dict">dict</a></tt><tt><br></tt> <tt><a href=
        "#DO">DO</a></tt><tt><br></tt> <tt><a href=
        "#DO">ELSE</a></tt><tt><br></tt> <tt><a href=
        "#eval">eval</a></tt><tt><br></tt> <tt><a href=
        "#exit">exit</a></tt><tt><br></tt> <tt><a href=
        "#FOR">FOR</a></tt><tt><br></tt> <tt><a href=
        "#FUN">FUN</a></tt><tt><br></tt> <tt><a href=
        "#FUNC">FUNC</a></tt><tt><br></tt> <tt><a href=
        "#help">help</a></tt> <a href="#help">or</a> <tt><a href=
        "#help">usage</a></tt><tt><br></tt> <tt><a href=
        "#histlog">histlog</a></tt><tt><br></tt> <tt><a href=
        "#history">history</a></tt> <a href="#history">or</a>
        <tt><a href="#history">h</a></tt><tt><br></tt> <tt><a href=
        "#IF">IF</a></tt><tt><br></tt> <tt><a href=
        "#include">include</a></tt><tt><br></tt> <tt><a href=
        "#interpret">interpret</a></tt><tt><br></tt> <tt><a href=
        "#LOCAL">LOCAL</a></tt><tt><br></tt> <tt><a href=
        "#lifo">lifo</a></tt><tt><br></tt> <tt><a href=
        "#list">list</a></tt><tt><br></tt> <tt><a href=
        "#props">props</a></tt><tt><br></tt> <tt><a href=
        "#put">put</a></tt><tt><br>
        <a href="#RETURN">RETURN</a><br></tt> <tt><a href=
        "#server">server</a></tt><tt><br>
        <a href="#sleep">sleep</a><br></tt> <tt><a href=
        "#string">string</a></tt><tt><br></tt> <tt><a href=
        "#SWITCH">SWITCH</a></tt><tt><br></tt> <tt><a href=
        "#system">system</a></tt><tt><br></tt> <tt><a href=
        "#TASK">TASK</a></tt><tt><br></tt> <tt><a href=
        "#test">test</a></tt><tt><br></tt> <tt><a href=
        "#thread">thread</a></tt><tt><br></tt> <tt><a href=
        "#THEN">THEN</a></tt><tt><br></tt> <tt><a href=
        "#THROW">THROW</a></tt><tt><br></tt> <tt><a href=
        "#TRY">TRY</a></tt><tt><br></tt> <tt><a href=
        "#tuple">tuple</a></tt><tt><br></tt> <tt><a href=
        "#WHILE">WHILE</a></tt><tt><br></tt> <tt><a href=
        "#bang">!</a></tt><tt><br></tt> <tt><a href=
        "#comment_introducer">#</a></tt> <a href=
        "#comment_introducer">or</a> <tt><a href=
        "#comment_introducer">#!</a></tt></td>

        <td valign="top"><tt><a href=
        "#as400">as400</a></tt><tt><br></tt> <tt><a href=
        "#db">db</a></tt><tt><br></tt> <tt><a href=
        "#dq">dq</a></tt><tt><br></tt> <tt><a href=
        "#ftp">ftp</a></tt><tt><br></tt> <tt><a href=
        "#host">host</a></tt><tt><br></tt> <tt><a href=
        "#ifs">ifs</a></tt><tt><br></tt> <tt><a href=
        "#job">job</a></tt><tt><br></tt> <tt><a href=
        "#joblist">joblist</a></tt><tt><br></tt> <tt><a href=
        "#jrnl">jrnl</a></tt><tt><br></tt> <tt><a href=
        "#monitor">monitor</a></tt><tt><br></tt> <tt><a href=
        "#msg">msg</a></tt><tt><br></tt> <tt><a href=
        "#msgq">msgq</a></tt><tt><br></tt> <tt><a href=
        "#objdesc">objdesc</a></tt><tt><br></tt> <tt><a href=
        "#objlist">objlist</a></tt><tt><br></tt> <tt><a href=
        "#outq">outq</a></tt><tt><br>
        <a href="#ppl">ppl</a><br></tt> <tt><a href=
        "#printer">printer</a></tt><tt><br></tt> <tt><a href=
        "#programcall">programcall</a></tt><tt><br></tt>
        <tt><a href="#rs">rs</a></tt><tt><br></tt> <tt><a href=
        "#savf">savf</a></tt><tt><br>
        <a href="#session">session</a><br></tt> <tt><a href=
        "#smapi">smapi</a></tt><tt><br></tt> <tt><a href=
        "#spoolf">spoolf</a></tt><tt><br></tt> <tt><a href=
        "#spoolflist">spoolflist</a></tt><tt><br></tt> <tt><a href=
        "#subsys">subsys</a></tt><tt><br></tt> <tt><a href=
        "#sysval">sysval</a></tt><tt><br>
        <a href="#tn5250">tn5250</a><br></tt> <tt><a href=
        "#user">user</a></tt><tt><br></tt> <tt><a href=
        "#userlist">userlist</a></tt><tt><br></tt></td>

        <td valign="top"><tt><a href=
        "#dpoint">dpoint</a></tt><tt><br></tt> <tt><a href=
        "#gensh">gensh</a></tt><tt><br></tt> <tt><a href=
        "#license">license</a></tt><tt><br></tt> <tt><br></tt></td>

        <td valign="top"><tt><a href=
        "#calljava">calljava</a></tt><tt><br></tt> <tt><a href=
        "#jmx">jmx</a></tt><tt><br></tt> <tt><a href=
        "#jvm">jvm</a></tt><tt><br></tt> <tt><a href=
        "#num">num</a></tt><tt><br></tt></td>
      </tr>
    </tbody>
  </table><br>

  <h3><a name="List_of_commands" id="List_of_commands"></a>List of
  commands</h3>

  <p>Here is the list of commands Ublu understands and their
  descriptions. Some descriptions below start with a leading-slash
  (/) and a number, indicating the number of arguments expected
  (excluding <a href="#Dash_Command">dash-commands</a>). The
  slash/numbers are <i>not</i> part of the command syntax, and only
  serve as documentation: do not enter them yourself. A plus-sign
  (+) after the number indicates the number represents a minimum
  number of arguments rather than an absolute number. Optional
  dash-commands are indicated in [square brackets]. Again, the
  brackets are documentation, and not part of the actual syntax,
  just enter the dash-command and its argument(s), if any.<br></p>

  <h4><a name="Command_summary" id="Command_summary"></a>Command
  summary</h4>

  <p>Most commands provide a brief summary via <tt>help -cmd</tt>
  <i>commandname</i>. That summary is repeated in the command
  descriptions below. The (neither rigorous nor always entirely
  accurate) schematic meaning of the summary is as follows:</p>

  <blockquote>
    <p><tt>commandname /numargs[?]</tt> <tt>[[-dash-command [arg
    arg ...]]</tt> <tt>[-dash-command [arg arg ...]] ...]</tt>
    <tt>[[-mutually-exclusive-dash-command [arg arg ...]] |
    [</tt><tt>mutually-exclusive-dash-command</tt> <tt>[arg arg
    ...]] ...] argument argument [optional-argument] ... :
    description of command's action<br></tt></p>

    <ul>
      <li><tt>commandname</tt> is the name used by the interpreter
      for the command</li>

      <li>
        <tt>/numargs[?]</tt> is count of how many arguments are
        nominally expected by the command.

        <ul>
          <li>an optional question-mark ? is appended if this
          number commonly varies.

            <ul>
              <li>a typical variation in number is the use of the
              <a href="#System_Userid"><tt>-as400</tt></a>
              dash-command to obviate repeated use of the
              <i>system</i> <i>userid</i> and <i>password</i>
              arguments.</li>
            </ul>
          </li>
        </ul>
      </li>

      <li><tt>[-dash-command [arg arg ...]</tt> represents use of a
      <a href="#Dash_Command">dash-command</a> with optional
      dash-command arguments.</li>

      <li><tt>[[-dash-command [arg arg ...]]</tt>
      <tt>[-dash-command [arg arg ...]] ...]</tt> represents
      several dash-commands, each of which may possess
      arguments.</li>

      <li><tt>[-mutually-exclusive-dash-command [arg arg ...]] |
      [</tt><tt>mutually-exclusive-dash-command</tt> <tt>[arg arg
      ...]] ...]</tt> represents mutually exclusive dash-commands
      which may not be used together.</li>

      <li><tt>argument argument [optional-argument] ...</tt>
      represents the formal arguments to the command.</li>

      <li><tt>description of command's action</tt> is just
      that.<br></li>
    </ul>

    <p>If the first dash-command documented for the command is the
    <tt>-as400</tt> dash-command, then by use of the <a href=
    "#as400"><tt>as400</tt></a> command to store a system instance
    in a tuple and the subsequent use of the <tt>-as400</tt>
    dash-command, such a command can omit the three (3) arguments
    <i>system userid password</i> leaving the rest of the formal
    argument list the same as it was.<br></p>
  </blockquote>

  <h4><a name="as400" id="as400"></a><tt>as400</tt><br></h4>

  <blockquote>
    <tt>/3? [-to @var] [--,-as400,-from @var] [-instance | -alive |
    -alivesvc
    ~@{[CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}
    | -connectsvc
    ~@{[CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}
    | -connectedsvc
    ~@{[CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}
    | -connected | -disconnect | -disconnectsvc
    ~@{[CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}
    | -ping sysname
    ~@{[ALL|CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}
    | -validate | -qsvcport
    ~@{[CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}
    | -svcport
    ~@{[CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}
    ~@portnum | -svcportdefault | -proxy ~@{server[:portnum]} |
    -vrm ] ~@{system} ~@{user} ~@{password} : instance, connect to,
    query connection, or disconnect from an as400 system<br>
    &nbsp;&nbsp;&nbsp;</tt><br>
    Creates an object instance representing an AS400 system and
    manipulates that object. The instance is intended to be stored
    in a <a href="#Tuple_Variables">tuple variable</a> for later
    use with the <tt><a href="#System_Userid">-as400</a></tt>
    <a href="#Dash_Command">dash-command</a> to many commands so
    that the <i>system</i>, <i>userid</i> and <i>password</i> need
    not be repeated with various commands.<br>
    <br>
    When an <tt>as400</tt> instance is no longer in use but your
    program continues, it is often best to <tt>-disconnect</tt> or
    <tt>-disconnectsvc</tt>.<br>
    <br>
    An <tt>as400</tt> instance stored in a tuple variable
    <tt>@myas400</tt> is passed to the <tt>as400</tt> command using
    any one of the three dash-command forms:

    <ul>
      <li>-- <tt>@myas400</tt></li>

      <li><tt>-as400</tt> <tt>@myas400</tt></li>

      <li><tt>-from</tt> <tt>@myas400</tt></li>
    </ul>This is a bit redundant but the three forms persist for
    historical reasons.<br>
    <br>
    The operations of the dash-commands are as shown:<br>

    <ul>
      <li><tt>-instance</tt> instances and puts the <tt>as400</tt>
      instance.</li>

      <li>
        <tt>-alive</tt> puts <tt>true</tt> if the as400 instance
        passed to the <tt>-as400</tt> <i>@var</i> dash-command is
        connected to <b>any</b> service and that connection is
        alive, <tt>false</tt> otherwise.

        <ul>
          <li><b>Note:</b> on i Series OS prior to 7.1
          <tt>alive</tt> behaves the same as
          <tt>-connected</tt>.</li>
        </ul>
      </li>

      <li>
        <tt>-alivesvc</tt> puts <tt>true</tt> if the <tt>as400</tt>
        instance is connected (<tt>false</tt> otherwise) to the
        specified service, one of
        <tt>CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON</tt>
        and that connection is alive.

        <ul>
          <li><b>Note:</b> on i Series OS prior to 7.1
          <tt>-alivesvc</tt> behaves the same as
          <tt>-connectedsvc</tt>.</li>
        </ul>
      </li>

      <li>
        <tt>-connectsvc</tt> connects the <tt>as400</tt> instance
        to the specified service, one of
        <tt>CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON</tt>

        <ul>
          <li><b>Note</b> that it is <i>not</i> usually necessary
          to explicitly connect to a service. Ublu commands perform
          all necessary connections.<br></li>
        </ul>
      </li>

      <li><tt>-connectedsvc</tt> puts <tt>true</tt> if the
      <tt>as400</tt> instance is connected (<tt>false</tt>
      otherwise) to the specified service, one of
      <tt>CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON</tt></li>

      <li><tt>-connected</tt> puts <tt>true</tt> if the as400
      instance passed to the <tt>-as400</tt> <i>@var</i>
      dash-command is connected to <b>any</b> service,
      <tt>false</tt> otherwise.</li>

      <li><tt>-disconnect</tt> disconnects <b>all</b> services when
      used with the <tt>-as400</tt> <i>@var</i> dash-command where
      <i>@var</i> refers to an <tt>as400</tt> instance previously
      instanced.</li>

      <li><tt>-disconnectsvc</tt> disconnects the <tt>as400</tt>
      instance from the specified service, one of
      <tt>CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON</tt></li>

      <li><tt>-svcport</tt> sets the TCP port for the specified
      service for when the port used is not the default port. A
      value of <tt>-1</tt> for the port number means to use the
      TCP/IP <tt>portmapper</tt> service to find the port.</li>

      <li><tt>-svcportdefault</tt> resets all service ports to
      their default values.<br></li>

      <li>
        <tt>-ping sysname service</tt> checks whether a specified
        TCP service used by Ublu, one of
        <tt>CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON</tt>,
        or all such services (<tt>ALL</tt>) are running on the host
        specified as <i>sysname</i>.

        <ul>
          <li><tt>true</tt> is put if the service is available,
          <tt>false</tt> otherwise.</li>
        </ul>
      </li>

      <li><tt>-proxy ~@{server[:portnum]}</tt> assigns the JTOpen
      proxy server (a running instance of
      <tt>com.ibm.as400.access.ProxyServer</tt>) if one is being
      used.</li>

      <li><tt>-qsvcport
      ~@{[CENTRAL|COMMAND|DATABASE|DATAQUEUE|FILE|PRINT|RECORDACCESS|SIGNON]}</tt>
      puts the port on which the <tt>as400</tt> object is currently
      set contact the named service.</li>

      <li><tt>-validate</tt> validates the signon for the
      system+user+password combination represented by the
      <tt>as400</tt> object and <tt>put</tt>s <tt>true</tt> or
      <tt>false</tt> accordingly.<br></li>

      <li>
        <tt>-vrm</tt> puts the Version/Release/Modification of the
        <tt>as400</tt> instance as a 24-bit hex number (with
        leading zeroes, if any, not shown) of the form
        <tt>xxyyzz</tt> where

        <ul>
          <li><tt>xx</tt> is the version</li>

          <li><tt>yy</tt> is the release</li>

          <li><tt>zz</tt> is the modification</li>
        </ul>
      </li>
    </ul>

    <p>In the absence of dash-commands the default operation is
    <tt>-instance</tt>.<br></p>

    <p>When a signon fails for bad userid or incorrect password, a
    signon handler is invoked. The JTOpen class library which
    provides connection to the host has a builtin handler, which
    opens a GUI window to prompt the user if it can and fails with
    a mysterious error message if GUI capabilities are not present,
    e.g., in an ssh session which does not pass XWindows thru.
    There are also two custom handlers in Ublu, a custom handler
    which prompts the user textually, and a null handler which
    simply fails the login operation. This behavior can be
    controlled on a per-interpreter basis via the <a href=
    "#props"><tt>props</tt></a> command:<br></p>

    <ul>
      <li><tt>props -set signon.handler.type</tt> <tt>BUILTIN</tt>
      uses the JTOpen GUI-based handler</li>

      <li><tt>props -set signon.handler.type CUSTOM</tt> uses the
      Ublu text-based handler</li>

      <li><tt>props -set signon.handler.type NULL</tt> uses the
      Ublu fail-on-error handler</li>
    </ul>

    <p>The default is <tt>CUSTOM</tt> ... users will be prompted in
    text mode in case of a signon failure.<br></p>

    <p><tt>as400</tt> can create SSL (Secure Socket Layer) secure
    instances if the correct property is set via the <a href=
    "#props">props</a> command prior to instancing.<br></p>

    <ul>
      <li><tt>props -set signon.security.type SSL</tt> means
      <tt>as400</tt> creates SSL-secured instances<br></li>

      <li><tt>props -set signon.handler.type NONE</tt> means
      <tt>as400</tt> creates non-secured instances</li>
    </ul>

    <p>The default is <tt>NONE</tt>.<br></p><i>Example</i><br>
    <br>
    <tt>as400 -to @myas400 mysystem myuserid mypasswd # an instance
    of the system is now stored in the tuple variable
    @myas400</tt><tt><br></tt> <tt>joblist -as400 @a # a joblist is
    now fetched from mysystem on behalf of
    myuserid.</tt><tt><br></tt> <tt>joblist -as400 mysystem
    myuserid mypasswd # fetches the joblist in the same fashion as
    the previous command</tt><tt><br></tt> <tt>as400 -from @myas400
    -disconnect</tt><tt><br></tt>
  </blockquote>

  <h4><a name="ask" id="ask"></a><tt>ask</tt></h4>

  <blockquote>
    <tt>/0 [-to datasink] [-from datasink] [-say ~@{prompt string}]
    : get input from user</tt><br>
    <br>
    <tt>ask</tt> prompts the user (if a prompt string is provided)
    and puts the response from the user, who must press [enter]
    after entering reponse text.<br>
    <br>
    If the user simply presses [enter] without inputing any text, a
    zero-length string is put. If the <tt>-from</tt> <a href=
    "#Dash_Command">dash-command</a> is set, the prompt comes
    from<br>

    <ul>
      <li>The first line of any file datasource</li>

      <li>The string value of a tuple referenced by
      <tt>-from</tt><br></li>
    </ul><i>Example</i><br>
    <br>
    <tt>&gt; ask -say ${ What is funny? }$</tt><tt><br></tt>
    <tt><i>What is funny? :</i> elephants and giraffes and
    zoos</tt><tt><br></tt> <i><tt>elephants and giraffes and
    zoos<br></tt></i> <tt>&gt; ask -to @answer -say ${ Do you have
    anything to say? }$<br>
    Do you have anything to say? :<br>
    &gt; <a href="#string">string</a> -len @answer<br>
    0<br>
    <br></tt>
  </blockquote>

  <h4><a name="BREAK" id="BREAK"></a><tt>BREAK</tt></h4>

  <blockquote>
    <tt>/0 : exit from innermost enclosing <a href=
    "#DO">DO</a>|<a href="#FOR">FOR</a>|<a href="#WHILE">WHILE</a>
    block</tt><br>
    <br>
    <i>Example</i><br>
    The following will fetch a joblist of active interactive jobs
    and look for MARSHA as a user in the job list,
    <tt>BREAK</tt>ing when found.<br>
    <br>
    <tt>as400 -to @as400 mysystem myuid ********</tt><tt><br></tt>
    <tt>put ${ Looking for MARSHA in a list of all active
    interactive jobs }$</tt><tt><br></tt> <tt>joblist -to @joblist
    -jobtype INTERACTIVE -active -as400 @as400</tt><tt><br></tt>
    <tt>FOR @j in @joblist $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; job -job @j -get user -to
    @user</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp; put -to @marsha
    ${ MARSHA }$</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp; test -to
    @match -eq @user @marsha</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; IF @match THEN $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; put -n ${ We found
    Marsha! }$</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; job -job @j -info<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BREAK</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; ]$ ELSE $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; put -n ${ nope }$</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; ]$</tt><tt><br></tt> <tt>]$</tt><br>
  </blockquote>

  <h4><a name="bye" id="bye"></a><tt>bye</tt><br></h4>

  <blockquote>
    <p>terminates the current interpreter level immediately, ending
    processing and discarding any following commands at that level.
    It takes no arguments. At the top level, <tt>bye</tt> exits
    Ublu. More cleanup is performed by leaving Ublu via
    <tt>bye</tt> than with <a href=
    "#exit"><tt>exit</tt></a>.<br></p>

    <p><i>Example</i></p>

    <p><tt>&gt; interpret</tt><tt><br></tt> <tt>1&gt;
    interpret</tt><tt><br></tt> <tt>2&gt; bye foo bar
    woof</tt><tt><br></tt> <tt>1&gt; bye</tt><tt><br></tt> <tt>&gt;
    bye</tt><tt><br></tt> <tt>Goodbye!</tt><tt><br></tt> <tt>$</tt>
    <i><br></i></p>
  </blockquote>

  <h4><a name="CALL" id="CALL"></a> <tt>CALL</tt></h4>

  <blockquote>
    <tt>/? @tuple ( [@parm] .. ) : Call a functor</tt><br>
    The functor to be called was created by <tt><a href=
    "#FUN">FUN</a></tt> and is stored in <i>@tuple</i>. When the
    functor was defined, a list of parameter names was provided.
    The substitution list of tuple names to substitute for the
    parameter names when encountered in the functor's <a href=
    "#Execution_blocks">execution block</a> surrounded in
    parentheses and separated by at least one space but all on the
    same line follows.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>FUN -to @fun ( a b c ) $[ put -from @@a put -from @@b put
    -from @@c ]$</tt><tt><br></tt> <tt>put -from @fun</tt><br>
    <tt><i>ublu.util.Functor@5f40727a ( a b c ) $[ put -from @@a
    put -from @@b put -from @@c&nbsp; ]$</i></tt><tt><br>
    put -to @aleph ${ this is a }$</tt> <tt><br></tt> <tt>put -to
    @beth ${ and here is b }$</tt> <tt><br></tt> <tt>put -to
    @cinzano ${ la dee dad }$</tt> <tt><br></tt> <tt>CALL @fun (
    @</tt><tt>aleph</tt> <tt>@beth</tt> <tt>@cinzano
    )</tt><tt><br></tt> <tt><i>this is a</i> <i><br></i> <i>and
    here is b</i> <i><br></i> <i>la dee dad</i><br></tt> <tt>FUN
    -to @fun ( ) $[ put ${ zero param functor }$
    ]$</tt><tt><br></tt> <tt>CALL @fun ( )</tt><tt><br>
    <i>zero param functor</i><br></tt> <tt>put -from @fun</tt><br>
    <i><tt>ublu.util.Functor@67ba0609 ( ) $[ put ${ zero param
    functor }$&nbsp; ]$</tt><br></i><br>
    <i>See also</i> <tt><a href="#defun">defun</a> <a href=
    "#FUN">FUN</a></tt> <a href="#FUNC"><tt>FUNC</tt></a>
  </blockquote>

  <h4><a name="calljava" id="calljava"></a> <tt>calljava</tt></h4>

  <blockquote>
    <tt>/0 [-to @datasink] [-new ~@{classname}] [-obj ~@object]
    [-method ~@{methodname}] [-arg ~@argobj -arg ..]] [-primarg
    ~@argobj [-primarg ..]] : call Java method</tt><br>
    The <tt>calljava</tt> command invokes a method or constructor
    in the underlying Java virtual machine. The object result is
    put to the assigned <a href="#Datasinks">datasink</a>. The
    <a href="#Dash_Command">dash-commands</a> describe the desired
    Java call.<br>
    <br>
    Implicitly the call is a method call. If <tt>-new</tt> appears,
    the call is to a constructor.<br>

    <ul>
      <li>
        <tt>-obj ~@object</tt> indicates the object upon which the
        method call is to be invoked.

        <ul>
          <li>This element is necessary in a <tt>-method</tt>
          call.</li>

          <li>This element is omitted when the <tt>-new</tt>
          dash-command is used.</li>
        </ul>
      </li>

      <li><tt>-new</tt> <tt>~@{classname}</tt> indicates the
      fully-decorated name of the class (e.g.,
      <tt>java.lang.String</tt>) for which a constructor is to be
      called.</li>

      <li>
        <tt>-method ~@{methodname}</tt> indicates the name of the
        method to be invoked.

        <ul>
          <li>This element is omitted when the <tt>-new</tt>
          dash-command is used.</li>
        </ul>
      </li>

      <li>
        <tt>-arg ~@argobj</tt> places an object and its class
        signature in the array to be used in method invocation.

        <ul>
          <li>Multiple arguments are indicated by multiple usage of
          <tt>-arg</tt> in left-to-right order matching the Java
          method specification.</li>
        </ul>
      </li>

      <li>
        <tt>-primarg ~@argobj</tt> places an object and its class
        signature converted to a primitive type in the array to be
        used in method invocation.

        <ul>
          <li>Primitive types are passed to a method call as their
          wrappered types, e.g. <tt>int</tt> is passed as
          <tt>java.lang.Integer</tt>

            <ul>
              <li><tt>-primarg</tt> allows <tt>calljava</tt> to
              specify that the method signature is for the
              primitive, not the wrapper class.</li>

              <li>To create numbers of specific Java types to match
              method signatures, use the <a href=
              "#num"><tt>num</tt></a> command.<br></li>
            </ul>
          </li>

          <li>Multiple arguments are indicated by multiple usage of
          <tt>-primarg</tt> in left-to-right order matching the
          Java method specification.</li>
        </ul>
      </li>
    </ul>

    <p><i>Example</i></p><tt>&gt; put -to @obj ${ this is a test
    }$</tt><tt><br></tt> <tt>&gt; calljava -to @result -obj @obj
    -method length</tt><tt><br></tt> <tt>&gt; put -from
    @result</tt><tt><br></tt>
    <tt><i>15</i></tt><tt><i><br></i></tt> <tt>&gt; num -to @num
    -int 12</tt><tt><br></tt> <tt>&gt; calljava -to @result -obj
    @obj -method substring -primarg @num</tt><tt><br></tt> <tt>&gt;
    put -from @result</tt><tt><br></tt> <tt><i>st</i></tt><br>
    <br>
    See also: <a href="#num"><tt>num</tt></a><br>
  </blockquote>

  <h4><a name="collection" id=
  "collection"></a><tt>collection</tt></h4>

  <blockquote>
    <tt>/0? [--,-collection ~@collection] [-to datasink] [-show |
    -size] : manipulate collections of objects</tt><br>
    <br>
    The <tt>collection</tt> command provides support for Java
    collections. The collection (created elsewhere) is provided to
    the command in a tuple argument to the <tt>--</tt> or
    <tt>-collection</tt> <a href=
    "#Dash_Command">dash-command</a>.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-show</tt> puts a string representation of the
      collection.</li>

      <li><tt>-size</tt> puts the integer size of the
      collection.</li>
    </ul>
  </blockquote>

  <h4><i><a name="commandcall" id=
  "commandcall"></a></i><tt>commandcall</tt><br></h4>

  <blockquote>
    <p><tt>/4? [-as400 @as400] [-to datasink] [-from datasink]
    system userid password commandstring</tt><br>
    executes a CL command represented by <i>commandstring</i> on
    OS/400 system <i>system</i> on behalf of <i>userid</i> with
    <i>password</i>. The <i>commandstring</i> is a quoted string
    representing the entire CL command and its arguments. If the
    <a href="#System_Userid"><tt>-as400</tt></a> <a href=
    "#Dash_Command">dash-command</a> is provided, then the
    arguments <tt>system userid</tt> and <tt>password</tt> must be
    omitted. If the <tt>-from</tt> <i>datasink</i> dash-command is
    provided, then the <i>commandstring</i> argument must be
    omitted.</p>

    <p>Note that CL display and menu commands do not work! Also,
    you may have to juggle shell quoting to issue such command
    lines; it's definitely easier to enter this sort of thing in
    interpretive mode or as an Ublu program or function.<br></p>

    <p><i>Example</i></p>

    <p><tt>commandcall -to foo.txt somehost bluto ******** ${
    SNDMSG MSG('Hello my friend') TOUSR(fjdkls) }$</tt><br>
    <tt># Performs a SNDMSG on SOMEHOST on behalf of user bluto
    sending the text "Hello my friend" to a user FJDKLS. Any output
    returned by the command is redirected to a local file
    foo.txt.</tt><br>
    <tt><a href="#as400">as400</a></tt> <tt>-to @myas400 somehost
    bluto ******** # creates an as400 instance and stores it in
    the</tt> <tt><a href="#Tuple_Variables">tuple variable</a>
    @myas400<br>
    commandcall -as400 @myas400 -to foo.txt ${ SNDMSG MSG('Hello my
    friend') TOUSR(fjdkls) }$<br>
    # Performs a SNDMSG just as above using the as400 instance in
    place of a repetition of credentials.<br></tt></p>
  </blockquote>

  <h4><a name="db" id="db"></a><tt>db</tt></h4>

  <blockquote>
    <p><tt>/4 [--,-dbconnected @dbconnected] -db (@)type
    [-charsetname (@)charsetname] [-catalog | -columntypes
    (@)tablename | -connect | -csv (@)tablename [-separator ${
    separator}$ ] | -disconnect | -metadata | -primarykeys | -query
    ${ SQL string }$ | -replicate (@)tableName (@)destDbName
    (@)destDbType (@)destDatabaseName (@)destUser (@)destPassword |
    -star (@)tablename] [-pklist ${ space separated primary keys
    }$] [-port (@)portnum] [-property k v [-property k v] ..]
    (@)system (@)database (@)userid (@)password : perform various
    operations on databases<br></tt><br>
    performs a database operation on <i>system</i>'s
    <i>database</i> for <i>userid</i> with <i>password</i>.<br></p>

    <p>Alternatively, a connected database object can be provided
    via the <tt>-dbconnected @dbconnected</tt> <a href=
    "#Dash_Command">dash-command</a> in which case the <tt>system
    database userid password</tt> arguments must be
    omitted.<br></p>

    <p>Any of the arguments shown above beginning with <tt>(@)</tt>
    can either be a plain word or the name of a <a href=
    "#Tuple_Variables">tuple variable</a> set to the needed
    argument value.<br></p>

    <p><b>Note:</b> For historic reasons, the dash-commands for
    this (early) Ublu commmand are stylistically inconsistent with
    the other commands: <tt>-db</tt> really should be called
    <tt>-dbtype</tt> and <tt>-dbconnected</tt> should be called
    <tt>-db</tt>. In any case, the <a href=
    "#Eponymous_dash-command__--_">eponymous dash-command</a>
    <tt>-- @dbconnected</tt> can be used instead of
    <tt>--dbconnected</tt><br></p>

    <h5>Operations<br></h5>

    <ul>
      <li>-<tt>db type</tt> is obligatory (unless the database
      object is provided via <tt>-dbconnected @dbconnected</tt>)
      and is one of precisely

        <ul>
          <li><tt>as400</tt></li>

          <li><tt>postgres</tt></li>
        </ul>
      </li>

      <li>
        <tt>-charsetname charsetname</tt> is optional and
        specifically sets the charsetname which otherwise defaults
        through the <tt>-db type</tt> to the name of an appropriate
        charset. Possibilities include any valid charset name per
        <a href=
        "http://www.iana.org/assignments/character-sets/character-sets.xhtml">
        http://www.iana.org/assignments/character-sets/character-sets.xhtml</a>
        such as:

        <ul>
          <li><tt>ASCII</tt></li>

          <li><tt>CP037</tt><br></li>
        </ul>
      </li>

      <li><tt>-catalog</tt> fetches a catalog of
      <i>database</i></li>

      <li><tt>-columntypes</tt> creates a string list of the
      database-specific types of the columns of
      <i>tablename</i></li>

      <li><tt>-connect</tt> connects to the database and puts the
      database for use with the <tt>-dbconnected</tt>
      dash-command.</li>

      <li>
        <tt>-csv</tt> dumps <i>tab</i><i>lename</i> as
        comma-separated values (CSV).

        <ul>
          <li>If the db type is <tt>as400</tt> and the column
          datatype is BINARY, currently ASCII translation of the
          binary as EBCDIC character data is inserted
          intercolumnarly in the output.</li>
        </ul>
      </li>

      <li><tt>-disconnect</tt> disconnects the database object
      provided via <tt>-dbconnected @dbconnected</tt> invalidating
      all result sets associated with that database
      object.<tt><br></tt></li>

      <li><tt>-metadata</tt> fetches a subset of database
      metadata</li>

      <li><tt>-property</tt> sets JDBC connection property <i>k</i>
      to value <i>v</i> ... any number of these pairs may be set by
      multiple <tt>-property</tt> dash-commands.<br></li>

      <li><tt>-primarykeys</tt> fetches a result set of the primary
      keys for <i>tablename</i>.<br></li>

      <li><tt>-query</tt> issues <i>SQL string</i> as an SQL query
      that returns one (1) result set.</li>

      <li><tt>-query_nors</tt> issues <i>SQL string</i> as an SQL
      query that returns no result set.</li>

      <li>-<tt>replicate</tt> reproduces (more or less, as best it
      can) the table structure of <i>system:database.tablename</i>
      to <i>destDbName:destDatabaseName.tablename</i> without
      copying any rows.

        <ul>
          <li>if the <tt>-pklist</tt> dash-command is supplied, the
          space-separated list of primary keys is used in table
          generation instead of the automatic algorithmic
          generation of primary keys.<br></li>

          <li>use the <a href="#rs">rs</a> command to copy the
          rows.</li>

          <li><tt>-replicate</tt> currently does not support
          alternate port number or adding connection
          properties<br></li>
        </ul>
      </li>

      <li><tt>-star</tt> is shorthand for <tt>-query ${ SELECT *
      FROM</tt> <i>tablename</i> <tt>}$</tt>.</li>
    </ul>

    <p><b>Note</b> that table names are implicitly quoted in most
    <tt>db</tt> operations and thus should be regarded as <i>case
    sensitive</i>.<br></p>

    <h5>Options</h5>

    <ul>
      <li><tt>-port</tt> <i>portnum</i> sets the port number for
      the JDBC connection to <i>portnum</i><br></li>

      <li>-<tt>property</tt> <i>key value</i> sets the connection
      property <i>key</i>=<i>value</i>

        <ul>
          <li>Some properties have multi-word keys or values. In
          this case (or optionally in any case), specify the
          property key and/or value as a <a href="#Quoted_strings">
            <tt>${ quoted string }$</tt></a>.

            <ul>
              <li>Example: ... <tt>-property ${ translate binary }$
              true -property ${ bidi string type }$ 11 -property
              access ${ read call }$</tt> ...</li>
            </ul>
          </li>
        </ul>
      </li>

      <li>-<tt>pklist</tt> expects a <a href=
      "#Quoted_strings">quoted string</a> which is a
      space-separated list of primary keys used in table generation
      instead of the automatic algorithmic generation of primary
      keys.</li>
    </ul>

    <p><tt>db</tt> is very much a work in progress and thus
    features and refinements will follow.<br></p>

    <p><b>Note</b>: As configured, <tt>db</tt> supports IBM i
    database and PostgreSQL. Support for Microsoft SQL &#174; is
    also available, if you care to download the JDBC driver
    yourself and rebuild Ublu. Follow the directions in the
    <tt>README.DbMSSQL.txt</tt> file in the directory
    <tt>stuff/mssql</tt> .<br></p>
  </blockquote>

  <h4><a name="dbug" id="dbug"></a><tt>dbug</tt></h4>

  <blockquote>
    <tt>/0 [--,-dbug $[ execution block ]$] [-init] [-info] [-brk
    ~@opname] [-clr ~@opname] [[-step]|[-go]] : dbug your
    program</tt><br>
    <br>
    The <tt>dbug</tt> command runs a stepping program debugger on
    an execution block you provide to the command.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>--,-dbug $[ execution block ]$]</tt> runs the
      <i>execution block</i> in dbug mode.</li>

      <li>
        <tt>-init</tt> resets dbug to its default mode.

        <ul>
          <li>single-step is off</li>

          <li>all breakpoints are cleared</li>
        </ul>
      </li>

      <li><tt>-info</tt> displays the current dbug internal
      state.</li>

      <li>
        <tt>-brk</tt> <tt>~@opname</tt> sets <i>opname</i> as a
        breakpoint.

        <ul>
          <li>Any command or function name can be used as
          <i>opname</i></li>

          <li>If <i>opname</i> is function name, provide only the
          name (without the parenthesized argument list) when
          setting it as a break.<br></li>
        </ul>
      </li>

      <li>
        <tt>-clr ~@opname</tt> clears <i>opname</i> as a
        breakpoint.

        <ul>
          <li>A warning is issued if <i>opname</i> was not set as a
          breakpoint<br></li>
        </ul>
      </li>

      <li><tt>-step</tt> sets dbug for single-step mode.</li>

      <li><tt>-go</tt> sets <tt>dbug</tt> to run to the next
      breakpoint or completion (which ever comes first) and not
      single-step.</li>
    </ul>

    <p>Before <tt>dbug -dbug</tt> <tt>$[ <i>execution block</i>
    ]$]</tt> executes its <i>execution block</i>, it discards the
    rest of the following input. Commands issued after a
    <tt>dbug</tt> command which includes the <tt>-dbug</tt> <tt>$[
    <i>execution block</i> ]$</tt> dash-command are thus ignored
    (though any other <tt>dbug</tt> dash-commands to the same
    instance of the <tt>dbug</tt> command are still parsed before
    execution of the debug block begins).<br></p>

    <p>The <a href="#Dash_Command">dash-commands</a> controlling
    <tt>dbug</tt> operations can be provided on the command line in
    any order. The debugger runs the execution block immediately
    after the other dash-commands have been processed.<br>
    <br>
    Issuing the <tt>dbug</tt> command does not require an execution
    block to be provided via <tt>--,-dbug $[ <i>execution block</i>
    ]$</tt>. Its other dash-commands may be issued at any time to
    set the state of <tt>dbug</tt> prior to actually running it on
    an execution block. At any time the state of <tt>dbug</tt> can
    be reset via <tt>-init</tt> .</p>

    <p>When <tt>dbug</tt> gets to a breakpoint or to the break at
    its next step when single-stepping, a prompt indicating the
    breakpoint is displayed and a command line. To continue in
    single-step mode, simply press the return key.<br></p>

    <p>The valid commands are as follows:</p>

    <ul>
      <li>
        <tt>b opname [on|off]</tt> sets or clears a breakpoint on
        <i>opname</i>

        <ul>
          <li>The breakpoint is set if <tt>on</tt> is specified or
          if there is no third item (<tt>on | off</tt>)
          specified.</li>

          <li>The breakpoint is cleared if <tt>off</tt> is
          specified.<br></li>
        </ul>
      </li>

      <li><tt>g</tt> ends single-stepping and runs to the next
      breakpoint or to the end of the <tt>-dbug</tt>
      block.<br></li>

      <li><tt>i</tt> displays info about the state of the
      debugger.<br></li>

      <li><tt>q</tt> quits the debugger.</li>

      <li><tt>t @tuplename</tt> examines the tuple named
      <i>@tuplename</i><br></li>

      <li><tt>x</tt> <i>command command ...</i> executes Ublu
      commands&nbsp; <i>command command</i> ... in a child
      interpreter instance that shares variable and function space
      and i/o with the host interpreter.<br></li>

      <li>Pressing the enter key causes a single-step.</li>
    </ul>

    <p>For other debugging aids, see the <a href=
    "#props"><tt>props</tt></a> command.<br></p>

    <p><i>Example</i><br></p>

    <p><tt>&gt; dbug -step -brk tuple -dbug $[ put -to @foo ${ foo
    bar woof }$ tuple -exists @foo put -from @foo
    ]$</tt><tt><br></tt> <tt><br></tt> <tt>at: put [-to, @foo, ${,
    foo, bar, woof, }$, tuple, -exists, @foo, put, -from,
    @foo]</tt><tt><br></tt> <tt>brk&gt;i</tt><tt><br></tt>
    <tt>ublu.util.DBug@727e86b8</tt><tt><br></tt> <tt>stepping :
    true</tt><tt><br></tt> <tt>breaking : true</tt><tt><br></tt>
    <tt>breakpoints:</tt><tt><br></tt>
    <tt>------------</tt><tt><br></tt>
    <tt>&nbsp;tuple</tt><tt><br></tt> <tt><br></tt> <tt><br></tt>
    <tt>at: put [-to, @foo, ${, foo, bar, woof, }$, tuple, -exists,
    @foo, put, -from, @foo]</tt><tt><br></tt>
    <tt>brk&gt;g</tt><tt><br></tt> <tt><br></tt> <tt>at: tuple
    [-exists, @foo, put, -from, @foo]</tt><tt><br></tt>
    <tt>brk&gt;</tt><tt><br></tt> <tt>true</tt><tt><br></tt>
    <tt><br></tt> <tt>at: put [-from, @foo]</tt><tt><br></tt>
    <tt>brk&gt;</tt><tt><br></tt> <tt>foo bar woof</tt> <tt><br>
    </tt> <tt>&gt;</tt><br></p>
  </blockquote>

  <h4><a name="defun" id="defun"></a><tt>defun</tt></h4>

  <blockquote>
    /<tt>2? [[-define] | [-list] | [-show name]] name tuplename |
    define a function from a name and a functor</tt><br>
    defun takes a name and a the name of a <a href=
    "#Tuple_Variables">tuple variable</a> which refers to a
    <a href="#Functors">functor</a> and associates the functor with
    the name in the function dictionary, thus creating a <a href=
    "#Functions">function</a> findable by command lookup.<br>
    <br>
    The default operation is <tt>-define</tt>.<br>
    <br>
    The operations are:<br>

    <ul>
      <li><tt>-define</tt> (the default operation, this
      dash-command need not be present) defines the function
      <i>name</i> specfied in the arguments as the functor found in
      tuple <i>tuplename</i>.<br></li>

      <li><tt>-list</tt> lists the dictionary of defined functions
      and their definitions in a code-reusable form.</li>

      <li><tt>-show</tt> <i>name</i> shows the function definition
      as found by command lookup in a code-reusable form.<br></li>
    </ul>If the <tt>-list</tt> or <tt>-show <i>name</i></tt>
    <a href="#Dash_Command">dash-command</a> is present no other
    arguments should be present, and no arguments are consumed.<br>
    <br>
    <i>See also</i> <a href="#FUN"><tt>FUN</tt></a> <a href=
    "#FUNC"><tt>FUNC</tt></a><br>
  </blockquote>

  <h4><a name="dict" id="dict"></a> <tt>dict</tt></h4>

  <blockquote>
    <tt>/0 [-to datasink] [-from datasink] [-list | -save | -peek |
    -restore | -merge] : save and restore function
    dictionary</tt><br>
    <br>
    The dictionary of <a href="#Functions">functions</a> created by
    the action of <a href="#FUNC"><tt>FUNC</tt></a> and/or <a href=
    "#defun"><tt>defun</tt></a> can be listed, saved, restored, or
    merged with the current dictionary.<br>
    <br>
    The default operation is to list the dictionary of
    functions.<br>
    <br>
    <b>Note</b>: Saved dictionaries are not compatible across
    individual builds of Ublu.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-list</tt> lists the dictionary of defined functions
      and their definitions in a code-reusable form.</li>

      <li><tt>-save</tt> saves the dictionary to the <tt>-to</tt>
      <a href="#Datasinks">datasink</a></li>

      <li><tt>-peek</tt> lists the saved dictionary referenced by
      the <tt>-from</tt> datasink without loading it into the
      current dictionary.<br></li>

      <li>-<tt>restore</tt> restores the dictionary from the
      <tt>-from</tt> datasink

        <ul>
          <li>the <tt>-from</tt> datasink must be a <a href=
          "#Tuple_Variables">tuple variable</a> or a file.<br></li>
        </ul>
      </li>

      <li>
        <tt>-merge</tt> merges a saved dictionary image referred to
        by the <tt>-from</tt> datasink into the current dictionary

        <ul>
          <li>the <tt>-from</tt> datasink must be a <a href=
          "#Tuple_Variables">tuple variable</a> or a file.</li>
        </ul>
      </li>
    </ul>

    <p>See also<br>
    <a href="#FUNC"><tt>FUNC</tt></a> <tt><a href="#FUN">FUN</a>
    <a href="#defun">defun</a></tt></p>
  </blockquote>

  <h4><a name="DO" id="DO"></a> <tt>DO</tt></h4>

  <blockquote>
    <tt>/5 [-undo] @iterator [to|TO] @limit $[ cmd .. ]$ : DO
    iterative from @iterator to @limit exclusive of limit
    incrementing/decrementing @iterator"</tt><br>
    <br>
    The <tt>DO</tt> command iterates over a <a href=
    "#Execution_blocks">block</a> reinstancing the
    <tt>@iterator</tt> with the current loop index post-incremented
    or post-decremented (as directed) until the <tt>@iterator</tt>
    reaches the value of <tt>@limit</tt>, exclusive of the actual
    limit, or until a <tt>BREAK</tt> is encountered.<br>
    <br>
    The limit never becomes the value of the <tt>@iterator</tt>
    which is only reinstanced within the loop. Upon reaching the
    limit, either incrementing or decrementing, the loop is not
    executed and ends instead.<br>
    <br>
    The <tt>-undo</tt> <a href="#Dash_Command">dash-command</a>
    indicates a decrementing, rather than incrementing loop.<br>
    <br>
    Since <tt>@iterator</tt> is reinstanced each loop, it can be
    examined inside the block. The value of the <tt>@iterator</tt>
    after the loop remains whatever it was last set to in a loop,
    so it can be used to determine what iteration a <tt>BREAK</tt>
    occurred on.<br>
    <br>
    The <tt>TO</tt> between tuple variable arguments to the
    <tt>DO</tt> command is optional.<br>
    <br>
    Example<br>
    <br>
    <tt>put -to @start 1</tt> <tt><br></tt> <tt>put -to @end
    10</tt> <tt><br></tt> <tt>DO @start @end $[ put -n -s ${ index
    is }$ put -from @start test -to @break -eq @start 7 IF @break
    THEN $[ put ${ leaving ... }$ BREAK ]$ ]$</tt> <tt><br></tt>
    <i><tt>index is&nbsp; 1</tt></i><i><tt><br></tt></i>
    <i><tt>index is&nbsp; 2</tt></i><i><tt><br></tt></i>
    <i><tt>index is&nbsp; 3</tt></i><i><tt><br></tt></i>
    <i><tt>index is&nbsp; 4</tt></i><i><tt><br></tt></i>
    <i><tt>index is&nbsp; 5</tt></i><i><tt><br></tt></i>
    <i><tt>index is&nbsp; 6</tt></i><i><tt><br></tt></i>
    <i><tt>index is&nbsp; 7</tt></i><i><tt><br></tt></i>
    <i><tt>leaving ...</tt></i><br>
  </blockquote>

  <h4><a name="dpoint" id="dpoint"></a><tt>dpoint</tt></h4>

  <blockquote>
    <tt>/0? [--,-dpoint @dpoint] [-to datasink] [-dkey ~@{keytext}]
    [-addkey ~@{keytext}] [-type ~@{int|long|float} [-value
    ~@{value}] [-alertlevel ~@{alertlevel}] [-compare
    ~@{gt|gte|lt|lte|info|warn|crit}] [-msg ~@{msg}] : create and
    manipulate monitoring datapoints</tt><br>
    <br>
    The <tt>dpoint</tt> command <tt>put</tt>s a correctly formed
    <a href=
    "http://www.absolute-performance.com/application-performance-management/system-shepherd-performance-monitoring/">
    SystemShepherd &#174;</a> datapoint. The datapoint can be
    partially or fully created and subsquently modified (when an
    extant datapoint is referenced via the <tt>-dpoint</tt>
    <a href="#Dash_Command">dash-command</a>.<br>
    <br>
    The dash-commands that define the datapoint are as follows:<br>

    <ul>
      <li><tt>-dkey ~@{keytext}</tt> defines the dkey such as
      OS|Version|Major.</li>

      <li><tt>-addkey</tt> <tt>~@{keytext}</tt> appends another
      segment to the extant dkey.</li>

      <li>
        <tt>-type</tt> defines the type of the numeric value for
        the data value of the datapoint, one of

        <ul>
          <li><tt>int</tt></li>

          <li><tt>long</tt></li>

          <li><tt>float<br></tt></li>
        </ul>
      </li>

      <li>
        <tt>-alertlevel ~@{alertlevel}</tt> gives the numeric value
        at which the datapoint comparison defined by
        <tt>-comparison</tt> would render the datapoint as
        critical.

        <ul>
          <li>Any dpoint command using <tt>-alertlevel</tt> must
          include the <tt>-type</tt> dash-command.</li>
        </ul>
      </li>

      <li>
        <tt>-value ~@{value}</tt> gives the value of the datapoint.

        <ul>
          <li>Any dpoint command using <tt>-alertlevel</tt> must
          include the <tt>-type</tt> dash-command.</li>
        </ul>
      </li>

      <li>
        <tt>-compare ~@{gt|gte|lt|lte|info|warn|crit}</tt> gives
        the comparison between the value and alertlevel which would
        render the datapoint as critical.

        <ul>
          <li><tt>gt</tt> greater than</li>

          <li><tt>gte</tt> greater than or equal</li>

          <li><tt>lt</tt> less than</li>

          <li><tt>lte</tt> less than or equal</li>

          <li><tt>info</tt> always informational</li>

          <li><tt>warn</tt> always warning</li>

          <li><tt>crit</tt> always critical</li>
        </ul>
      </li>

      <li><tt>-msg ~@{msg}</tt> gives the message used if the
      datapoint is critical.<tt><br></tt></li>
    </ul>
  </blockquote>

  <h4><a name="dq" id="dq"></a> <tt>dq</tt></h4>

  <blockquote>
    <tt>/4? [-as400 @as400] [--,-dq ~@dq] -clear | -create
    ~@{maxentrylength} | -delete | -exists | -instance | -peek |
    -query [ ccsid | description | fifo | forceauxstorage |
    maxentrylength | name | path | savesender | system ] | -read |
    -write ~@{data to write} ~@{dataqueuepath} ~@{system}
    ~@{userid} ~@{password} : manipulate a data queue on the
    host</tt><br>
    <br>
    The <tt>dq</tt> command manipulates a dataqueue on the
    host.<br>
    <br>
    If the <a href="#System_Userid"><tt>-as400</tt></a> <a href=
    "#Dash_Command">dash-command</a> is provided, then the
    arguments <tt>system userid</tt> and <tt>password</tt> must be
    omitted.<br>
    <br>
    The <tt>-dq</tt> <i>@dq</i> dash-command is used to reference
    an existing dataqueue instance previously stored in some tuple
    variable of the user's choice such as <i>@dq</i>. If the
    <tt>-dq</tt> dash-command is used, then the arguments
    <tt>dataqueuepath system userid password</tt> must be
    omitted.<br>
    <br>
    The <tt>dataqueuepath</tt> is a fully-qualified HFS path, e.g.,
    <tt>/qsys.lib/qgpl.lib/events.dtaq</tt><br>
    <br>
    The various operations are as follows:<br>

    <ul>
      <li><tt>-clear</tt> The data queue is emptied of all
      messages.</li>

      <li><tt>-create</tt> The data queue is created on the
      host.</li>

      <li><tt>-delete</tt> The data queue is deleted on the
      host.</li>

      <li><tt>-exists</tt> Puts <tt>true</tt> if the data queue
      exists on the host.</li>

      <li><tt>-instance</tt> Create a dataqueue object representing
      the data queue on the host. This object may be saved in a
      <a href="#Tuple_Variables">tuple variable</a> for later
      reference in a <tt>dq</tt> command via the <tt>-dq @dq</tt>
      dash-command<br></li>

      <li><tt>-peek</tt> Peeks (retrieves without removing from the
      queue) the next message in the data queue putting
      <tt>null</tt> if the queue is empty.<br></li>

      <li>
        <tt>-query</tt> <i>factor</i> Queries a configuration
        factor of the data queue. The factors are:

        <ul>
          <li><tt>ccsid</tt> puts the codepage identifier<br></li>

          <li><tt>description</tt> puts the text description</li>

          <li><tt>fifo</tt> puts true if the queue is first in,
          first out</li>

          <li><tt>forceauxstorage</tt> puts true if messages are
          forced to auxiliary storage</li>

          <li><tt>maxentrylength</tt> puts the maximum entry
          length</li>

          <li><tt>name</tt> puts the queue name</li>

          <li><tt>path</tt> puts the HFS path</li>

          <li><tt>savesender</tt> puts true if sender info is
          saved</li>

          <li><tt>system</tt> puts the system name<br></li>
        </ul>
      </li>

      <li><tt>-read</tt> Reads, puts and removes the next entry in
      the queue putting <tt>null</tt> if the queue is empty.</li>

      <li><tt>-write</tt> <i>~@${ some text }$</i> Writes data to
      the queue. This data should not need to be in string form,
      e.g., if a tuple is provided, but this non-string
      functionality is not fully tested yet.<br></li>
    </ul>The default operation is <tt>-instance</tt> .<br>
    <br>
    The full implementation of data queue support awaits the
    addition of data queue attributes and a <tt>dqentry</tt>
    command.<br>
  </blockquote>

  <h4><a name="eval" id="eval"></a> <tt>eval</tt></h4>

  <blockquote>
    <tt>/2/3 [-to @var] ~@[+ - * / % &lt;&lt; &gt;&gt; ! &amp; | ^
    &amp;&amp; || == &gt; &lt; &lt;= &gt;= != pct] ~@operand
    [~@operand] : arithmetic</tt><br>
    <br>
    <tt>eval</tt> performs arithmetic and logical operations on
    <a href="#Numbers">numbers</a>. <tt>eval</tt> evalutes its
    operator and then exercises the operator on its one or more
    operands. The operator and all operands may each be a plain
    word or may be a tuple referencing the desired operator or
    operand. The result is put to the destination <a href=
    "#Datasinks">datasink</a>, often a <a href=
    "#Tuple_Variables">tuple variable</a>.<br>
    <br>
    The operators and their operands are:<br>

    <ul>
      <li><tt>+</tt> <i>lopr ropr</i> adds <i>lopr</i> to
      <i>ropr</i><br></li>

      <li><tt>-</tt> <i>lopr ropr</i> subracts <i>ropr</i> from
      <i>lopr</i></li>

      <li><tt>*</tt> <i>lopr ropr</i> multiplies <i>lopr</i> times
      <i>ropr</i></li>

      <li><tt>/</tt> <i>lopr ropr</i> divides <i>lopr</i> by
      <i>ropr</i></li>

      <li><i><tt>%</tt></i> <i>lopr ropr</i> is the remainder of
      dividing <i>lopr</i> by <i>ropr</i></li>

      <li><tt>&lt;&lt;</tt> <i>lopr ropr</i> left shifts
      <i>lopr</i> by <i>ropr</i></li>

      <li><tt>&gt;&gt;</tt> <i>lopr ropr</i> right shifts
      <i>lopr</i> by <i>ropr</i></li>

      <li><tt>!</tt> <i>opr</i> returns <tt>true</tt> .IFF.
      <i>opr</i> cannot be evaluated to the string
      <tt>true</tt>,&nbsp; returning <tt>false</tt>
      otherwise<br></li>

      <li><tt>&amp;</tt> <i>lopr ropr</i> returns the bitwise AND
      of its two operands.<br></li>

      <li><tt>|</tt> <i>lopr ropr</i> returns the bitwise OR of its
      two operands.</li>

      <li><tt>^</tt> <i>lopr ropr</i> returns the bitwise XOR of
      its two operands.</li>

      <li><tt>&amp;&amp;</tt> <i>lopr ropr</i> returns the logical
      AND of testing each of its two operands for equality to the
      string <tt>true</tt><br></li>

      <li><tt>||</tt> <i>lopr ropr</i> returns the logical OR of
      testing each of its two operands for equality to the string
      <tt>true</tt></li>

      <li><tt>==</tt> <i>lopr ropr</i> returns <tt>true</tt> .IFF.
      the two operands are equal.<br></li>

      <li><tt>&lt;</tt> <i>lopr ropr</i> returns <tt>true</tt>
      .IFF. <i>lopr&nbsp;</i> is less than <i>ropr</i></li>

      <li><tt>&gt;</tt> <i>lopr ropr</i> returns <tt>true</tt>
      .IFF. <i>lopr&nbsp;</i> is greate than <i>ropr</i></li>

      <li><tt>&lt;=</tt> <i>lopr ropr</i> returns <tt>true</tt>
      .IFF. <i>lopr&nbsp;</i> is less than or equal to
      <i>ropr</i><br></li>

      <li><tt>&gt;=</tt> <i>lopr ropr</i> returns <tt>true</tt>
      .IFF. <i>lopr&nbsp;</i> is greater than or equal to
      <i>ropr</i></li>

      <li><tt>!=&nbsp;</tt><i>lopr ropr</i> returns <tt>true</tt>
      .IFF. <i>lopr&nbsp;</i> is not equal to <i>ropr</i></li>

      <li><i>pct lopr ropr</i> returns the integer (<i>(lopr</i> *
      100) / <i>ropr</i>)<br></li>
    </ul>Use <a href="#test"><tt>test</tt></a> for string
    comparisons.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>eval &gt;&gt; 0xff 4</tt><tt><br></tt>
    <i><tt>15</tt></i><br>
  </blockquote>

  <h4><a name="exit" id="exit"></a> <tt>exit</tt></h4>

  <blockquote>
    <tt>/0 [-rc ~@int] : perform System.exit()</tt><br>
    <br>
    Exits the Java runtime immediately, terminating all threads and
    doing no special cleanup other than that provided by the Java
    runtime itself.<br>
    <br>
    The exit will return to the host system with an exit code of 0
    unless the <tt>-rc</tt> <i>~@int</i> <a href=
    "#Dash_Command">dash-command</a> is used to provide an integer
    exit code.<br>
    <br>
    Unless you need to force exit and/or return a special exit
    code, e.g., to a calling script, use <a href=
    "#bye"><tt>bye</tt></a> instead.<br>
  </blockquote>

  <h4><a name="FOR" id="FOR"></a><tt>FOR</tt></h4>

  <blockquote>
    <tt>/5 @iteratorvar @valuevar $[ cmd .. ]$ : FOR</tt>
    <tt>@iteratorvar (IN | in) @valuevar execute block instancing
    @iteratorvar</tt><br>
    <br>
    The <tt>FOR</tt> command iterates over a <a href=
    "#Execution_blocks">block</a> instancing the
    <i>@iteratorvar</i> with the next element from the enumerable
    <i>@valuevar</i> until the enumeration is exhausted. Only
    certain object types in <i>@valuevar</i> are supported. The
    <tt>IN</tt> between tuple variable arguments to the
    <tt>FOR</tt> command is optional. The list of supported types
    is currently:<br>

    <ul>
      <li>JobList (see the <a href="#joblist"><tt>joblist</tt></a>
      command)

        <ul>
          <li>iterates over each job in the list<br></li>
        </ul>
      </li>

      <li>${ <a href="#Quoted_strings">quoted string</a> }$

        <ul>
          <li>iterates over each word in the string</li>
        </ul>
      </li>

      <li>Any iterable collection such as one created by the
      <tt><a href="#list">list</a></tt> command<br>

        <ul>
          <li>iterates of each object in the collection<br></li>
        </ul>
      </li>

      <li>
        <tt>null</tt>

        <ul>
          <li>No iterations will occur<br></li>
        </ul>
      </li>
    </ul>

    <p>If the value of <i>@valuevar</i> is <tt>null</tt> then no
    iterations will occur and execution will continue normally
    beyond the <tt>FOR</tt> block.<br></p>

    <p>The <i>@iteratorvar</i> name provided to a <tt>FOR</tt>
    command is created by the <tt>FOR</tt> command in a more
    <a href="#Local_variables">local</a> context than the local
    context of any function in which the FOR appears, as the
    following session snippet illustrates:<br></p>

    <blockquote>
      <tt>&gt; FUNC testForItTup ( list ) $[</tt><tt><br></tt>
      <tt>$[) LOCAL @i</tt> <tt><br></tt> <tt>$[) put -to @i
      local@i</tt><tt><br></tt> <tt>$[) FOR @i in @@list
      $[</tt><tt><br></tt> <tt>$[$[) put -from @i</tt><tt><br></tt>
      <tt>$[$[)&nbsp; ]$</tt><tt><br></tt> <tt>$[)&nbsp; put -n -s
      ${ after loop LOCAL @i is : }$ put -from @i</tt><tt><br></tt>
      <tt>$[) ]$</tt><tt><br></tt> <tt>&gt; testForItTup ( @mylist
      )</tt><tt><br></tt> <tt>list item one</tt> <tt><br></tt>
      <tt>list item two</tt> <tt><br></tt> <tt>after loop LOCAL @i
      is :&nbsp; local@i</tt><tt><br></tt> <tt>&gt;</tt> <tt><br>
      </tt>
    </blockquote>In early versions of Ublu the <i>@iteratorvar</i>
    had to be declared explicitly and its value persisted beyond
    the <tt>FOR</tt> block. Nowadays in Ublu the <tt>FOR</tt>
    command instances a new more-local <a href=
    "#Tuple_Variables">tuple variable</a> in a context which no
    longer exists after the FOR block.<br>

    <p><i>Example</i></p>

    <p><i>The following will end all active jobs in the QINTER
    subsystem:</i></p><tt>as400 -to @as400 MYSERVER qsecofr *******
    # create an as400 instance</tt><tt><br></tt> <tt>joblist -to
    @joblist -jobtype INTERACTIVE -active -as400 @as400 # get the
    filtered job list</tt><tt><br></tt> <tt>FOR @j @joblist $[ job
    -job @j -end -1 ]$ # iterate through the list and controlled
    end (-1) each job</tt>
  </blockquote>

  <h4><a name="ftp" id="ftp"></a> <tt>ftp</tt></h4>

  <blockquote>
    <tt>/3? -cd path | -cmd ${ command string }$ | -disconnect |
    -get filepath | -list | -put filepath | -pwd | -session
    @session [ -as400 ] [ -from datasink ] [ -to datasink ] [ -mode
    act/pas ] [ -port portnum ] [ -type asc/bin ] [ -tofile
    destfile ] system userid password<br>
    <br></tt> The <tt>ftp</tt> command provides FTP client
    capability with a persistent session or with one-off
    capability. You may issue <tt>ftp</tt> with any <a href=
    "#Dash_Command">dash-command</a> and provide <i>system userid
    password</i> each time, or you can create and preserve a
    session to use with the various dash-commands.<br>
    <br>
    The main <tt>ftp</tt> dash-commands are:<br>

    <ul>
      <li><tt>-as400</tt> should be used if the target system is an
      AS400.<tt><br></tt></li>

      <li><tt>-cd</tt> <i>path</i> changes the current directory on
      the server to <i>path</i>.</li>

      <li><tt>-cmd</tt> <i>${ command string }$</i> issues the
      <a href="#Quoted_strings">quoted string</a> as a command to
      the server and displays the response.<br></li>

      <li><tt>-disconnect</tt> disconnects the current session
      (usually in conjunction with the <tt>-session</tt>
      dash-command, in which case the -session <a href=
      "#Tuple_Variables">tuple</a> variable is also deleted).</li>

      <li><tt>-get</tt> <i>filepath</i> fetches <i>filepath</i>
      from the server.</li>

      <li><tt>-list</tt> shows a listing of the current server
      directory.</li>

      <li><tt>-put</tt> <i>filepath</i> puts local file
      <i>filepath</i> to the server.</li>

      <li><tt>-pwd</tt> displays the current server
      directory.<br></li>
    </ul>Paths on the server should be specfied either starting
    with <tt>/</tt> (absolute) or <tt>./</tt> (relative).<br>
    <br>
    All filenames and pathnames should be treated as
    case-sensitive.<br>
    <br>
    Destination for file transfers is by default the source
    filename in the current directory (server for <tt>-put</tt>,
    local for <tt>-get</tt>). Use either the <tt>-tofile</tt>
    <i>filepath</i> or the <tt>-to</tt> <i>filepath</i>
    dash-commands to indicate a different destination (on the
    server for <tt>-put</tt>, local for <tt>-get</tt>).<br>
    <br>
    Additionally, settings are changed using the following
    dash-commands (alongside the main commands, or
    independently):<br>

    <ul>
      <li><tt>-mode</tt> <i>act/pas</i> sets FTP Active Mode if the
      <i>act/pas</i> string is <tt>act</tt> and FTP Passive Mode if
      <i>act/pas</i> is <tt>pas</tt>.</li>

      <li><tt>-type</tt> <i>asc/bin</i> sets FTP ASCII Transfer
      Type if <i>asc/bin</i> is <tt>asc</tt> and FTP BinaryTransfer
      Type if <i>asc/bin</i> is <tt>bin</tt>.</li>

      <li><tt>-port</tt> <i>portnum</i> sets FTP port number but
      only before first connection is made, so this dash-command
      should usually be provided with the command that creates the
      session.<br></li>
    </ul>

    <h5>Cautions</h5>

    <ul>
      <li>Use <tt>-mode pas</tt> for AS400 FTP sessions or they may
      hang silently.</li>

      <li>Use <tt>-type bin</tt> for all AS400 FTP transfers
      involving libraries and objects (as opposed to stream files
      from the Integrated File System (IFS)).<br></li>
    </ul>

    <h5>Persistent sessions</h5>

    <p>Persistent sessions are provided by the <tt>-session</tt>
    dash-command. <tt>-session</tt> <i>@session</i> references a
    <a href="#Tuple_Variables">tuple</a> var to hold the persistent
    session. Referencing a nonexistent tuple var in conjunction
    with providing the <i>system userid password</i> arguments to
    the ftp command cause the referenced tuple var to come into
    existence instanced with the FTP session. Thereafter, the
    <i>system userid password</i> arguments are not used: instead,
    each time the ftp command is issued, accompany it with the
    <tt>-session</tt> <i>@session</i> reference established at the
    start, e.g.:<br></p>

    <blockquote>
      <tt>ftp -session @mysess -port 2121 someserver myuserid
      mypasswd</tt><tt><br></tt> <tt>ftp -session @mysess -cd
      someserverpath</tt><tt><br></tt> <tt>ftp -session @mysess
      -mode pas -type bin -get somefile -to
      localfilepath</tt><tt><br></tt> <tt>ftp -session @mysess
      disconnect</tt><br>
    </blockquote>
  </blockquote>

  <h4><a name="FUN" id="FUN"></a> <tt>FUN</tt></h4>

  <blockquote>
    <tt>/6.. [-to @tuplename] ( parameter name list )&nbsp; $[ an
    execution block possibly spanning lines ]$ : create a
    functor</tt><br>
    <br>
    A <a href="#Functors">functor</a> is created and put to the
    destination <a href="#Datasinks">datasink</a>, most usefully
    with the <tt>-to</tt> <a href="#Dash_Command">dash-command</a>
    to store the new functor in <i>@tuplename</i>.<br>
    <br>
    When the functor is defined, a list of form parameter names is
    provided. The names are plain in the list, but if they appear
    decorated with <tt>@@</tt> (e.g., <tt>@@mySubstitution</tt>) in
    the <a href="#Execution_blocks">execution block</a> which
    follows the parameter list, then when the functor is invoked
    via <a href="#CALL"><tt>CALL</tt></a> the list, usually tuple
    names (though plain words are permitted), provided to the
    <tt>CALL</tt> command will be substituted for the formal
    parameter names.<br>
    <br>
    The parameter name list is surrounded by parentheses and
    separated by one space from the parentheses.<br>
    <br>
    The execution block is surrounded by <tt>$[</tt> and
    <tt>]$</tt> and separated by one space from them.<br>
    <br>
    The entire parameter name list and opening <tt>$[</tt> bracket
    of the execution block must all appear on the same line
    immediately following the <tt>FUNC</tt> command, though
    otherwise the execution block can span multiple lines.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>FUN -to @fun ( a b c ) $[ put -from @@a put -from @@b put
    -from @@c ]$</tt><tt><br></tt> <tt>put -from @fun</tt><br>
    <tt><i>ublu.util.Functor@5f40727a ( a b c ) $[ put -from @@a
    put -from @@b put -from @@c&nbsp; ]$</i></tt><tt><br>
    put -to @aleph ${ this is a }$</tt> <tt><br></tt> <tt>put -to
    @beth ${ and here is b }$</tt> <tt><br></tt> <tt>put -to
    @cinzano ${ la dee dad }$</tt> <tt><br></tt> <tt>CALL @fun (
    @</tt><tt>aleph</tt> <tt>@beth</tt> <tt>@cinzano
    )</tt><tt><br></tt> <tt><i>this is a</i> <i><br></i> <i>and
    here is b</i> <i><br></i> <i>la dee dad</i><br></tt> <tt>FUN
    -to @fun ( ) $[ put ${ zero param functor }$
    ]$</tt><tt><br></tt> <tt>CALL @fun ( )</tt><tt><br>
    <i>zero param functor</i><br></tt> <tt>put -from @fun</tt><br>
    <i><tt>ublu.util.Functor@67ba0609 ( ) $[ put ${ zero param
    functor }$&nbsp; ]$</tt></i><i><br></i>
  </blockquote>

  <h4><a name="FUNC" id="FUNC"></a><tt>FUNC</tt></h4>

  <blockquote>
    <tt>/7?.. [[-define] [-delete name] | [-list] | [-show name]]
    name ( parameter name list )&nbsp; $[ an execution block
    possibly spanning lines ]$ : define a named fnction<br>
    &nbsp;&nbsp;&nbsp;</tt><br>
    A function is created and added to the command lookup so that
    it will be found in normal command processing.<br>
    <br>
    The default operation is <tt>-define</tt>. This <a href=
    "#Dash_Command">dash-command</a> need not be present.<br>
    <br>
    The operations are:<br>

    <ul>
      <li><tt>-define</tt> (the default operation, this
      dash-command need not be present) defines the function
      <i>name</i> specfied in the arguments as the parameter list
      and execution block provided following in the argument
      stream.</li>

      <li><tt>-delet</tt><tt>e</tt> <i>name</i> deletes the
      function <i>name</i> from the dictionary.<br></li>

      <li><tt>-list</tt> lists the dictionary of defined functions
      and their definitions in a code-reusable form.<br></li>

      <li><tt>-show</tt> <i>name</i> shows the function definition
      as found by command lookup in a code-reusable form.<br></li>
    </ul>If the <tt>-list</tt> or <tt>-delete</tt> or <tt>-show
    <i>name</i></tt> <a href="Dash_Command">dash-command</a> is
    present no other arguments should be present, and no arguments
    are consumed.<br>
    <br>
    When the function is defined, a list of form parameter names is
    provided. The names are plain in the list, but if they appear
    decorated with <tt>@@</tt> (e.g., <tt>@@mySubstitution</tt>) in
    the <a href="#Execution_blocks">execution block</a> which
    follows the parameter list, then when the function is invoked
    by command processing, the members of the list, usually tuple
    names (though plain words are permitted), provided to the
    function at execution type will be substituted for the matching
    formal parameter names as they appear in the function.<br>
    <br>
    The parameter name list is surrounded by parentheses and
    separated by one space from the parentheses.<br>
    <br>
    The execution block is surrounded by <tt>$[</tt> and
    <tt>]$</tt> and separated by one space from them.<br>
    <br>
    The entire parameter name list and opening <tt>$[</tt> bracket
    of the execution block must all appear on the same line
    immediately following the <tt>FUNC</tt> command, though
    otherwise the execution block can span multiple lines.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>FUNC showJobs ( joblist jobtype1 jobtype2 ) $[<br>
    &nbsp;&nbsp;&nbsp; FOR @j in @@joblist $[<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -from
    @@jobtype1 put -n -from @@jobtype2 put -n ${ job }$<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s -from
    @j<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${ is
    owned by }$ job -job @j -get user<br>
    &nbsp;&nbsp;&nbsp; ]$<br>
    ]$<br>
    as400 -to @as400 MYHOST SOMEUSERID ********<br>
    put ${ Getting list of all active interactive jobs }$<br>
    joblist -to @joblist -jobtype INTERACTIVE -active -as400
    @as400<br>
    put ${ Showing all active interactive jobs }$<br>
    put -to @jobtype1 ${ active }$<br>
    put -to @jobtype2 ${ interactive }$<br>
    showJobs ( @joblist @jobtype1 @jobtype2 )<i><br>
    <br>
    12345/MYUSER/MYJOB ...<br></i></tt>
  </blockquote>

  <h4><a name="gensh" id="gensh"></a><tt>gensh</tt></h4>

  <blockquote>
    <tt>/5+ [-to datasink] [[-path fullyqualifiedjarpath] [-opt
    optchar assignment_name tuplename ${ description }$] [-optr
    optchar assignment_name tuplename ${ description }$] [-optx
    optchar assignment_name tuplename ${ description }$]]
    ~@${scriptname} ~@${includename}$ ~@${ functionCall ( @a @b ...
    ) }$ : generate launcher shell script</tt><br>
    <br>
    The <tt>gensh</tt> command generates a shell script to launch
    Ublu and call your top-level application program function with
    specified arguments provided via command-line switches as is
    customary with shell scripts.<br>
    <br>
    In the generated script, arguments are translated from
    arguments of user-specified shell script options to <a href=
    "#Tuple_Variables">tuples</a> on the command line of the
    invocation. The specified file of Ublu functions is <a href=
    "#include">include</a>d and the specified <a href=
    "#Functions">function</a> is invoked with arguments bound to
    the translated tuple definitions.<br>
    <br>
    The script composed by <tt>gensh</tt> is put to the destination
    <a href="#Datasinks">datasink</a>. Typically you will write to
    a file via the <tt>-to</tt> <i>filename</i> <a href=
    "#Dash_Command">dash-command</a>.<br>
    <br>
    The arguments to <tt>gensh</tt> which you use to create your
    script are preserved in a comment line at the head of the
    script to aid in the recreation of the script or in the
    composition of similar scripts.<br>
    <br>
    The dash-commands are as follows:<br>

    <ul>
      <li><tt>-opt optchar assignment_name tuplename ${ description
      }$</tt> creates a Berkeley getopt(1) option that will assign
      <i>optchar</i>'s argument to shell variable
      <tt>assignment_name</tt> and from there to <tt>tuplename</tt>
      with a description in the script help message furnished by
      the <a href="#Quoted_strings">quoted string</a> <tt>${
      description }$</tt>.</li>

      <li><tt>-optr optchar assignment_name tuplename ${
      description }$</tt> creates a Berkeley getopt(1) option&nbsp;
      that will assign <i>optchar</i>'s argument to shell variable
      <tt>assignment_name</tt> and from there to <tt>tuplename</tt>
      with a description in the script help message furnished by
      the <a href="#Quoted_strings">quoted string</a> <tt>${
      description }$</tt> and which will be <b>required</b> at
      runtime, causing the generated shell script to exit with a
      <tt>errno</tt> of <tt>2</tt> if the option is not
      present.<br></li>

      <li>
        <tt>-optx optchar assignment_name tuplename ${ description
        }$</tt> creates a Berkeley getopt(1) option that will
        assign multiple <i>optchar</i>s' arguments cumulatively to
        shell variable <tt>assignment_name</tt> and from there to
        <tt>tuplename</tt> as a quoted string with a description in
        the script help message furnished by the <a href=
        "#Quoted_strings">quoted string</a> <tt>${ description
        }$</tt>.

        <ul>
          <li>If no instances of the multiple option are
          encountered at runtime, the <i>@tuplename</i> for this
          option will be instanced to null.<br></li>
        </ul>
      </li>

      <li><tt>-path fullyqualifiedjarpath</tt> sets the full path
      to the Ublu jar file. The default is
      <tt>./</tt><tt>ublu.jar</tt></li>
    </ul>The arguments to the command are as follows:<br>

    <ul>
      <li><tt>~@${scriptname}</tt> is the name and whatever other
      text you care to see appear to the right of a first-line
      shell comment<br></li>

      <li><tt>~@${includename}$</tt> is the name of the Ublu file
      of function definitions to include<br></li>

      <li><tt>~@${ functionCall ( @a @b ... ) }$</tt> is a quoted
      string naming the function invocation to perform after the
      file is included along with the arguments. The arguments
      should match tuple names assigned via the <tt>-opt</tt> and
      <tt>-optx</tt> dash-commands.<br></li>
    </ul><b>Note</b> that the option <tt>-h</tt> is reserved
    because <tt>gensh</tt> automatically generates a <tt>-h</tt>
    option which gives a usage message.<br>
    <br>
    If the resultant script generated by gensh is invoked with the
    keyword <tt>silent</tt> before all options (e.g.,
    <tt>myscript.sh <b>silent</b> -a foo -b bar</tt> ... etc.) then
    <tt>include</tt>d files do not echo and prompting is suppressed
    (via the inserted command string <tt><a href="#props">props</a>
    -set includes.echo false props -set prompting false</tt> ).<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>$ cat myFunc.ublu</tt><br>
    <tt>FUNC myFunc ( xclude fnd ) $[</tt><br>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${ excluding
    }$ put -from @@xclude</tt><br>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${ finding
    }$ put -from @@fnd</tt><br>
    <tt>]$</tt><br>
    <br>
    <tt>$ java -jar ublu.jar gensh -to foo.sh -optx x EXCLUDE
    @exclude \${ excludes 0 to many things }$ -opt f FIND @find \${
    finds something }$ -path /opt/ublu/ublu.jar \${ myscript.sh ...
    do something }$ myFunc.ublu \${ myFunc \( @exclude @find \)
    }$</tt><br>
    <tt>$ ./foo.sh -x this -x that -f foo</tt><br>
    <tt>:: FUNC myFunc ( xclude fnd ) $[</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    excluding }$ put -from @@xclude</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    finding }$ put -from @@fnd</tt><br>
    <tt>($[) ]$</tt><br>
    <tt>::</tt><br>
    <tt>excluding&nbsp; that this</tt><br>
    <tt>finding&nbsp; foo</tt><br>
    <tt>$ ./foo.sh -x this -f foo</tt><br>
    <tt>:: FUNC myFunc ( xclude fnd ) $[</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    excluding }$ put -from @@xclude</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    finding }$ put -from @@fnd</tt><br>
    <tt>($[) ]$</tt><br>
    <tt>::</tt><br>
    <tt>excluding&nbsp; this</tt><br>
    <tt>finding&nbsp; foo</tt><br>
    <tt>$ ./foo.sh -x this</tt><br>
    <tt>:: FUNC myFunc ( xclude fnd ) $[</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    excluding }$ put -from @@xclude</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    finding }$ put -from @@fnd</tt><br>
    <tt>($[) ]$</tt><br>
    <tt>::</tt><br>
    <tt>excluding&nbsp; this</tt><br>
    <tt>finding&nbsp; null</tt><br>
    <tt>$ ./foo.sh</tt><br>
    <tt>:: FUNC myFunc ( xclude fnd ) $[</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    excluding }$ put -from @@xclude</tt><br>
    <tt>($[)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -n -s ${
    finding }$ put -from @@fnd</tt><br>
    <tt>($[) ]$</tt><br>
    <tt>::</tt><br>
    <tt>excluding&nbsp; null</tt><br>
    <tt>finding&nbsp; null</tt><br>
    <tt>$ cat foo.sh</tt><br>
    <tt># myscript.sh ... do something<br>
    # autogenerated Tue Nov 18 10:58:46 MST 2014 by jwoehr using
    command:<br>
    # gensh -to foo.sh -optx x EXCLUDE @exclude ${ excludes 0 to
    many things }$ -opt f FIND @find ${ finds something }$ -path
    /opt/ublu/ublu.jar ${ myscript.sh ... do something }$
    myFunc.ublu ${ myFunc ( @exclude @find ) }$<br>
    <br>
    # Usage message<br>
    function usage () {<br>
    echo "Usage: $0 [silent] -h -x EXCLUDE [-x EXCLUDE ..] -f FIND
    "<br>
    echo "&nbsp;&nbsp;&nbsp; where"<br>
    echo "&nbsp;&nbsp;&nbsp; -h&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; display this help message and exit 0"<br>
    echo "&nbsp;&nbsp;&nbsp; -x EXCLUDE [-x EXCLUDE
    ..]&nbsp;&nbsp;&nbsp; excludes 0 to many things "<br>
    echo "&nbsp;&nbsp;&nbsp; -f FIND&nbsp;&nbsp;&nbsp; finds
    something "<br>
    echo "---"<br>
    echo "If the keyword 'silent' appears ahead of all options,
    then included files will not echo and prompting is
    suppressed."<br>
    echo "Exit code is the result of execution, or 0 for -h or 2 if
    there is an error in processing options"<br>
    }<br>
    <br>
    #Test if user wants silent includes<br>
    if [ "$1" == "silent" ]<br>
    then<br>
    &nbsp;&nbsp;&nbsp; SILENT=" props -set includes.echo false
    props -set prompting false "<br>
    &nbsp;&nbsp;&nbsp; shift<br>
    else<br>
    &nbsp;&nbsp;&nbsp; SILENT=" "<br>
    fi<br>
    <br>
    # Process options<br>
    options=`getopt x:f:h&nbsp; $*`<br>
    if [ $? != 0 ]<br>
    then<br>
    &nbsp;&nbsp;&nbsp; usage<br>
    &nbsp;&nbsp;&nbsp; exit 2<br>
    fi<br>
    for i in&nbsp; $options&nbsp; {<br>
    do<br>
    &nbsp;&nbsp;&nbsp; case "$i"<br>
    &nbsp;&nbsp;&nbsp; in<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; -x)<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    EXCLUDE="$2 ${EXCLUDE}";shift;<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    shift;;<br>
    <br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; -f)<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    FIND="$2";shift;<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    shift;;<br>
    <br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; -h)<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    usage;exit 0;shift;<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    shift;;<br>
    <br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; --)<br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shift;
    break;;<br>
    &nbsp;&nbsp;&nbsp; esac<br>
    done<br>
    <br>
    # Translate options to tuple assignments<br>
    if [ "${EXCLUDE}" != "" ]<br>
    then<br>
    &nbsp;&nbsp;&nbsp;
    gensh_runtime_opts="${gensh_runtime_opts}string -to @exclude
    -trim \${ ${EXCLUDE} }$ "<br>
    else<br>
    &nbsp;&nbsp;&nbsp;
    gensh_runtime_opts="${gensh_runtime_opts}tuple -null @exclude
    "<br>
    fi<br>
    if [ "${FIND}" != "" ]<br>
    then<br>
    &nbsp;&nbsp;&nbsp;
    gensh_runtime_opts="${gensh_runtime_opts}string -to @find -trim
    \${ ${FIND} }$ "<br>
    fi<br>
    <br>
    # Invocation<br>
    java -jar /opt/ublu/ublu.jar${SILENT}${gensh_runtime_opts}
    include myFunc.ublu myFunc \( @exclude @find \)<br>
    exit $?</tt><br>
  </blockquote>

  <h4><a name="help" id="help"></a><tt>help</tt></h4>

  <blockquote>
    <p><tt>/0 [[-cmd commandname] | [-all] | [-version]] [-linelen
    ~@{optional_line_length}] : display usage and help
    message</tt><br></p>

    <p>Displays formatted help for commands.<br></p>

    <p>With no <a href="#Dash_Command">dash-command</a>, displays a
    usage message and lists all built-in commands.</p>

    <ul>
      <li><tt>-all</tt> displays help for all built-in
      commands.</li>

      <li><tt>-cmd</tt> <i>commandname</i> displays help for the
      specific built-in command or the definition of a defined
      <a href="#Functions">function</a> of that name.</li>

      <li><tt>-version</tt> displays version info for the system
      and its library dependencies.</li>

      <li><tt>-linelen</tt> <i>line_length</i> sets formatted line
      length to <i>line_length</i>. The formatting applies to the
      help text from its initial indent onwards, so total line
      length for individual command help and for <tt>-all</tt>
      output will be greater than the <i>line_length</i>
      value.<br></li>
    </ul>

    <p>Same as <a href="#usage"><tt>usage</tt></a>.</p>
  </blockquote>

  <h4><a name="histlog" id="histlog"></a><tt>histlog</tt></h4>

  <blockquote>
    <tt>/0 [-to datasink] [--,-histlog @histlog] [-as400 ~@as400 ]
    [-instance] [-close] [-get] [-examine] [-jobs ~@listofjobs]
    [-severity 0-99] [-startdate yyyy/mm/dd] [-enddate yyyy/mm/dd]
    [-msgids ~@list]&nbsp; [-msgidsinc omit|select] [-msgtypes
    ~@list] [-msgtypesinc omit|select] : get (filtered) history
    log<br>
    <br></tt> The <tt>histlog</tt> command retrieves, converts to a
    list and <tt>put</tt>s the host's history log. The log is
    filtered by the <a href="#Dash_Command">dash-commands</a>
    specifying inclusions or exclusions.<br>

    <ul>
      <li>
        <tt>-instance</tt> is the default operation, creating the
        HistoryLog object with defaults.

        <ul>
          <li>The actual history lines from the host system
          specified by the <tt>-as400 ~@as400</tt> dash-command are
          retrieved via the <tt>-get</tt> dash-command.</li>
        </ul>
      </li>

      <li>
        <tt>-close</tt> closes the HistoryLog specified by the
        <tt>-histlog</tt> dash-command (created prior via
        <tt>-instance</tt>).

        <ul>
          <li>The HistoryLog should always be closed when you are
          done with it.</li>
        </ul>
      </li>

      <li><tt>-get</tt> puts the HistoryLog specified by the
      <tt>-histlog</tt> dash-command (created prior via
      <tt>-instance</tt>) as a list of the sort created by the
      <a href="#list"><tt>list</tt></a> command.</li>

      <li>
        <tt>-examine</tt> puts information about the HistoryLog
        object specified by the <tt>-histlog</tt> dash-command
        (created prior via <tt>-instance</tt>), particulalry its
        filters.

        <ul>
          <li>Used for debugging.</li>
        </ul>
      </li>

      <li><tt>-jobs ~@listofjobs</tt> filters the HistoryLog being
      created at <tt>-instance</tt> time by a list of Job objects
      (retrieved via <a href="#joblist"><tt>joblist</tt></a> and
      converted to a list of the sort created by the <a href=
      "#list"><tt>list</tt></a> command).</li>

      <li><tt>-severity</tt> filters the HistoryLog being created
      at <tt>-instance</tt> time for entries of the given severity
      or higher. The range is 0-99.</li>

      <li><tt>-startdate</tt> filters the HistoryLog being created
      at <tt>-instance</tt> time for entries on or after the start
      date given.</li>

      <li><tt>-end</tt><tt>date</tt> filters the HistoryLog being
      created at <tt>-instance</tt> time for entries on or before
      the end date given.</li>

      <li><tt>-msgids</tt> filters the HistoryLog being created at
      <tt>-instance</tt> time by the message ids provided in list
      of the sort created by the <a href="#list"><tt>list</tt></a>
      command.</li>

      <li><tt>-msgidsinc omit|select</tt> indicates whether the
      <tt>-msgids</tt> filter is inclusionary or exclusionary.</li>

      <li><tt>-</tt><tt>msgtypes</tt> filters the HistoryLog being
      created at <tt>-instance</tt> time by the message types
      provided in list of the sort created by the <a href=
      "#list"><tt>list</tt></a> command.</li>

      <li><tt>-</tt><tt>msgtypesinc omit|select</tt> indicates
      whether the <tt>-</tt><tt>msgtypes</tt> filter is
      inclusionary or exclusionary.</li>
    </ul>
  </blockquote>

  <h4><a name="history" id="history"></a><tt>history</tt> -or-
  <tt>h<br></tt></h4>

  <blockquote>
    <tt>/0 [-on | -off | -onfile filename | -do linenum [-change
    expr1 expr2] | -show</tt> <tt>[-to datasink] | -head numlines |
    -tail numlines | -name | -range firstline lastline]</tt><br>
    manages history files of command lines entered into Ublu. The
    default history file name is <tt>./Ublu.history.ublu</tt> .<br>
    <br>
    History recording is off by default. If turned on, the history
    file will be created if it does not exist, and appended to if
    it does already exist.<br>
    <br>
    Ublu remembers the last history file name set, so turning on
    history recording resumes with the last file name used for
    history.<br>
    <br>
    When displaying history, the history display ends with the
    command line before the current one.<br>

    <ul>
      <li><tt>-on</tt> turns on history recording with the current
      history file name.</li>

      <li><tt>-off</tt> turns off history recording. The history is
      still accessible, but it does not grow.</li>

      <li>-<tt>onfile</tt> <i>filename</i> turns history recording
      on, changing the history file name to <i>filename</i>.</li>

      <li>
        <tt>-do</tt> <i>linenum</i> repeats the commands of
        <i>linenum</i> in the history buffer.

        <ul>
          <li>
            <tt>-change</tt> <i>expr1 expr2</i> will change all
            instances of <i>expr1</i> to <i>expr2</i> for the
            <tt>-do</tt>

            <ul>
              <li><tt>-change</tt> is a simple string replacement,
              not a regex search.</li>
            </ul>
          </li>
        </ul>
      </li>

      <li><tt>-head</tt> <i>numlines</i> displays the first
      <i>numlines</i> lines of the current history file or puts
      them to the <tt>-to</tt> datasink</li>

      <li><tt>-name</tt> displays the name of the current history
      file or puts it to the <tt>-to</tt> datasink<br></li>

      <li><tt>-range</tt> <i>firstline lastline</i> displays all
      the history between <i>firstline</i> and <i>lastline</i>
      inclusive, or puts them to the <tt>-to</tt> datasink<br></li>

      <li><tt>-show</tt> displays the entire history in the current
      history file or puts it to the <tt>-to</tt> datasink</li>

      <li><tt>-tail</tt> <i>numlines</i> displays the first
      <i>numlines</i> lines of the current history file.</li>
    </ul>

    <p>If no operation is selected using a <a href=
    "#Dash_Command">dash-command</a>, the default operation is
    <tt>-show</tt>.</p>

    <p>To turn history recording on in a write-protected directory,
    be sure to use the <tt>-onfile</tt> dash-command in place of
    the -on dash-command.<br></p>

    <p>Note that history can be saved in a <a href=
    "#Tuple_Variables">tuple</a> and later be the subject of an
    <a href="#include"><tt>include</tt></a>.</p>

    <p><i>Example:</i></p><tt>&gt; put ${ a a a }$<br>
    <i>a a a</i><br>
    &gt; put ${ B B B }$<br>
    <i>B B B</i><br>
    &gt; put ${ C C C }$<br>
    <i>C C C</i><br>
    &gt; history<br>
    <i>1 put ${ a a a }$</i><i><br></i> <i>2 put ${ B B B
    }$</i><i><br></i> <i>3 put ${ C C C }$</i><br>
    &gt; history -show -range 1 3 -to @my_program<br>
    &gt; put -from @my_program<br>
    <i>put ${ a a a }$</i><i><br></i> <i>put ${ B B B
    }$</i><i><br></i> <i>put ${ C C C }$</i><br>
    &gt; include -from @my_program<br>
    <i>:: put ${ a a a }$</i><i><br></i> <i>a a a</i><i><br></i>
    <i>:: put ${ B B B }$</i><i><br></i> <i>B B B</i><i><br></i>
    <i>:: put ${ C C C }$</i><i><br></i> <i>C C C</i></tt>
  </blockquote>

  <h4><a name="host" id="host"></a> <tt>host</tt></h4>

  <blockquote>
    <h4><tt>/3</tt> <tt>[-to @var] [-instance] [-port ~@{portnum}]
    [-ssl @null|false_or_usessl] [-usessl] ~@{hostname} ~@{user}
    ~@{password} : instance a smapi host, default port
    44444</tt><br></h4>The <tt>host</tt> command creates and
    instance of a TCP/IP reference to a z/VM SMAPI host which can
    then be used as an argument to the <a href=
    "#smapi"><tt>smapi</tt></a> command. This is analogous to the
    use of an <a href="#as400"><tt>as400</tt></a> object to access
    an i Series OS server.<br>
    <br>
    The <a href="#Dash_Command">dash-commands</a> are as
    follows:<br>

    <ul>
      <li><tt>-instance</tt> is the default operation, instance the
      object described by the arguments.</li>

      <li>
        <tt>-port</tt> is the SMAPI TCP/IP portnumber on the host.

        <ul>
          <li>the default is <tt>44444</tt></li>
        </ul>
      </li>

      <li><tt>-ssl</tt> expects a tuple variable which if
      evaluating to anything other than null or boolean false means
      "use the Secure Sockets Layer to connect to the host".</li>

      <li><tt>[-usessl]</tt> means "use the Secure Sockets Layer to
      connect to the host".</li>
    </ul>
  </blockquote>

  <h4><a name="IF" id="IF"></a><tt>IF THEN ELSE</tt><br></h4>

  <blockquote>
    <p><tt>/1 [-!] @var : IF tests boolean @var (inverted by -!)
    and executes THEN $[ cmd cmd .. ]$ if true, ELSE&nbsp; $[ cmd
    cmd .. ]$ if false</tt><br></p>

    <p><tt>IF</tt> is a conditional execution command. <tt>IF</tt>
    tests the <a href="#Tuple_Variables">tuple variable</a>
    provided, which is usually set by the <a href=
    "#test"><tt>test</tt></a> command. The variable contains the
    boolean value <tt>true</tt> or <tt>false</tt>. If
    <tt>true</tt>, the <tt>THEN</tt> <a href=
    "#Execution_blocks">block</a> is executed. Otherwise, the
    <tt>ELSE</tt> block is executed.<br></p>

    <p>Since the value <tt>null</tt> can indicate a tuple that has
    been created but not yet set to any value, the value
    <tt>null</tt> causes an error condition when encountered by an
    <tt>IF</tt>. Only <tt>true</tt> or <tt>false</tt> are valid
    values.</p>

    <p>The execution blocks of <tt>THEN</tt> and <tt>ELSE</tt> can
    span multiple lines, however:<br></p>

    <ul>
      <li>The block opener <b><tt>$[</tt></b> must immediately
      follow on the same line the <tt>THEN</tt> or <tt>ELSE</tt>
      command.<br></li>

      <li><tt>THEN</tt> (and its <b><tt>$[</tt></b> block opener)
      must immediately follow on the same line the <tt>IF</tt>
      command.</li>

      <li><tt>ELSE</tt> (and its <b><tt>$[</tt></b> block opener)
      must immediately follow on the same line the block closer
      <b><tt>]$</tt></b> from the <tt>THEN</tt> command.</li>

      <li><tt>-!</tt> inverts the condition represented by the
      tuple variable to treat false as true and true as
      false.<br></li>
    </ul>

    <p><i>Example</i><br>
    <tt>put -to @foo ${ a }$</tt> <tt><br></tt> <tt>put -to @bar ${
    a }$</tt> <tt><br></tt> <tt>test -to @woof -eq @foo @bar</tt>
    <tt><br></tt> <tt>IF @woof THEN $[ put ${ they are equal }$ ]$
    ELSE $[ put ${ they are not equal }$ ]$<br>
    put -to @foo ${ all the beautiful horses }$<br>
    test -to @woof -jcls @foo java.lang.String<br>
    IF @woof THEN $[ put ${ tuple is indeed a java String }$ ]$
    ELSE $[ put ${ tuple is not a java String }$ ]$<br></tt></p>
  </blockquote>

  <h4><a name="ifs" id="ifs"></a> <tt>ifs</tt></h4>

  <blockquote>
    <tt>/4? [-as400 @as400] [-create | -delete | -exists | -file |
    -list | -mkdirs | -read ~@${offset}$ ~@${chars}$ | -write [${
    string }$]] [-to datasink] [-from datasink]
    ~@${/fully/qualified/pathname}$ ~@${system}$ ~@${user}$
    ~@${password}$ : integrated file system access<br>
    <br></tt> The <tt>ifs</tt> command performs operations on the
    OS/400 integrated file system, operating on files and
    directories equally. Use the <tt>-file</tt> <a href=
    "#Dash_Command">dash-command</a> to create a reference to the
    IFS object which can be stored in a <a href=
    "#Tuple_Variables">tuple variable</a> for subsequent use with
    the <tt>-to</tt> and <tt>-from</tt> dash-commands as described
    below. If the <a href="#System_Userid"><tt>-as400</tt></a>
    dash-command is provided, then the arguments <tt>system
    userid</tt> and <tt>password</tt> must be omitted.<br>
    <br>
    <b>Note</b> that if the <tt>-from datasink</tt> dash-command is
    used with the <tt>-write</tt> dash-command, the <tt>-from</tt>
    dash-command must appear in the command invocation
    <i>before</i> the <tt>-write</tt> dash-command. The reason is
    that the <tt>-write</tt> dash-command will expect to be
    followed by a <a href="#Quoted_strings">quoted string</a> for
    text to write unless it has already been established that the
    text to write will come from another <a href=
    "#Datasinks">datasink</a>.<br>

    <ul>
      <li><tt>-create</tt> creates the IFS object specified by
      either by <tt>/fully/qualified/pathname</tt> or by the tuple
      variable referenced by the <tt>-from</tt> dash-command.</li>

      <li><tt>-delete</tt> deletes the IFS object specified by
      <tt>/fully/qualified/pathname</tt> or by the tuple variable
      referenced by the <tt>-from</tt> dash-command.</li>

      <li><tt>-exists</tt> returns the string <tt>true</tt> if the
      IFS object specified by <tt>/fully/qualified/pathname</tt> or
      by the tuple variable referenced by the <tt>-from</tt>
      dash-command exists, <tt>false</tt> otherwise.</li>

      <li><tt>-file</tt> creates a reference to the IFS object
      suitable for storage to a tuple variable via the <tt>-to</tt>
      <i>datasink</i> dash-command.</li>

      <li><tt>-list</tt> returns a listing of files in the IFS
      directory specifed by <i>/fully/qualified/pathname</i> or by
      the tuple variable referenced by the <tt>-from</tt>
      dash-command assuming that <i>pathname</i> refers to a
      directory.</li>

      <li><tt>-mkdirs</tt> creates the IFS directory specifed by
      <i>/fully/qualified/pathname</i> or by the tuple variable
      referenced by the <tt>-from</tt> dash-command, including all
      parent directories if necessary.</li>

      <li><tt>-read</tt> reads <i>chars</i> characters of data
      starting at <i>offset</i> from
      <i>/fully/qualified/pathname.</i></li>

      <li>
        <tt>-write</tt> writes <i>${ string}</i> to
        <i>/fully/qualified/pathname</i> (or to the file specified
        by the tuple variable referenced by a <tt>-to</tt>
        dash-command has been provided). If the <tt>-from</tt>
        dash-command has been provided, the text to write comes
        from that source <a href="#Datasinks">datasink</a>.

        <ul>
          <li><b>Note</b> that if the <tt>-from datasink</tt>
          dash-command is used with the <tt>-write</tt>
          dash-command, the <tt>-from</tt> dash-command must appear
          in the command invocation <i>before</i> the
          <tt>-write</tt> dash-command. The reason is that the
          <tt>-write</tt> dash-command will expect to be followed
          by a <a href="#Quoted_strings">quoted string</a> for text
          to write unless it has already been established that the
          text to write will come from another <a href=
          "#Datasinks">datasink</a>.</li>
        </ul>
      </li>
    </ul>
  </blockquote>

  <h4><a name="interpret" id=
  "interpret"></a><tt>interpret</tt></h4>

  <blockquote>
    <tt>/0 [-block [-block $[ block ...]$]] : run the interpreter,
    possibly on a provided block<br>
    <br></tt> The <tt>interpret</tt> command runs a nested instance
    of the interpreter. This command can come at the end of a
    commandline mode operation to launch the interpreter. If issued
    in interpretive mode, stacks another intepreter. One layer of
    interpreter unnests with each <a href="#bye"><tt>bye</tt></a>
    command. All interpreter instances exit together when the
    <a href="#exit"><tt>exit</tt></a> command is encountered.<br>
    <br>
    An <a href="#Execution_blocks">execution block</a> can be
    provided via the <tt>-block</tt> <a href=
    "#Dash_Command">dash-command</a>. In this case, the interpreter
    instance unnests at the end of the block.<br>
    <br>
    <tt><i>Example</i></tt><tt><br></tt> <tt>&gt;
    interpret</tt><tt><br></tt> <tt>1&gt;
    interpret</tt><tt><br></tt> <tt>2&gt;
    interpret</tt><tt><br></tt> <tt>3&gt; bye</tt> <tt><br></tt>
    <tt>2&gt; bye</tt><tt><br>
    interpret -block $[ LOCAL @foo put -to @foo ${ bar }$ tuple
    -map put -from @foo ]$<br>
    @foo<br>
    bar<br>
    &gt; tuple -map<br>
    <br>
    &gt;<br></tt> <tt>1&gt; bye</tt><tt><br></tt> <tt>&gt;
    bye</tt><br>
  </blockquote>

  <h4><a name="include" id="include"></a><tt>include</tt></h4>

  <blockquote>
    <p><tt>/0 or /1 [-from datasink] [-silent] filepath</tt><br>
    loads all lines from <i>datasink</i>, or, in the absence of the
    <tt>-from</tt> <a href="#Dash_Command">dash-command</a>, from
    the file specified by <i>filepath</i> and interprets each line
    of commands as if they were entered interpretively. Multiple
    commands with their dash-commands and arguments can entered on
    a single line. Like any other command, if execution is
    successful, the system continues to interpret commands found
    after the <tt>include</tt> command. There is no particular
    limit to the length of line.<br></p>

    <p>If any command in the included file fails, the include
    aborts with an error message and any other input which was
    found on the line which held the <tt>include</tt> command is
    discarded.<br></p>

    <p>While reading the included file, each input line is echoed
    preceded by <tt>::</tt> and any command output to standard out
    follows on the next line.<br></p>

    <p>If <tt>-silent</tt> is set, then echoing of input lines and
    prompting is suppressed until the end of the include.<br></p>

    <p>If a file is included via the command line invocation of
    Ublu and the output is being captured and it is desirable to
    remove the input line echo, a pipe to a grep filter can
    eliminate the input lines. e.g.:<br></p>

    <blockquote>
      <tt>java -jar ublu.jar include somefile.ublu | grep -v
      '^\:\:' &gt;output.txt</tt><br>
    </blockquote>
  </blockquote>

  <h4><a name="jmx" id="jmx"></a> <tt>jmx</tt></h4>

  <blockquote>
    <tt>/0 [-from datasink] [-to datasink] [--,-jmx @jmx_instance]
    [-obj @obj_instance] [-protocol ~@rmi|iop|?] [-host
    ~@hostname|hostip] [-port ~@portnum] [-url ~@/remainder_of_url]
    [-role ~@${ rolename }$ ] [-password ~@${ password }$]
    [-connect | -close | -instance | -get ~@${}domain ~@${}type
    ~@${}name | -attrib ~@${ attribute }$ | -attribs ~@${ attrib
    attrib ... }$ | -cdi ~@attribute | -datakey ~@attribute ~@key |
    -mbeaninfo |-query [ names | mbeans | class classname]] :
    perform JMX access to a JVM</tt><br>
    <br>
    The <tt>jmx</tt> command provides JMX access to a JVM, either
    remote or local, which has been started with java command line
    switches allowing such access, e.g., via a java invocation such
    as:<br>

    <blockquote>
      <tt>java -Dcom.sun.management.jmxremote.port=9999
      \</tt><tt><br></tt>
      <tt>-Dcom.sun.management.jmxremote.authenticate=false
      \</tt><tt><br></tt>
      <tt>-Dcom.sun.management.jmxremote.ssl=false -jar
      /opt/ublu/ublu.jar</tt><br>
    </blockquote>If the <tt>-jmx @jmx</tt> <a href=
    "#Dash_Command">dash-command</a> with an instanced <a href=
    "#Tuple_Variables">tuple variable</a> is provided the <tt>-host
    -port -protocol</tt> and <tt>-url</tt> dash-commands are
    ignored.<br>
    <br>
    Certain dash-commands require also a JMX ObjectInstance
    (fetched prior via the <tt>jmx -get</tt> dash-command). This
    ObjectInstance is passed to the <tt>jmx</tt> command in an
    instanced tuple variable via the <tt>-obj @obj_instance</tt>
    dash-command.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li>
        <tt>-instance</tt> is the default operation, creating and
        <tt>put</tt>ting a <tt>JMXHelper</tt> instance based on the
        following specifications:

        <ul>
          <li><tt>-protocol ~@rmi|iop|?</tt> is the transport
          protocol (defaulting to <tt>rmi</tt>)<tt><br></tt></li>

          <li><tt>-host ~@hostname|hostip</tt> is the (nominally
          remote) host on which the JVM to connect to
          resides<tt><br></tt></li>

          <li><tt>-port ~@portnum</tt> is the port on which JMX is
          listening on behalf of the target JVM<tt><br></tt></li>

          <li><tt>-url ~@/remainder_of_url</tt> is the trailing
          portion of the JMX connection url defaulting to
          <tt>/jmxrmi</tt></li>

          <li>The instance created by <tt>-instance</tt> is not yet
          connected</li>
        </ul>
      </li>

      <li>
        <tt>-connect</tt> connects the extant <tt>JMXHelper</tt>
        specified by the <tt>-jmx @jmx</tt> dash-command

        <ul>
          <li>
            <tt>-role ~@${ rolename }$</tt> is used only with
            -connect and sets the role for authentication and
            determines that password authentication will be used in
            the connection attempt.

            <ul>
              <li>If <tt>-role</tt> is not used with
              <tt>-connect</tt> then connection with no
              authentication will be attempted.<br></li>
            </ul>
          </li>

          <li>
            <tt>-password ~@${ password }$</tt> is used only with
            <tt>-connect</tt> and sets the password for
            authentication.

            <ul>
              <li>If <tt>-role</tt> is not present with
              <tt>-connect</tt> then <tt>-password</tt> has no
              effect.<br></li>
            </ul>
          </li>
        </ul>
      </li>

      <li>
        <tt>-close</tt> closes the connection to the the extant
        <tt>JMXHelper</tt> specified by the <tt>-jmx @jmx</tt>
        dash-command.

        <ul>
          <li>Once closed, a connection cannot be re-opened and a
          new instance must be created.<br></li>
        </ul>
      </li>

      <li>
        <tt>-get ~@${}domain ~@${}type ~@${}name put</tt>s a JMX
        <tt>ObjectInstance</tt> specified by the dash-command's
        arguments as follows: Given a specification like
        <tt>java.lang:MemoryPool:Tenured Gen</tt> then

        <ul>
          <li><tt>java.lang</tt> is the <tt>domain</tt></li>

          <li><tt>MemoryPool</tt> is the <tt>type</tt></li>

          <li><tt>Tenured Gen</tt> is the <tt>name</tt></li>
        </ul>
      </li>

      <li>
        <tt>-cdi ~@attribute</tt> applies to a JMX ObjectInstance's
        attribute which must be a CompositeDataInstance,
        <tt>put</tt>ting the raw CompositeDataInstance.

        <ul>
          <li>This is useful for examining the CDI
          interactively.<br></li>
        </ul>
      </li>

      <li><tt>-attrib ~@${ attribute }$</tt> requires an
      <tt>ObjectInstance</tt> be provided by the <tt>-obj
      ~@obj_instance</tt> dash-command and <tt>put</tt>s the value
      of one attribute.&nbsp;</li>

      <li>
        <tt>-</tt><tt>attribs</tt> <tt>~@${ attrib attrib ...
        }$</tt> requires an <tt>ObjectInstance</tt> be provided by
        the <tt>-obj ~@obj_instance</tt> dash-command and
        <tt>put</tt>s a list of attributes and their values based
        on the string specification of attributes to seek.

        <ul>
          <li>Missing attributes come back as nulls in the
          list.</li>
        </ul>
      </li>

      <li><tt>-datakey ~@attribute ~@key</tt> requires an
      <tt>ObjectInstance</tt> be provided by the <tt>-obj
      ~@obj_instance</tt> dash-command and <tt>put</tt>s the value
      of one data item of the JMX CompositeData attribute
      represented by <i>~@attribute</i> and reference by
      <i>~@key</i> .<br></li>

      <li><tt>-mbeaninfo</tt> provides complete info on an
      <tt>ObjectInstance</tt> provided by the <tt>-obj
      ~@obj_instance</tt> dash-command</li>

      <li>
        <tt>-query [names | mbeans | class classname]</tt> returns:

        <ul>
          <li><tt>names</tt> : a list of JMX <tt>ObjectNames</tt>
          from the connected MBeanServer</li>

          <li><tt>mbeans</tt> : a list of JMX
          <tt>ObjectInstances</tt> from the connected
          MBeanServer<br></li>

          <li><tt>class classname</tt> : a list of JMX
          <tt>ObjectInstances</tt> which are members of the Java
          class <i>classname</i> from the connected
          MBeanServer</li>
        </ul>
      </li>
    </ul><i>Example</i><br>
    <br>
    To launch a JVM with JMX without authentication running Ublu
    :<br>

    <blockquote>
      <tt>java -Dcom.sun.management.jmxremote.port=9999
      \</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
      -Dcom.sun.management.jmxremote.authenticate=false
      \</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
      -Dcom.sun.management.jmxremote.ssl=false \</tt><tt><br></tt>
      <tt>&nbsp;&nbsp;&nbsp; -jar
      /opt/ublu/ublu.jar</tt><tt><br></tt>
    </blockquote>To launch a JVM with JMX with plaintext
    role/password authentication running Ublu :<br>

    <div>
      <div>
        <blockquote>
          <tt>java -Dcom.sun.management.jmxremote.port=9999
          \</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
          -Dcom.sun.management.jmxremote.authenticate=true
          \</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
          -Dcom.sun.management.jmxremote.password.file=/Some/fullpath/chmod700dir/pfile.txt
          \</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
          -Dcom.sun.management.jmxremote.ssl=false
          \</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp; -jar
          /opt/ublu/ublu.jar</tt><br>
        </blockquote><tt>pfile.txt</tt> must be <tt>chmod 600</tt>
        or <tt>chmod 400</tt> and should be (if JRE properties are
        the installed defaults) of the form:<br>

        <blockquote>
          <tt>monitorRole s0m3pa55w0rd</tt><tt><br></tt>
          <tt>controlRole n0th3rpa55wd</tt><br>
        </blockquote>Then from anywhere (another machine or the
        same machine) use Ublu and try the following sequence:<br>
        <br>
        <tt>jmx -to @jmx -instance -host example -port 9999</tt>
        <tt><br></tt> <tt>jmx -jmx @jmx -connect<br></tt>

        <blockquote>
          <i>(or</i><i><tt>j</tt></i><i><tt>mx -jmx @jmx -connect
          -role monitorRole -password</tt></i>
          <i><tt>s0m3pa55w0rd</tt></i> <i>if authentication is used
          as above)</i><br>
        </blockquote><tt>jmx -jmx @jmx -query names</tt> <tt><br>
        </tt> <tt>jmx -jmx @jmx -query mbeans<br>
        jmx -jmx @jmx -query class
        sun.management.MemoryPoolImpl<br></tt> <tt>jmx -jmx @jmx
        -to @oi -get java.lang MemoryPool ${ Perm Gen }$</tt>
        <tt><br></tt> <tt>put -from @oi</tt> <tt><br></tt> <tt>jmx
        -jmx @jmx -obj @oi -mbeaninfo</tt><tt><br></tt> <tt>jmx
        -jmx @jmx -obj @oi -attribs ${
        CollectionUsageThresholdCount }$</tt> <tt><br></tt> <tt>jmx
        -jmx @jmx -obj @oi -attribs ${ Usage }$</tt>
      </div>
    </div>
  </blockquote>

  <h4><a name="job" id="job"></a> <tt>job</tt></h4>

  <blockquote>
    <tt>6? [-as400 @as400] [--,-job @job] [-refresh] [-end
    (@)delaytime (-1 for \"controlled\") | -get
    ~@property[name|number|system|user|description|type] | -getsys
    | -info | -instance | -noop | -query
    ~@property[user|curlibname|number|subsystem|status|user|description|type|auxioreq|breakmsghandling|cachechanges|callstack|ccsid|completionstatus|countryid|cpuused|curlib|date|defaultwait|endseverity|funcname|functype|inqmsgreply|internaljobident|jobactivedate|jobdate|jobenddate|jobentersysdate|joblog|msgqfullaction|msgqmaxsize|jobqueuedate|statusinjobq|switches|outqpriority|poolident|prtdevname|purge|q|qpriority|routingdata|runpriority|scheddate|timeslice|workidunit]
    | -spec] (@)jobName (@)userName (@)jobNumber (@)system
    (@)userid (@)password : manipulate jobs on the
    host<br></tt><br>
    Manipulates jobs on the host. If the <tt>-job @job</tt>
    <a href="#Dash_Command">dash-command</a> with an instanced
    <a href="#Tuple_Variables">tuple variable</a> is provided, the
    <i>jobName</i>, <i>userName</i> and <i>jobNumber</i> must be
    omitted. &nbsp; If the <a href=
    "#System_Userid"><tt>-as400</tt></a> dash-command is provided,
    then the arguments <tt>system userid</tt> and <tt>password</tt>
    must be omitted.<br>
    <br>
    Job objects for use with the <tt>job</tt> command are typically
    obtained via the <a href="#joblist"><tt>joblist</tt></a>
    command, e.g.,<br>

    <blockquote>
      <tt>as400 -to @as400 myserver myid
      mypassword</tt><tt><br></tt> <tt>joblist -to @jlist -as400
      @as400</tt><tt><br></tt> <tt>FOR @i in @jlist $[ job -- @i
      -to @u -get number job -- @i -to @s -query status put -n
      -from @u put -from @s ]$</tt><tt><br></tt>
      <i><tt>542365*ACTIVE</tt></i><i><tt><br></tt></i>
      <i><tt>542366*ACTIVE</tt></i><i><tt><br></tt></i>
      <i><tt>951470*OUTQ</tt></i><i><tt><br></tt></i>
      <i><tt>844017*OUTQ</tt></i><i><tt><br></tt></i>
      <i><tt>164172*OUTQ</tt></i><br>
    </blockquote><b>Use caution when using the <tt>-end</tt>
    dash-command with any value other than -1 for a controlled end
    to the job!</b> Any other argument to <tt>-end</tt> can
    possibly leave the system in need of a reboot.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-</tt><tt>as400</tt> <tt>@as400</tt> instances the
      job on the system represented by the @as400 variable. See the
      <a href="#as400"><tt>as400</tt></a> command.</li>

      <li>
        <tt>-end</tt> ends the job with a delay for ending
        processing of delaytime.

        <ul>
          <li>-1 means controlled end to the job. This is
          <i>always</i> preferable from a system administrative
          point of view.</li>

          <li>-0 means immediate end to the job. This is a <i>last
          resort</i> and is dangerous</li>

          <li>Any other value means that number of seconds of delay
          to end processing in an orderly fashion, after which the
          job is ended immediately.<br></li>

          <li><b>Use caution when using the <tt>-end</tt>
          dash-command with any value other than -1 for a
          controlled end to the job!</b> Any other argument to
          <tt>-end</tt> can possibly leave the system in need of a
          reboot.</li>
        </ul>
      </li>

      <li>
        <tt>-get</tt> <tt>job_property</tt> puts a string for the
        job property specified. Currently supported are:

        <ul>
          <li><tt>name</tt></li>

          <li><tt>number</tt></li>

          <li><tt>subsystem</tt></li>

          <li><tt>user</tt></li>

          <li><tt>description</tt></li>

          <li><tt>type</tt></li>
        </ul>
      </li>

      <li><tt>-info</tt> provides information on the job<br></li>

      <li>
        <tt>-instance</tt> instances the -job @job tuple variable
        with a Job object as described by the other arguments to
        the command.

        <ul>
          <li><tt>@job</tt> must <i>not</i> be an already instanced
          tuple variable.</li>
        </ul>
      </li>

      <li>
        <tt>-job @job</tt> is used to provide an extant instance of
        a Job to the command, or to provide at tuple variable in
        which to store an instance.

        <ul>
          <li>When the <tt>-instance</tt> dash-command is provided,
          <tt>@job</tt> will be instanced with the job instance
          created.

            <ul>
              <li>In this case, <tt>@job</tt> must <i>not</i> be an
              already instanced tuple variable.</li>
            </ul>
          </li>

          <li>Alternatively, the <tt>-to</tt> dash-command can be
          used to put the job object to a tuple variable. This is
          probably simpler that using the <tt>-job</tt>
          dash-command.</li>
        </ul>
      </li>

      <li><tt>-noop</tt> does nothing.</li>

      <li>
        <tt>-query</tt> queries <i>property</i> of the job putting
        the resultant object. Currently, the following properties
        are supported in queries:

        <ul>
          <li><tt>name</tt></li>

          <li><tt>number</tt></li>

          <li><tt>subsystem</tt></li>

          <li><tt>status</tt></li>

          <li><tt>activejobstatus<br></tt></li>

          <li><tt>user</tt></li>

          <li><tt>description</tt></li>

          <li><tt>type</tt></li>

          <li><tt>auxioreq</tt></li>

          <li><tt>breakmsghandling</tt></li>

          <li><tt>cachechanges</tt></li>

          <li><tt>callstack</tt></li>

          <li><tt>ccsid</tt></li>

          <li><tt>completionstatus</tt></li>

          <li><tt>countryid</tt></li>

          <li><tt>cpuused</tt></li>

          <li><tt>curlib</tt></li>

          <li><tt>date</tt></li>

          <li><tt>defaultwait</tt></li>

          <li><tt>endseverity</tt></li>

          <li><tt>funcname</tt></li>

          <li><tt>functype</tt></li>

          <li><tt>inqmsgreply</tt></li>

          <li><tt>internaljobident</tt></li>

          <li><tt>jobactivedate</tt></li>

          <li><tt>jobdate</tt></li>

          <li><tt>jobenddate</tt></li>

          <li><tt>jobentersysdate</tt></li>

          <li><tt>joblog</tt></li>

          <li><tt>msgqfullaction</tt></li>

          <li><tt>msgqmaxsize</tt></li>

          <li><tt>jobqueuedate</tt></li>

          <li><tt>statusinjobq</tt></li>

          <li><tt>switches</tt></li>

          <li><tt>outqpriority</tt></li>

          <li><tt>poolident</tt></li>

          <li><tt>prtdevname</tt></li>

          <li><tt>purge</tt></li>

          <li><tt>q</tt></li>

          <li><tt>qpriority</tt></li>

          <li><tt>routingdata</tt></li>

          <li><tt>runpriority</tt></li>

          <li><tt>scheddate</tt></li>

          <li><tt>timeslice</tt></li>

          <li><tt>workidunit</tt></li>
        </ul>
      </li>

      <li><tt>-refresh</tt> refreshes the information in the job
      object from the host server.</li>

      <li><tt>-spec</tt> puts the jobnumber/jobuser/jobname
      specifier of the job.<br></li>
    </ul>
  </blockquote>

  <h4><a name="joblist" id="joblist"></a><tt>joblist</tt></h4>

  <blockquote>
    <p><tt>/3 [-as400 @as400] [-to datasink] [-username userfilter
    ] [-jobname jobfilter] [-jobnumber jobnumfilter] [-jobtype
    JOBTYPE] [-active [-disconnected]] system userid
    password</tt><br>
    retrieves a joblist from <i>system</i> on behalf of
    <i>userid</i> with <i>password</i> filtered by the filters
    indicated by the dash-commands <tt>-username -jobname</tt>
    and/or <tt>-jobnumber</tt>. Output is to standard out unless
    the -to <a href="#Dash_Command">dash-command</a> is present to
    specify a filename or @variable. If the <a href=
    "#System_Userid"><tt>-as400</tt></a> dash-command is provided,
    then the arguments <tt>system userid</tt> and <tt>password</tt>
    must be omitted.<br></p>

    <p>Additional filters may be applied:<br></p>

    <p>The <tt>-jobtype</tt> dash-command takes one of the
    following for its <tt>JOBTYPE</tt> argument:<br></p>

    <ul>
      <li><tt>AUTOSTART</tt></li>

      <li><tt>BATCH</tt></li>

      <li><tt>INTERACTIVE</tt></li>

      <li><tt>SUBSYSTEM_MONITOR</tt></li>

      <li><tt>SPOOLED_READER</tt></li>

      <li><tt>SYSTEM</tt></li>

      <li><tt>SPOOLED_WRITER</tt></li>

      <li><tt>SCPF_SYSTEM</tt></li>

      <li><tt>ALL</tt></li>
    </ul>

    <p>The jobtype filter defaults to ALL in the absence of the
    <tt>-jobtype</tt> dash-command.<br></p>

    <p>The <tt>-active</tt> dash-command filters for only those
    jobs which are active.<br>
    The <tt>-disconnected</tt> dash-command appears only in
    conjunction with the <tt>-active</tt> dash-command and, if
    present, filters for only those active jobs which are
    disconnected.</p>

    <p><i>Example</i></p>

    <p><i>The following will end all active jobs in the QINTER
    subsystem:</i></p>

    <p><tt>as400 -to @as400 mybox qsecofr ******* # create an as400
    instance</tt><tt><br></tt> <tt>joblist -to @joblist -jobtype
    INTERACTIVE -active -as400 @as400 # get the filtered job
    list</tt><tt><br></tt> <tt>FOR @j @joblist $[ job -job @j -end
    -1 ]$ # iterate through the list and controlled end (-1) each
    job</tt><br></p>
  </blockquote>

  <h4><a name="jrnl" id="jrnl"></a> <tt>jrnl</tt></h4>

  <blockquote>
    <tt>/3? [-to datasink] [--,-jrnl ~@jrnl] [-as400 ~@as400 ] [-to
    @variable] [-instance] [-lib ~@{libname}] [-journal
    ~@{journal}] [-get ~@###] [-size ~@intval (default 1024)]&nbsp;
    : get journal entries</tt><tt><br></tt><br>
    The <tt>jrnl</tt> commanda fetches entries from database
    journals and the audit journal. You provide an <a href=
    "#as400"><tt>as400</tt></a> instance to <tt>jrnl</tt> via the
    <tt>-as400</tt> <a href="#Dash_Command">dash-command</a> to
    instance a journal helper object, along with the name of the
    library (<tt>-lib ~@{libname}</tt>) and the journal name
    (<tt>-journal ~@{journal}</tt>), storing the result to a tuple
    variable via the -to Thereafter, you access the journal
    providing the journal helper instance to the <tt>jrnl</tt>
    command via the <tt>-jrnl ~@jrnl</tt> dash-command along with
    the operation dash-command and any other options. With the
    journal helper instance in hand, you do not provide the
    <tt>-as400</tt> dash-command. Of course the output of the
    <tt>-get</tt> operation can be put to the desired <a href=
    "#Datasinks">datasink</a> via the <tt>-to</tt>
    dash-command.<br>
    <br>
    The operations and options are as follows:<br>

    <ul>
      <li><tt>-lib ~@{libname}</tt> specifies the library
      containing the journal in OFS form. It only is specified
      while instancing the journal helper.</li>

      <li><tt>-journal ~@{journal}</tt> specifies the journal in
      OFS form. It only is specified while instancing the journal
      helper.</li>

      <li><tt>-get ~@###</tt> specifes the number of entries to
      get</li>

      <li><tt>-size ~@intval</tt> specifies the approximate size of
      each entry. If this amount is too small, you will not
      retrieve the number of entries you expected. The default is
      1024.</li>
    </ul>The default operation is <tt>-instance</tt>.<br>
    <br>
    <i>Example</i><br>
    <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">audJournal.ublu</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Example</font><font color="#CC0000"> </font><font color="#CC0000">from</font><font color="#CC0000"> </font><font color="#CC0000">Ublu</font><font color="#CC0000"> </font><font color="#CC0000">Midrange</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">Mainframe</font><font color="#CC0000"> </font><font color="#CC0000">Life</font><font color="#CC0000"> </font><font color="#CC0000">Cycle</font><font color="#CC0000"> </font><font color="#CC0000">Extension</font><font color="#CC0000"> </font><font color="#CC0000">language</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 3 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">https://github.com/jwoehr/ublu</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 4 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Copyright</font><font color="#CC0000"> </font><font color="#CC0000">(C)</font><font color="#CC0000"> </font><font color="#CC0000">2016</font><font color="#CC0000"> </font><font color="#CC0000">Jack</font><font color="#CC0000"> </font><font color="#CC0000">J.</font><font color="#CC0000"> </font><font color="#CC0000">Woehr</font><font color="#CC0000"> </font><font color="#CC0000">http://www.softwoehr.com</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 5 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">See</font><font color="#CC0000"> </font><font color="#CC0000">the</font><font color="#CC0000"> </font><font color="#CC0000">Ublu</font><font color="#CC0000"> </font><font color="#CC0000">license</font><font color="#CC0000"> </font><font color="#CC0000">(BSD-2</font><font color="#CC0000"> </font><font color="#CC0000">open</font><font color="#CC0000"> </font><font color="#CC0000">source)</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 6 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 7 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Read</font><font color="#CC0000"> </font><font color="#CC0000">a</font><font color="#CC0000"> </font><font color="#CC0000">number</font><font color="#CC0000"> </font><font color="#CC0000">of</font><font color="#CC0000"> </font><font color="#CC0000">entries</font><font color="#CC0000"> </font><font color="#CC0000">from</font><font color="#CC0000"> </font><font color="#CC0000">the</font><font color="#CC0000"> </font><font color="#CC0000">audit</font><font color="#CC0000"> </font><font color="#CC0000">journal</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">write</font><font color="#CC0000"> </font><font color="#CC0000">them</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">a</font><font color="#CC0000"> </font><font color="#CC0000">file.</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 8 </font></span><font color="#006699"><strong>FUNC</strong></font> audJournal <font color="#000000"><strong>(</strong></font> sys userid password numentries filename <font color="#000000"><strong>)</strong></font>  <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 9 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@as400</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">10 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@journal</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">11 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@entries</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">12 </font></span>    <font color="#009966"><strong>as400</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@as400</font> <font color="#6600CC">@@sys</font> <font color="#6600CC">@@userid</font> <font color="#6600CC">@@password</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">13 </font></span>    <font color="#009966"><strong>jrnl</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@journal</font> <font color="#0099FF"><strong>-as400</strong></font> <font color="#0000FF">@as400</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">14 </font></span>    <font color="#009966"><strong>jrnl</strong></font> <font color="#0099FF"><strong>--</strong></font><font color="#0099FF"><strong> </strong></font><font color="#0000FF">@journal</font> <font color="#0099FF"><strong>-lib</strong></font> QSYS <font color="#0099FF"><strong>-journal</strong></font> QAUDJRN <font color="#0099FF"><strong>-get</strong></font> <font color="#6600CC">@@numentries</font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@entries</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">15 </font></span>    <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@entries</font> <font color="#0099FF"><strong>-tofile</strong></font> <font color="#6600CC">@@filename</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">16 </font></span>    <font color="#009966"><strong>as400</strong></font> <font color="#0099FF"><strong>--</strong></font><font color="#0099FF"><strong> </strong></font><font color="#0000FF">@as400</font> <font color="#0099FF"><strong>-disconnect</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">17 </font></span><font color="#000000"><strong>]$</strong></font>
</font>
</pre>
  </blockquote>

  <h4><tt><a name="jvm" id="jvm"></a></tt> <tt>jvm</tt></h4>

  <blockquote>
    <tt>/0 [-to @datasink] : display copious information about the
    Java platform on which this program is executing</tt><br>
  </blockquote>

  <h4><a name="lifo" id="lifo"></a> <tt>lifo</tt></h4>

  <blockquote>
    <tt>/0 [-to datasink] -push @tuplevar | -pop | -popval | -dup |
    -swap | -over | -pick 0index | -rot | -depth | -clear | -drop |
    -show : operate on the tuple stack</tt><br>
    <br>
    The system maintains a Last In, First Out tuple stack.
    <tt>lifo</tt> operates on this stack. Many of the operations
    are upon the top of stack (TOS) item.<br>
    <br>
    The operations are:<br>

    <ul>
      <li><tt>-push @tuplevar</tt> pushes <tt>@tuplevar</tt> which
      becomes TOS<br></li>

      <li><tt>-pop</tt> removes TOS and puts it to the destination
      <a href="#Datasinks">datasink</a>.</li>

      <li><tt>-popval</tt> removes TOS and puts it value to the
      destination <a href="#Datasinks">datasink</a>.</li>

      <li><tt>-dup</tt> duplicates TOS on the stack<br></li>

      <li><tt>-swap</tt> swaps the top two items on the
      stack<br></li>

      <li><tt>-over</tt> pushes a copy of the 2nd item on the
      stack<br></li>

      <li><tt>-pick 0index</tt> pushes a copy of the
      <tt>0index</tt>th item on the stack<br></li>

      <li><tt>-rot</tt> removes the 3rd item on the stack and
      pushes it to the stack<br></li>

      <li><tt>-depth</tt> puts the depth of the stack<br></li>

      <li><tt>-clear</tt> removes all items from the stack<br></li>

      <li><tt>-drop</tt> removes TOS<br></li>

      <li><tt>-show</tt> shows the entries on the
      stack&nbsp;&nbsp;<br></li>
    </ul>
  </blockquote>

  <h4><a name="list" id="list"></a><tt>list</tt></h4>

  <blockquote>
    <tt>/0 [-to datasink] [--,-list @list] [-add (@)object ]
    [-addstr ~@${ some string }$] [-clear] [-get (@)intindex]
    [-instance] [-remove (@)object] : create and manage lists of
    objects</tt><br>
    <br>
    The <tt>list</tt> command creates and manages lists of objects,
    any objects which you add with the <tt>-add</tt> <a href=
    "#Dash_Command">dash-command</a>. The list can be kept in a
    <a href="#Tuple_Variables">tuple variable</a>, further
    manipulated by the <tt>list</tt> command when referenced via
    the <tt>-list @list</tt> dash-command, and iterated over by
    <a href="#FOR"><tt>FOR</tt></a>.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-add (@)object</tt> postpends <i>(@)object</i> to the
      list.</li>

      <li><tt>-addstr ~@${ some string }$</tt> postpends <i>some
      string,</i> either from a <a href="#Quoted_strings">quoted
      string</a> or from a tuple variable or popped from the
      <a href="#lifo">LIFO stack</a>, to the list.<br></li>

      <li><tt>-clear</tt> empties the list.</li>

      <li><tt>-get</tt> <tt>put</tt>s the object found at
      <i>(@)intindex</i> in the list; the list is
      unchanged.<br></li>

      <li><tt>-instance</tt> creates the list (the default
      operation); any <tt>-add</tt> operation without an extant
      list passed in via <tt>-list @list</tt> will have the same
      effect.<br></li>

      <li><tt>-remove (@)object</tt> removes the identical
      <i>object</i> from the list.<br></li>
    </ul>
  </blockquote>

  <h4><a name="LOCAL" id="LOCAL"></a> <tt>LOCAL</tt></h4>

  <blockquote>
    <tt>/1 @localvar : declare local variable</tt><br>
    <br>
    <tt>LOCAL</tt> declares <a href="#Tuple_Variables">tuple
    variables</a> local to a <a href="#Execution_blocks">block</a>.
    Any variable declared this way hides any global variable of the
    same name. Any variable declared this way hides any variable of
    the same name which is local to a block enclosing the current
    block. This declaration neither replaces nor alters any
    variable of the same name which is local to the current
    block.<br>
    <br>
    A <tt>LOCAL</tt> variable disappears at the end of the current
    block, unhiding any enclosing <tt>LOCAL</tt> declarations or a
    global declaration.<br>
    <br>
    Declaring a <tt>LOCAL</tt> outside a block generates an
    error.<br>
    <br>
    <tt>LOCAL</tt> variables can be used as arguments to functions
    called from within the <tt>LOCAL</tt>-declaring block, but they
    cannot be used as arguments passed to other threads (see
    <a href="#thread">thread</a> and <a href="#TASK">TASK</a>). The
    <tt>LOCAL</tt> variable does not exist in the context of the
    new thread.<br>
    <br>
    <i>Example</i><br>
    <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">testlocal.ublu</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">test</font><font color="#CC0000"> </font><font color="#CC0000">LOCAL</font><font color="#CC0000"> </font><font color="#CC0000">variable</font><font color="#CC0000"> </font><font color="#CC0000">operation</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 3 </font></span><font color="#006699"><strong>FUNC</strong></font> woof <font color="#000000"><strong>(</strong></font> a b <font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 4 </font></span>    <font color="#009966"><strong>tuple</strong></font> <font color="#0099FF"><strong>-map</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 5 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@i</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 6 </font></span>    <font color="#006699"><strong>FOR</strong></font> <font color="#0000FF">@i</font> in <font color="#6600CC">@@a</font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 7 </font></span>        <font color="#009966"><strong>tuple</strong></font> <font color="#0099FF"><strong>-map</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 8 </font></span>        <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@q</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 9 </font></span>        <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-n</strong></font> <font color="#0099FF"><strong>-s</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@q</font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">@q</font><font color="#FF00CC"> </font><font color="#FF00CC">will</font><font color="#FF00CC"> </font><font color="#FF00CC">disappear</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">10 </font></span>        <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-n</strong></font> <font color="#0099FF"><strong>-s</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@q</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">11 </font></span>        <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-n</strong></font> <font color="#0099FF"><strong>-s</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">with</font><font color="#FF00CC"> </font><font color="#FF00CC">a</font><font color="#FF00CC"> </font><font color="#FF00CC">woof</font><font color="#FF00CC"> </font><font color="#FF00CC">upon</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">12 </font></span>        <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-n</strong></font> <font color="#0099FF"><strong>-s</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@i</font> <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#6600CC">@@b</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">13 </font></span>    <font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">14 </font></span>      <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@q</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">15 </font></span>      <font color="#009966"><strong>tuple</strong></font> <font color="#0099FF"><strong>-map</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">16 </font></span>      <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@q</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">17 </font></span><font color="#000000"><strong>]$</strong></font> 
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">18 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">19 </font></span><font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@z</font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">1</font><font color="#FF00CC"> </font><font color="#FF00CC">2</font><font color="#FF00CC"> </font><font color="#FF00CC">3</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font> <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@x</font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">doggie</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font> 
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">20 </font></span>woof <font color="#000000"><strong>(</strong></font> <font color="#0000FF">@z</font> <font color="#0000FF">@x</font> <font color="#000000"><strong>)</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">21 </font></span><font color="#009966"><strong>tuple</strong></font> <font color="#0099FF"><strong>-map</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">22 </font></span>
</font>
</pre>
  </blockquote>

  <h4><a name="monitor" id="monitor"></a><tt>monitor</tt></h4>

  <blockquote>
    <p><tt>/3? [-as400 ~@as400] [-worklib ~@{libname}]
    [-none|-diskstatus|-status|-version|-all] system userid passwd
    : fetch system monitor data and create System Shepherd [TM API]
    datapoints<br>
    &nbsp;&nbsp;&nbsp;</tt><br>
    performs one pass of gathering monitoring data on <i>system</i>
    on behalf of <i>userid</i> with <i>password</i> and
    <tt>put</tt>ting the data as System Shepherd [TM Absolute
    Performance, Inc.] datapoints.<br></p>

    <ul>
      <li><tt>-none</tt> (we mean none!)</li>

      <li><tt>-diskstatus</tt> disk statistics<br></li>

      <li><tt>-status</tt> various status information</li>

      <li><tt>-version</tt> the OS version maj/min</li>

      <li><tt>-all</tt> version + diskstatus + status</li>

      <li><tt>-worklib</tt> <tt>~@{libname}</tt> identifies a
      temporary library the <tt>monitor</tt> command will use when
      generating disk status information. If the library does not
      exist, it is created on the target server as a PROD library.
      If this <a href="#Dash_Command">dash-command</a> is omitted,
      the library name used is <tt>APITESTXYZ</tt>. An output queue
      named DSKSTS is created in the library. A spooled file is
      also created in the spool of the user whose login is used for
      <tt>monitor</tt>. None of those creations, the library nor
      the output queue nor the spooled file, are deleted when the
      <tt>monitor</tt> command exits.<br></li>
    </ul>

    <p>The default is <tt>-none</tt>.<br></p>

    <p><b>Note:</b> It is a good idea to <tt>-disconnect</tt> the
    <a href="#as400"><tt>as400</tt></a> object used by the
    <tt>monitor</tt> command after the command is finished.<br></p>
  </blockquote>

  <h4><a name="msg" id="msg"><tt>msg</tt></a></h4>

  <blockquote>
    <tt>/0 --,-msg ~@message [-to datasink] [-sender | -user | -key
    | -fromjob | -fromjobnumber | -fromprogram | -message | -queue]
    : examine queued messages</tt><tt><br></tt><br>
    The msg command puts components of a queued message to the
    destination <a href="#Datasinks">datasink</a>. The <tt>-msg
    ~@message</tt>&nbsp; <a href="#Dash_Command">dash-command</a>
    must be present. The operations are as follows:<br>

    <ul>
      <li><tt>-sender</tt> puts the sender profile name</li>

      <li><tt>-user</tt> puts the receiver profile name</li>

      <li><tt>-key</tt> puts the byte array message key</li>

      <li><tt>-fromjob</tt> puts the sending job</li>

      <li><tt>-fromjobnumber</tt> puts the sending job number</li>

      <li><tt>-</tt><tt>fromprogram</tt> puts the sending
      program</li>

      <li><tt>-message</tt> puts the text of the message</li>

      <li><tt>-queue</tt> puts the message queue the message came
      from<br></li>
    </ul>
  </blockquote>

  <h4><a name="msgq" id="msgq"></a><tt>msgq</tt></h4>

  <blockquote>
    <p><tt>/4? [[-as400 @as400] [--,-msgq ~@messagequeue]] [-to
    datasink] [-instance | -query | -remove messagekey | -removeall
    | -sendinfo ~@${ message text ... }$ | -sendinquiry ~@${
    message text} ~@replyqueueIFSpath | -sendreply messagekey
    ~@{reply text} | -sendreplybinkey ~@bytearraykey ~@{reply
    text}] [[-all ] | [[-none] [-reply] [-noreply] [-copyreply]]]
    ~@system ~@fullyqualifiedifspath ~@userid ~@passwd : send,
    retrieve, remove or reply messages<br></tt></p>

    <p>The <tt>msgq</tt> command sends, retrieves, removes or
    replies messages from the message queue instance represented by
    the message queue object supplied to the <tt>-msgq</tt>
    dash-command&nbsp; or in <i>system</i>'s queue
    <i>fullyqualifiedifspath</i> on behalf of <i>userid</i> with
    <i>password</i>. Output is to standard out unless the
    <tt>-to</tt> <a href="#Dash_Command">dash-command</a> is
    present to specify a filename or @variable. If the <a href=
    "#System_Userid"><tt>-as400</tt></a> dash-command is provided,
    then the arguments <i>system userid</i> and <i>password</i>
    must be omitted. If the <tt>-msgq</tt> dash-command is
    provided, then the arguments <i>system fullyqualifiedifspath
    userid</i> and <i>password</i> must be omitted.</p>

    <h5>Reading messsages</h5>

    <p>Selectors may be applied to the message retrieval. They are
    processed in the order read on the command line and complement
    or override each other as read sequentially. The default is
    <tt>-all</tt>. If any selector other than <tt>-all</tt> is
    chosen, only that selector and any other specified selectors
    are included.<br></p>

    <ul>
      <li><tt>-all</tt> means all messages, which is the default in
      the absence of any selector dash-command.</li>

      <li><tt>-instance</tt> puts the specified message queue
      object to the destination <a href="#Datasinks">datasink</a>,
      usually a tuple variable, later to be supplied to the
      <tt>-msgq</tt> dash-command to reference this message
      queue.<br></li>

      <li><tt>-none</tt> means all selectors are cleared, and in
      the absence of any further selector dash-commands will result
      in no messages being retrieved.</li>

      <li><tt>-query</tt> means fetch all selected
      messages.<br></li>

      <li><tt>-reply</tt> means messages needing a reply are
      included.</li>

      <li><tt>-noreply</tt> means messages not needing a reply are
      included.<br></li>

      <li><tt>-copyreply</tt> means copy messages that need a reply
      are included.</li>

      <li>
        <tt>-remove</tt> removes the message referenced by
        <i>messagekey</i>

        <ul>
          <li>the message key can be retrieved using the <a href=
          "#msg"><tt>msg</tt></a> command<br></li>
        </ul>
      </li>

      <li><tt>-removeall</tt> removes all messages in the
      queue<br></li>

      <li><tt>-</tt><tt>sendinfo</tt> sends informational
      <i>message text</i> to the queue.</li>

      <li><tt>-sendinquiry</tt> sends an inquiry message consisting
      of <i>message text</i> and the queue to reply to
      <i>replyqueueIFSpath</i> to the queue.<br></li>
    </ul>

    <h5>Replying to an inquiry message</h5>

    <ul>
      <li><tt>-sendreply messagekey</tt> <tt>~@{reply text}</tt>
      where the message key is the hexadecimal number returned in
      the "<tt>Key:</tt>" field of the message queue data return by
      the <tt>msgq</tt> command and the text provided in a tuple or
      quoted string is the reply to the message. When this
      dash-command is used, none of the selectors noted above for
      reading messages apply.</li>

      <li><tt>-sendreplybinkey</tt> <tt>~@bytearraykey ~@{reply
      text}</tt> where the message key is the <tt>byte []</tt>
      array returned by <tt><a href="#msg">msg</a> -- @msg
      -key</tt> operation on the individual message fetched from
      the message queue and the text provided in a tuple or quoted
      string is the reply to the message. When this dash-command is
      used, none of the selectors noted above for reading messages
      apply.</li>
    </ul>

    <p><i>Examples</i></p>

    <p><tt>msgq mysys /QSYS.LIB/QGPL.LIB/JUST4BCKUP.MSGQ qsecofr
    ********</tt> <tt><i>(Retrieves all
    messages)</i></tt><tt><br></tt> <tt>msgq mysys -reply
    -copyreply /QSYS.LIB/QSYSOPR.MSGQ qsecofr ********</tt>
    <tt><i>(Only retrieves messages needing a reply and copy
    messages needing a reply)</i></tt><tt><br></tt> <tt>as400 -to
    @a mysystem myid mypassword</tt><tt><br></tt> <tt>msgq -as400
    @a /QSYS.LIB/QUSRSYS.LIB/MYID.MSGQ # get all
    messages</tt><tt><br></tt> <tt><i>ID:&nbsp; | Key: 00000180 |
    Severity: 99 | From Job: SOMEJOB | From Job Number: 072176 |
    From Program: QUICMD | Date: Sun Jan 12 20:35:23 MST 2014 |
    Sending User: SOMEUSER | Message Help:&nbsp; | Text: this is a
    foo&nbsp; message</i></tt><tt><br></tt> <tt>msgq -as400 @a
    -sendreply 180 ${ how's by you }$
    /QSYS.LIB/QUSRSYS.LIB/JWOEHR.MSGQ # the message is now
    replied</tt><br></p>

    <p>Here is a more sophisticated example which retrieves all
    messages requiring a reply and offers the user a chance to
    reply each.<br></p>
    <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">autoreply.ublu</font><font color="#CC0000"> </font><font color="#CC0000">...</font><font color="#CC0000"> </font><font color="#CC0000">Find</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">reply</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">all</font><font color="#CC0000"> </font><font color="#CC0000">*INQ</font><font color="#CC0000"> </font><font color="#CC0000">&amp;</font><font color="#CC0000"> </font><font color="#CC0000">*NOTIFY</font><font color="#CC0000"> </font><font color="#CC0000">messages</font><font color="#CC0000"> </font><font color="#CC0000">in</font><font color="#CC0000"> </font><font color="#CC0000">a</font><font color="#CC0000"> </font><font color="#CC0000">given</font><font color="#CC0000"> </font><font color="#CC0000">MSGQ</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">jack</font><font color="#CC0000"> </font><font color="#CC0000">j.</font><font color="#CC0000"> </font><font color="#CC0000">woehr</font><font color="#CC0000"> </font><font color="#CC0000">jwoehr@absolute-performance.com</font><font color="#CC0000"> </font><font color="#CC0000">jwoehr@softwoehr.com</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 3 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">2015-03-10</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 4 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 5 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">instance</font><font color="#CC0000"> </font><font color="#CC0000">message</font><font color="#CC0000"> </font><font color="#CC0000">queue</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 6 </font></span><font color="#006699"><strong>FUNC</strong></font> getMsgQ <font color="#000000"><strong>(</strong></font> <font color="#009966"><strong>system</strong></font> <font color="#009966"><strong>user</strong></font> password ifspath <font color="#009966"><strong>msgq</strong></font> <font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 7 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@as400</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 8 </font></span>    <font color="#009966"><strong>as400</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@as400</font> <font color="#6600CC">@@system</font> <font color="#6600CC">@@user</font> <font color="#6600CC">@@password</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 9 </font></span>    <font color="#009966"><strong>msgq</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#6600CC">@@msgq</font> <font color="#0099FF"><strong>-as400</strong></font> <font color="#0000FF">@as400</font> <font color="#0099FF"><strong>-instance</strong></font> <font color="#6600CC">@@ifspath</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">10 </font></span><font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">11 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">12 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">get</font><font color="#CC0000"> </font><font color="#CC0000">list</font><font color="#CC0000"> </font><font color="#CC0000">of</font><font color="#CC0000"> </font><font color="#CC0000">messages</font><font color="#CC0000"> </font><font color="#CC0000">needing</font><font color="#CC0000"> </font><font color="#CC0000">reply</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">13 </font></span><font color="#006699"><strong>FUNC</strong></font> getReplyMsgs <font color="#000000"><strong>(</strong></font> <font color="#009966"><strong>msgq</strong></font> replylist <font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">14 </font></span>    <font color="#009966"><strong>msgq</strong></font> <font color="#0099FF"><strong>--</strong></font> <font color="#6600CC">@@msgq</font> <font color="#0099FF"><strong>-query</strong></font> <font color="#0099FF"><strong>-reply</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#6600CC">@@replylist</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">15 </font></span><font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">16 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">17 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">get</font><font color="#CC0000"> </font><font color="#CC0000">messages,</font><font color="#CC0000"> </font><font color="#CC0000">walk</font><font color="#CC0000"> </font><font color="#CC0000">list</font><font color="#CC0000"> </font><font color="#CC0000">and</font><font color="#CC0000"> </font><font color="#CC0000">offer</font><font color="#CC0000"> </font><font color="#CC0000">user</font><font color="#CC0000"> </font><font color="#CC0000">chance</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">reply</font><font color="#CC0000"> </font><font color="#CC0000">to</font><font color="#CC0000"> </font><font color="#CC0000">each</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">18 </font></span><font color="#006699"><strong>FUNC</strong></font> autoreply <font color="#000000"><strong>(</strong></font> <font color="#009966"><strong>system</strong></font> <font color="#009966"><strong>user</strong></font> password ifspath <font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">19 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@msgq</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@replylist</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@key</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">20 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@answer</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@tf</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@reply</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">21 </font></span>    getMsgQ <font color="#000000"><strong>(</strong></font> <font color="#6600CC">@@system</font> <font color="#6600CC">@@user</font> <font color="#6600CC">@@password</font> <font color="#6600CC">@@ifspath</font> <font color="#0000FF">@msgq</font> <font color="#000000"><strong>)</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">22 </font></span>    getReplyMsgs <font color="#000000"><strong>(</strong></font> <font color="#0000FF">@msgq</font> <font color="#0000FF">@replylist</font> <font color="#000000"><strong>)</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">23 </font></span>    <font color="#006699"><strong>FOR</strong></font> <font color="#0000FF">@msg</font> in <font color="#0000FF">@replylist</font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">24 </font></span>        <font color="#009966"><strong>msg</strong></font> <font color="#0099FF"><strong>--</strong></font> <font color="#0000FF">@msg</font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@key</font> <font color="#0099FF"><strong>-key</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">25 </font></span>        <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@msg</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">26 </font></span>        <font color="#009966"><strong>ask</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@answer</font> <font color="#0099FF"><strong>-say</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">Do</font><font color="#FF00CC"> </font><font color="#FF00CC">you</font><font color="#FF00CC"> </font><font color="#FF00CC">wish</font><font color="#FF00CC"> </font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">reply</font><font color="#FF00CC"> </font><font color="#FF00CC">to</font><font color="#FF00CC"> </font><font color="#FF00CC">this</font><font color="#FF00CC"> </font><font color="#FF00CC">message?</font><font color="#FF00CC"> </font><font color="#FF00CC">(y/n)</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">27 </font></span>        <font color="#009966"><strong>test</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@tf</font> <font color="#0099FF"><strong>-eq</strong></font> <font color="#0000FF">@answer</font> y
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">28 </font></span>        <font color="#006699"><strong>IF</strong></font> <font color="#0000FF">@tf</font> <font color="#006699"><strong>THEN</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">29 </font></span>            <font color="#009966"><strong>ask</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@reply</font> <font color="#0099FF"><strong>-say</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">Please</font><font color="#FF00CC"> </font><font color="#FF00CC">enter</font><font color="#FF00CC"> </font><font color="#FF00CC">your</font><font color="#FF00CC"> </font><font color="#FF00CC">reply</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">30 </font></span>            <font color="#009966"><strong>msgq</strong></font> <font color="#0099FF"><strong>--</strong></font> <font color="#0000FF">@msgq</font> <font color="#0099FF"><strong>-sendreplybinkey</strong></font> <font color="#0000FF">@key</font> <font color="#0000FF">@reply</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">31 </font></span>            <font color="#009966"><strong>put</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">Reply</font><font color="#FF00CC"> </font><font color="#FF00CC">sent.</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">32 </font></span>        <font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">33 </font></span>    <font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">34 </font></span><font color="#000000"><strong>]$</strong></font>
</font>
</pre>
  </blockquote>

  <h4><a name="num" id="num"></a> <tt>num</tt></h4>

  <blockquote>
    <tt>/1 [-to (@)datasink] [-int] [-short] [-double] [-long]
    [-float] [-radix ~@{radix}] ~@{numstring} : convert string to
    number class instance</tt><br>
    <br>
    The <tt>num</tt> command converts a string to the specific Java
    wrapper type in the specified radix.<br>

    <ul>
      <li>The number type conversion is to <tt>Integer</tt> for the
      <tt>-int</tt> <a href="#Dash_Command">dash-command</a>,
      <tt>Short</tt> for <tt>-short</tt>,&nbsp; etc.</li>

      <li>The default conversion is <tt>-int</tt>.</li>

      <li>The default radix is 10.</li>
    </ul>Used to create types for the <a href=
    "#calljava"><tt>calljava</tt></a>
    command<tt>.</tt><tt><br></tt>
  </blockquote>

  <h4><a name="objdesc" id="objdesc"></a> <tt>objdesc</tt></h4>

  <blockquote>
    <tt>/0 [-as400 @as400] [-to datasink] [--,-objdesc ~@objdesc]
    [-path ~@{ifspath}] [-instance] | [-refresh] | [-query exists |
    library | name | path | type] | [-valuestring ~@{attribute}] |
    -refresh | -locks] : examine an object description</tt><br>
    <br>
    The <tt>objdesc</tt> command retrieves the object description
    for the object indicated by the <tt>-path ~@{ifspath}</tt>
    <a href="#Dash_Command">dash-command</a> on the system
    indicated by the <tt>-as400 @as400</tt> dash-command.<br>
    <br>
    The operations are as follows<br>

    <ul>
      <li><tt>-instance</tt> (the default operation) instances the
      description indicated by <tt>-path ~@{ifspath}</tt> on the
      system indicated by <tt>-as400 @as400</tt></li>

      <li><tt>-locks</tt> puts the collection of descriptions locks
      on the object.</li>

      <li><tt>-query exists | library | name | path | type</tt>
      puts the result of the query</li>

      <li><tt>-refresh</tt> refreshes the data associated with
      instance indicated by the previously-instanced <tt>-objdesc
      ~@objdesc</tt></li>

      <li>
        <tt>-valuestring ~@{attribute}</tt> puts the string
        representation of any of the following object attributes:

        <ul>
          <li><tt>ALLOW_CHANGE_BY_PROGRAM</tt></li>

          <li><tt>AUDITING</tt></li>

          <li><tt>CHANGE_DATE</tt></li>

          <li><tt>CHANGED_BY_PROGRAM</tt></li>

          <li><tt>COMPILER</tt></li>

          <li><tt>COMPRESSION</tt></li>

          <li><tt>CREATION_DATE</tt></li>

          <li><tt>CREATOR_SYSTEM</tt></li>

          <li><tt>CREATOR_USER_PROFILE</tt></li>

          <li><tt>DAYS_USED</tt></li>

          <li><tt>DIGITALLY_SIGNED</tt></li>

          <li><tt>DIGITALLY_SIGNED_MULTIPLE</tt></li>

          <li><tt>DIGITALLY_SIGNED_TRUSTED</tt></li>

          <li><tt>DOMAIN</tt></li>

          <li><tt>EXTENDED_ATTRIBUTE</tt></li>

          <li><tt>JOURNAL</tt></li>

          <li><tt>JOURNAL_IMAGES</tt></li>

          <li><tt>JOURNAL_OMITTED_ENTRIES</tt></li>

          <li><tt>JOURNAL_START_DATE</tt></li>

          <li><tt>JOURNAL_STATUS</tt></li>

          <li><tt>LAST_USED_DATE</tt></li>

          <li><tt>LIBRARY</tt></li>

          <li><tt>LIBRARY_ASP_DEVICE_NAME</tt></li>

          <li><tt>LIBRARY_ASP_NUMBER</tt></li>

          <li><tt>LICENSED_PROGRAM</tt></li>

          <li><tt>NAME</tt></li>

          <li><tt>OBJECT_ASP_DEVICE_NAME</tt></li>

          <li><tt>OBJECT_ASP_NUMBER</tt></li>

          <li><tt>OBJECT_LEVEL</tt></li>

          <li><tt>OBJECT_SIZE</tt></li>

          <li><tt>ORDER_IN_LIBRARY_LIST</tt></li>

          <li><tt>OVERFLOWED_ASP</tt></li>

          <li><tt>OWNER</tt></li>

          <li><tt>PRIMARY_GROUP</tt></li>

          <li><tt>PTF</tt></li>

          <li><tt>RESET_DATE</tt></li>

          <li><tt>RESTORE_DATE</tt></li>

          <li><tt>SAVE_ACTIVE_DATE</tt></li>

          <li><tt>SAVE_COMMAND</tt></li>

          <li><tt>SAVE_DATE</tt></li>

          <li><tt>SAVE_DEVICE</tt></li>

          <li><tt>SAVE_FILE</tt></li>

          <li><tt>SAVE_LABEL</tt></li>

          <li><tt>SAVE_SEQUENCE_NUMBER</tt></li>

          <li><tt>SAVE_SIZE</tt></li>

          <li><tt>SAVE_VOLUME_ID</tt></li>

          <li><tt>SOURCE_FILE</tt></li>

          <li><tt>SOURCE_FILE_UPDATED_DATE</tt></li>

          <li><tt>STORAGE_STATUS</tt></li>

          <li><tt>SYSTEM_LEVEL</tt></li>

          <li><tt>TEXT_DESCRIPTION</tt></li>

          <li><tt>TYPE</tt></li>

          <li><tt>USAGE_INFO_UPDATED</tt></li>

          <li><tt>USER_CHANGED</tt></li>

          <li><tt>USER_DEFINED_ATTRIBUTE</tt></li>
        </ul>
      </li>
    </ul>
  </blockquote>

  <h4><a name="objlist" id="objlist"></a><tt>objlist</tt></h4>

  <blockquote>
    <tt>/0 [-as400 @as400] [-to datasink] [--,-objlist ~@objlist]
    [-lib libspec ] [-name objname] [-type objtype] [-instance]
    [-list]&nbsp; : retrieve a (filtered) object list</tt><br>
    <br>
    The objlist command retrieves a ObjectList of OS400 objects
    from the host.<br>
    <br>
    The operations are as follows:

    <ul>
      <li>
        <tt>-instance</tt> is the default which retrieves and
        <tt>put</tt>s the list specified by the <a href=
        "#Dash_Command">dash-command</a> <tt>-lib</tt>
        <tt>-name</tt> and <tt>-type</tt>. Each of these
        dash-commands, if omitted, has the default of
        <tt>*ALL</tt>.

        <ul>
          <li>Generics are supported, e.g., if you are looking for
          an object with a name of either HAPPY or HAPLESS, you can
          use <tt>-name HAP*</tt>.</li>
        </ul>
      </li>

      <li><tt>-list</tt> requires the <tt>-objlist</tt>
      dash-command and converts and <tt>put</tt>s an
      already-created ObjectList to a list of the type created by
      the <a href="#list"><tt>list</tt></a> command, suitable for
      iteration via <a href="#FOR"><tt>FOR</tt></a> .</li>
    </ul>

    <p><i>Example</i><br></p>
    <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">listobjs.ublu</font><font color="#CC0000"> </font><font color="#CC0000">...</font><font color="#CC0000"> </font><font color="#CC0000">list</font><font color="#CC0000"> </font><font color="#CC0000">objects</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">jwoehr@absolute-performance.com</font><font color="#CC0000"> </font><font color="#CC0000">jwoehr@softwoehr.com</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 3 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">2015-03-12</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 4 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">example:</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 5 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">listObjs</font><font color="#CC0000"> </font><font color="#CC0000">(</font><font color="#CC0000"> </font><font color="#CC0000">s0mesys</font><font color="#CC0000"> </font><font color="#CC0000">qsecofr</font><font color="#CC0000"> </font><font color="#CC0000">xyz1234</font><font color="#CC0000"> </font><font color="#CC0000">*ALL</font><font color="#CC0000"> </font><font color="#CC0000">FRED</font><font color="#CC0000"> </font><font color="#CC0000">*ALL</font><font color="#CC0000"> </font><font color="#CC0000">)</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 6 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 7 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">list</font><font color="#CC0000"> </font><font color="#CC0000">specified</font><font color="#CC0000"> </font><font color="#CC0000">objects</font><font color="#CC0000"> </font><font color="#CC0000">on</font><font color="#CC0000"> </font><font color="#CC0000">specified</font><font color="#CC0000"> </font><font color="#CC0000">system</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 8 </font></span><font color="#006699"><strong>FUNC</strong></font> listObjs <font color="#000000"><strong>(</strong></font> <font color="#009966"><strong>system</strong></font> <font color="#009966"><strong>user</strong></font> password lib name type <font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 9 </font></span>    <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@as400</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@objlist</font> <font color="#006699"><strong>LOCAL</strong></font> <font color="#0000FF">@txtlist</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">10 </font></span>    <font color="#009966"><strong>as400</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@as400</font> <font color="#6600CC">@@system</font> <font color="#6600CC">@@user</font> <font color="#6600CC">@@password</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">11 </font></span>    <font color="#009966"><strong>objlist</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@objlist</font> <font color="#0099FF"><strong>-as400</strong></font> <font color="#0000FF">@as400</font> <font color="#0099FF"><strong>-lib</strong></font> <font color="#6600CC">@@lib</font> <font color="#0099FF"><strong>-name</strong></font> <font color="#6600CC">@@name</font> <font color="#0099FF"><strong>-type</strong></font> <font color="#6600CC">@@type</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">12 </font></span>    <font color="#009966"><strong>objlist</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@txtlist</font> <font color="#0099FF"><strong>--</strong></font> <font color="#0000FF">@objlist</font> <font color="#0099FF"><strong>-list</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">13 </font></span>    <font color="#006699"><strong>FOR</strong></font> <font color="#0000FF">@obj</font> in <font color="#0000FF">@txtlist</font> <font color="#000000"><strong>$[</strong></font> <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@obj</font> <font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">14 </font></span><font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">15 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">end</font>
</font>
</pre>
  </blockquote>

  <h4><a name="outq" id="outq"></a><tt>outq</tt></h4>

  <blockquote>
    <tt>/4? [-as400 @as400] [-outq @outqueue] [-to @var] [-from
    @qnamevar] [-clear [[user jobuser] | [form formtype] | all]] |
    [-hold] | [-instance] | [-noop] | [-release] | [-info] |
    [-infoparm ATTR]] outputqueuename system user password</tt><br>
    <br>
    The <tt>outq</tt> command operates on output queues. If the
    <a href="#System_Userid"><tt>-as400</tt></a> <a href=
    "#Dash_Command">dash-command</a> is provided, then the
    arguments <tt>system userid</tt> and <tt>password</tt> must be
    omitted.<br>
    <br>
    If instead the Output Queue is specifed by the <tt>-outq
    @outq</tt> dash-command, then the <tt>outputqueuename system
    user</tt> and <tt>password</tt> arguments must be omitted, as
    well as the <tt>-as400 <i>@as400</i></tt> dash-command.<br>
    <br>
    The <tt>outputqueuename</tt> is a fully-qualified IFS pathname
    for the queue, e.g.,
    <tt>/QSYS.LIB/QUSRSYS.LIB/MYQUEUE.OUTQ</tt><br>
    <br>
    If the <tt>-from @qnamevar</tt> or <tt>-from qnamefile</tt>
    dash-command is provided, the queue name comes from the String
    in the tuple variable or the first line of the file,
    respectively. In either case, omit the queue name argument.<br>
    <br>
    The default operation ( represented by the <tt>-instance</tt>
    dash-command) is to put the OutputQueue object to the
    destination <a href="#Datasinks">datasink</a>, so the
    <tt>-to</tt> <tt><i>@varname</i></tt> dash-command can be used
    to store the object to a t<a href="#Tuple_Variables">uple
    variable</a> for later re-use with the <tt>-outq</tt>
    dash-command.<br>
    <br>
    The supported operations represented by the dash-commands are
    as follows:<br>

    <ul>
      <li>
        <tt>-clear [[user <i>jobuser</i>]</tt> <tt>| [form
        <i>formtype</i>] | all]</tt>

        <ul>
          <li>clears the output queue of jobs for user
          <i>jobuser</i>, or from forms of <i>formtype</i>, or of
          all (the default) jobs.

            <ul>
              <li><tt>outq -outq @q -clear user FRED</tt> <tt>#
              clears the queue of FRED's
              jobs</tt><tt>.</tt><br></li>
            </ul>
          </li>
        </ul>
      </li>

      <li>
        <tt>-hold</tt>

        <ul>
          <li>Holds the queue<br></li>
        </ul>
      </li>

      <li>
        <tt>-info</tt>

        <ul>
          <li>puts the OutputQueue object to the destination
          datasink. This can be used to store the instance for
          re-use by <tt>-outq @q</tt> for the <tt>outq</tt> or
          <tt><a href="#spoolf">spoolf</a></tt> commands. Same as
          <tt>-instance</tt>.<br></li>
        </ul>
      </li>

      <li>
        <tt>-infoparm ATTR</tt>

        <ul>
          <li>Returns info on the Print Object parameter specified
          by an ATTR string.<br></li>
        </ul>
      </li>

      <li>
        <tt>-instance</tt>

        <ul>
          <li>Puts the output queue instance to the destination
          datasink. This can be used to store the instance for
          re-use by <tt>-outq @q</tt> for the <tt>outq</tt> or
          <tt><a href="#spoolf">spoolf</a></tt> commands.&nbsp;
          Same as <tt>-info</tt>.<br></li>
        </ul>
      </li>

      <li>
        <tt>-noop</tt>

        <ul>
          <li>Does nothing, not even instance the <tt>-to</tt>
          tuple var<br></li>
        </ul>
      </li>

      <li>
        <tt>-release</tt>

        <ul>
          <li>Releases the queue<br></li>
        </ul>
      </li>
    </ul>
  </blockquote>

  <h4><a name="ppl"></a><tt>ppl</tt></h4>

  <blockquote>
    <tt>/0 [--,-ppl @ppl] [-instance] [-get[int|float|string]
    ~@{paramid}] | -set[int|float|string] ~@{paramid} ~@{value} :
    create and manipulate print parameter list</tt><br>
    <br>
    The <tt>ppl</tt> command creates a Print Parameter List
    suitable for use with <tt><a href="#spoolf">spoolf</a>
    -create</tt> .<br>
    <br>
    Create an instace with <tt>-instance</tt> and then use the
    instance via the <tt>-ppl</tt> <a href=
    "#Dash_Command">dash-command</a> to set or get parameters by ID
    via<br>

    <ul>
      <li><tt>-setint</tt></li>

      <li><tt>-getint</tt></li>

      <li><tt>-setfloat</tt></li>

      <li><tt>-getfloat</tt></li>

      <li><tt>-setstring</tt></li>

      <li><tt>-getstring</tt><br></li>
    </ul>
  </blockquote>

  <h4><a name="printer" id="printer"></a> <tt>printer</tt></h4>

  <blockquote>
    <tt>/4? [-as400 @as400] [--,-printer ~@printer] [-to @var]
    [-get ~@{attribute}] | [[-instance] | [-set ~@{attribute}
    ~@{value}]] ~@{printername} ~@{system} ~@{user} ~@{password} :
    instance as400 printer and get/set attributes</tt><br>
    <br>
    The <tt>printer</tt> command allows you to instance a printer
    and get or set printer attributes. If the <a href=
    "#System_Userid"><tt>-as400</tt></a> <a href=
    "#Dash_Command">dash-command</a> is provided, then the
    arguments <tt>system userid</tt> and <tt>password</tt> must be
    omitted.<br>
    <br>
    If instead the printer is specified by the <tt>-printer</tt>
    <i>~@{printer</i>} dash-command, then the <tt>printername
    system user</tt> and <tt>password</tt> arguments must be
    omitted, as well as the <tt>-as400 <i>@as400</i></tt>
    dash-command.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-instance</tt> puts a printer object to the
      destination <a href="#Datasinks">datasink</a>. If standard
      out, this is a way to display a large number of the printer
      attributes, including several which cannot be set with this
      command (due to limitations of JTOpen).<br></li>

      <li><tt>-get ~@attribute</tt> puts the value of the named
      attribute to the destination datasink.<br></li>

      <li>
        <tt>-set ~@attribute value</tt> sets the named attribute to
        the string or integer value provided. The user must provide
        the correct type of data for the attribute or an error will
        result. The attributes which the underlying <a href=
        "http://jt400.sourceforge.net/">JTOpen</a> library allows
        to be set are as follows:

        <ul>
          <li><tt>CHANGES</tt> The time at which pending changes
          take effect. Valid values are *NORDYF, *FILEEND, or blank
          which implies no changes pending to the writer.</li>

          <li><tt>DRWRSEP</tt> Identifies the drawer from which the
          job and file separator pages are to be taken. Valid
          values are -1, -2, 1, 2, 3. The value *FILE is encoded as
          -1, and the value *DEVD is encoded as -2.</li>

          <li><tt>FILESEP</tt> The number of file separator pages
          that are placed at the beginning of each copy of the
          spooled file. Valid values are -1, or the number of
          separators. The value *FILE is encoded as -1.</li>

          <li><tt>FORMTYPE</tt> The type of form to be loaded in
          the printer to print this spooled file.</li>

          <li><tt>OUTPUT_QUEUE</tt> The Integrated File System path
          of the output queue. The format of the Integrated File
          System path is "/QSYS.LIB/library.LIB/queue.OUTQ" where
          <i>library</i> is the library that contains the output
          queue and <i>queue</i> is the name of the output
          queue.</li>

          <li><tt>DESCRIPTION</tt> Text to describe the
          instance.<br></li>
        </ul>
      </li>
    </ul><i>Example<br>
    <br></i> <tt>&gt;as400 -to @s mybox myname
    mypwd</tt><tt><br></tt> <tt>&gt;printer -to @p -as400 @s
    SOME_LPR</tt><tt><br></tt> <tt>&gt;printer -- @p -get
    OUTPUT_QUEUE</tt><tt><br></tt>
    <i><tt>/QSYS.LIB/QUSRSYS.LIB/SOME_LPR.OUTQ</tt></i>
  </blockquote>

  <h4><a name="props" id="props"></a><tt>props</tt></h4>

  <blockquote>
    <tt>/0 [-to datasink] -set ~@${ name }$ ~@${ value }$ | -get
    ~@${ name }$ | -list | -read ~@${filepath}$ | -write
    ~@${filepath}$ ~@${comment}$ : manage properties</tt><br>
    <br>
    The <tt>props</tt> command set properties, lists them, and
    reads or writes properties files.<br>
    <br>
    The interpreter recognizes certain properties and alters its
    behavior accordingly. The list of properties currently
    recognizes is as follow:<br>

    <blockquote>
      <table width="75%" cellpadding="2" border="1" cellspacing=
      "2">
        <tbody>
          <tr>
            <th valign="top" align="center">interpreter
            property<br></th>

            <th valign="top" align="center">description<br></th>

            <th valign="top" align="center">default value<br></th>

            <th valign="top" align="center">alternative
            value(s)<br></th>
          </tr>

          <tr>
            <td valign="top"><tt>includes.echo</tt><br></td>

            <td valign="top">Do included files echo to
            <tt>ERR:</tt> as they load?<br></td>

            <td valign="top"><tt>true</tt><br></td>

            <td valign="top"><tt>false</tt><br></td>
          </tr>

          <tr>
            <td valign="top"><tt>prompting</tt><br></td>

            <td valign="top">Does the system prompt and echo lines
            of blocks to <tt>ERR:</tt> as they are
            interpreted?<br></td>

            <td valign="top"><tt>true</tt><br></td>

            <td valign="top"><tt>false</tt><br></td>
          </tr>

          <tr>
            <td valign="top"><tt>dbug.tuple.map</tt><br></td>

            <td valign="top"><tt>true</tt> enables debug messages
            when the tuple map is manipulated<br></td>

            <td valign="top"><tt>false</tt><br></td>

            <td valign="top"><tt>true</tt><br></td>
          </tr>

          <tr>
            <td valign="top"><tt>dbug.tuple</tt></td>

            <td valign="top"><tt>true</tt> enables debug messages
            when the tuples are manipulated</td>

            <td valign="top"><tt>false</tt><br></td>

            <td valign="top"><tt>true</tt><br></td>
          </tr>

          <tr>
            <td valign="top"><tt>signon.handler.type</tt><br></td>

            <td valign="top">
              Controls how <tt><a href="#as400">as400</a></tt>
              signon errors (bad userid, bad password) are handled.
              Valid values are:

              <ul>
                <li><tt>BUILTIN</tt> means signon errors are
                handled by JTOpen which attempts to open an AWT
                window prompting the user and fails mysteriously if
                no GUI is active.<br></li>

                <li><tt>CUSTOM</tt> means signon errors are handled
                by Ublu's handler, which prompts the user in text
                mode.</li>

                <li><tt>NULL</tt> means signon errors cause the
                erroneous command to fail without
                prompting.<br></li>
              </ul>
            </td>

            <td valign="top"><tt>CUSTOM</tt><br></td>

            <td valign="top"><tt>BUILTIN</tt><tt><br></tt>
            <tt>NULL</tt><br></td>
          </tr>

          <tr>
            <td valign="top"><tt>signon.security.type</tt><br></td>

            <td valign="top">
              Controls whether <a href="#as400"><tt>as400</tt></a>
              instances created subsequently are secured by the
              Secure Sockets Layer (SSL). Valid values are:

              <ul>
                <li><tt>SSL</tt> means SSL-secured as400 instances
                will be created until this property is changed</li>

                <li><tt>NONE</tt> means as400 instances will be
                created without SSL security until this property is
                changed</li>
              </ul>
            </td>

            <td valign="top"><tt>NONE</tt><br></td>

            <td valign="top"><tt>SSL</tt><br></td>
          </tr>
        </tbody>
      </table><br>
    </blockquote>Other properties can be set and retrieved
    arbitrarily for program usage.<br>
    <br>
    Properties can be loaded from a file or written out to a file
    at any time. Users may thus save properties files and load them
    on the command line at invocation to control the behavior of
    the interpreter.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-set ~@${ name }$ ~@${ value }$</tt> property
      <i>name</i> is set to <i>value</i></li>

      <li><tt>-get ~@${ name }$</tt> the value of property
      <i>name</i> is <tt>put</tt><br></li>

      <li><tt>-list</tt> all properties are <tt>put</tt></li>

      <li><tt>-read ~@${filepath}$</tt> properties are read in from
      the Java-style properties file <i>filepath</i></li>

      <li><tt>-write ~@${filepath}$ ~@${comment}$</tt> all
      properties are written to the Java-style properties file
      <i>filepath</i> with the header comment
      <i>comment</i><br></li>
    </ul>
  </blockquote>

  <h4><a name="put" id="put"></a><tt>put</tt></h4>

  <blockquote>
    <tt>/1? [-to filename|@filename] [-tofile ~@tuplename] [-from
    filename|@tuplename ] -fromfile ~@filename] [-append] [
    -toascii ] [ -charset srccharsetname ] [-n] [-s] [ -# number |
    ~@{object or a string}&nbsp; | a single lex ] : put data from
    datasink to datasink, optionally translating charset if
    -toascii or -charset are set<br>
    &nbsp;&nbsp;<br>
    <br></tt> The <tt>put</tt> command puts data from the <a href=
    "#Datasinks">datasink</a> (standard input (called
    <tt>STD:</tt>), filename, <a href=
    "#Tuple_Variables"><i>@variable</i></a> or <tt>NULL:</tt>)
    specified by the <tt>-from</tt> <a href=
    "#Dash_Command">dash-command</a> to the datasink (standard
    output (called <tt>STD:</tt>), filename,&nbsp; <i><a href=
    "#Tuple_Variables">@variable</a></i> or <tt>NULL:</tt>)
    specified by the <tt>-to</tt> dash-command, optionally
    translating charset if <tt>-toascii</tt> or <tt>-charset</tt>
    are set. In the absence of <tt>-to</tt> and/or <tt>-from</tt>
    (or -<tt>tofile</tt> and/or <tt>-fromfile</tt>), the respective
    datasinks are by default standard in/out.<br>
    <br>
    The <tt>-tofile</tt> dash-command takes a <a href=
    "#Tuple_Variables">tuple</a> name or a tuple from the <a href=
    "#Tuple_stack">tuple stack</a> and uses its string value as a
    filename to set the destination datasink.<br>
    The <tt>-fromfile</tt> dash-command takes a tuple name or a
    tuple from the tuple stack and uses its string value as a
    filename to set the source datasink.<br>
    <br>
    If the data is from the command line, it can be a <a href=
    "#Quoted_strings">quoted string</a> , an object in a tuple
    either named inline (<tt>@sometuple</tt>) or residing on the
    tuple stack&nbsp; ( <tt>~</tt> ), or a single lex ( a single
    word).<br>

    <ul>
      <li>If neither the <tt>-from</tt> nor the <tt>-fromfile</tt>
      dash-command is present, standard in is the source datasink
      and put expects one of the following:

        <ul>
          <li>a single lex (a plain word)</li>

          <li>a <tt>${ quoted string }$</tt></li>

          <li>a tuple object or string</li>

          <li>the <tt>~</tt> character indicating the target of the
          put is popped from the tuple stack<br></li>
        </ul>
      </li>

      <li>If the <tt>-#</tt> <i>number</i> dash-command is present,
      put parses <i>number</i> as a signed number and puts it to
      the destination datasink.<br></li>

      <li>If the <tt>-append</tt> dash-command is present, if the
      output datasink is a file or a tuple holding a string and the
      object to put is a string, the string is appended to the
      extant data in the file or tuple.</li>

      <li>If the <tt>-toascii</tt> dash-command is present, it is
      assumed the source charset in CP037 and character translation
      to ASCII is performed.</li>

      <li>If the <tt>-charset</tt> <i>srccharsetname</i>
      dash-command is present character translation is performed
      from <i>srccharsetname</i> to ASCII.</li>

      <li>If the <tt>-n</tt> dash-command is present, a string put
      to standard output is <i>not</i> followed by a new line;
      otherwise, it is followed by a newline.</li>

      <li>If the <tt>-s</tt> dash-command is present, a string put
      to standard output is followed by a blank space.<br></li>
    </ul><i>Example</i><br>
    <br>
    <tt>msgq -to @tapeMessages mysystem
    /QSYS.LIB/QGPL.LIB/BACKUPMQ.MSGQ qsecofr ********<br>
    put -from @tapeMessages</tt><br>
  </blockquote>

  <h3><a name="RETURN"></a> <tt>RETURN</tt></h3>

  <blockquote>
    <tt>/0 : return immediately from a FUN</tt><tt>C</tt><br>
    <br>
    The <tt>RETURN</tt> command leaves a <a href=
    "#FUNC"><tt>FUNC</tt></a> or <a href=
    "#defun"><tt>defun</tt></a> immediately with no further
    processing.<br>
    <br>
    <i>See Also:</i> <a href="#THROW"><tt>THROW</tt></a>
  </blockquote>

  <h4><a name="rs" id="rs"></a><tt>rs</tt></h4>

  <blockquote>
    <p><tt>/0 [-autocommit 0|1 | -close{|db|st} @tuplename |
    -commit</tt> <tt>@tuplename | -fetchsize numrows | -insert |
    -metadata | -split split_specification] [-toascii numindices
    index index ..] -from @tuplename -to @tuplename]</tt><br>
    The tuples are assumed to hold result sets. <tt>rs</tt>
    performs the indicated operation out of the 'from' (source)
    result set into the 'to' (destination) result set"<br></p>

    <ul>
      <li>
        <tt>-autocommit 0|1</tt>

        <ul>
          <li>Both of the result sets reference by the <tt>-to</tt>
          and <tt>-from</tt> <a href="#Tuple_Variables">tuples</a>
          have their autocommit mode set

            <ul>
              <li>0 means "no autocommit"</li>

              <li>1 (or any non-zero value) means "yes
              autocommit"</li>

              <li>It is not an error for one or both of the result
              set tuples not to be set, or not to reference a
              result set. An informational message is written to
              stderr in this case.</li>
            </ul>
          </li>
        </ul>
      </li>

      <li>
        <tt>-close</tt>

        <ul>
          <li>The result set referenced by <i>tuplename</i> is
          closed and the tuple is deleted.<br></li>
        </ul>
      </li>

      <li>
        <tt>-closedb</tt>

        <ul>
          <li>The result set referenced by <i>tuplename</i> is
          closed, the originating statement is closed, the
          underlying database instance is disconnected, and the
          tuple is deleted.<br></li>
        </ul>
      </li>

      <li>
        <tt>-closest</tt>

        <ul>
          <li>The result set referenced by <i>tuplename</i> is
          closed, the originating statement is closed, and the
          tuple is deleted.<br></li>
        </ul>
      </li>

      <li>
        <tt>-commit @tuplename</tt>

        <ul>
          <li>The result set referenced by <i>tuplename</i> is
          committed.

            <ul>
              <li>Only valid if autocommit is set off.</li>
            </ul>
          </li>
        </ul>
      </li>

      <li>
        <tt>-fetchsize numrows</tt>

        <ul>
          <li>Both of the result sets reference by the <tt>-to</tt>
          and <tt>-from</tt> tuples have their fetch size set. An
          informational message as to the current fetch size is
          written to stderr.

            <ul>
              <li>If numrows is zero (0), only the informational
              message is written and no change to the fetchsize
              occurs.</li>

              <li>It is not an error for one or both of the result
              set tuples not to be set, or not to reference a
              result set. An informational message is written to
              stderr in this case.<br></li>
            </ul>
          </li>
        </ul>
      </li>

      <li>
        <tt>-insert</tt>

        <ul>
          <li>The rows of the source result set are inserted in the
          destination table represented by the destination result
          set.

            <ul>
              <li>This operation should fail if keys are unique and
              any key from the source result set already exists in
              the destination result set.</li>

              <li>If any mandatory columns exist in the table
              represented by the destination result set which are
              not present in the source result set, those extra,
              mandatory columns should all appear in the
              destination result set query, ordinally after the
              rows which the source and destination have in common.
              The copy from the source to the destination is by
              column ordinal in the two result sets. The copy will
              not care if the destination has extra rows compared
              to the source, but the insert <i>will</i> fail if
              mandatory columns are omitted from the destination
              result set row that is being inserted.</li>
            </ul>
          </li>
        </ul>
      </li>

      <li><tt>-metadata</tt> returns the source (<tt>-from</tt>)
      result set metadata.<br></li>

      <li>
        <tt>-split</tt>

        <ul>
          <li>accepts a <i>split_specification</i> that indicates

            <ul>
              <li>the one's-based index of one (1) character or
              binary column of the source table which is to be
              split into multiple columns</li>

              <li>the number of division into which it is to be
              split</li>

              <li>the width of each split</li>
            </ul>
          </li>
        </ul>The <i>split_specification</i> is of the form
        <i>column_number_to_split number_of_splits split_width_1
        split_width_2</i> ... etc.<br>
      </li>

      <li>
        <tt>-toascii</tt>

        <ul>
          <li>Introduces an array of column indexes for columns
          assumed to be textual data which should undergo character
          conversion from EBCDIC to ASCII. <i>numindices</i> is the
          count of indices to follow and each <i>index</i> is the
          1's-based column index for a column to undergo character
          conversion from EBCDIC to ASCII.</li>
        </ul>
      </li>
    </ul>

    <p><i>Examples<br></i></p>

    <p>Inserting the source result set into the destination result
    set updating the actual destination table while converting from
    EBCDIC to ASCII:<br></p>

    <p><tt>db -db as400 -query ${ SELECT * FROM "ARF.FILE" }$ -to
    @srctable onesys farfel fred ********</tt><tt><br></tt> <tt>db
    -db postgres -query ${ SELECT * FROM "ARF.FILE" }$ -to
    @desttable anothersys test fred ********</tt><tt><br></tt>
    <tt>rs -insert -toascii 3 1 2 3 -from @srctable -to
    @desttable</tt><tt><br></tt> <tt>rs -close @srctable<br>
    rs -close @desttable<br></tt></p>

    <p>Inserting the source result set into the (empty) destination
    result set of a new table created on the spot updating the
    actual destination table while converting from EBCDIC to ASCII
    and splitting the third column of a three (3)-column table into
    three columns for a total of five (5) columns:<br></p>

    <p><tt>db -db postgres -query_nors ${ create table woof (a
    varchar, b varchar, c varchar, d varchar, e varchar, primary
    key (a,b,c,d,e)) }$ onesys test fred ******</tt><tt>**<br></tt>
    <tt>db -db as400 -query ${ SELECT * FROM "ARF.FILE" }$ -to
    @srctable anothersys farfel bluto ********</tt><tt><br></tt>
    <tt>db -db postgres -query ${ SELECT * FROM woof }$ -to
    @desttable onesys test fred ********</tt><tt><br></tt> <tt>rs
    -split 3 3 10 40 259 -toascii 3 1 2 3 -from @srctable -to
    @desttable</tt><br></p>
  </blockquote>

  <h4><a name="savf" id="savf"></a> <tt>savf</tt></h4>

  <blockquote>
    <tt>/5 -create | -delete | -exists | -list | -restore | -save [
    -lib libname ] [ -obj objectname [ -obj objname ...]] [ -path
    pahtname [ -path pathname ...]] system library savefilename
    userid password : perform various savefile operations</tt><br>
    <br>
    <tt>savf</tt> operates on the save file specified by <i>system
    library savefilename</i> on behalf of <i>userid password</i>.
    All filenames and pathnames should be treated as
    case-sensitive.

    <ul>
      <li><tt>-create</tt> creates the named savefile</li>

      <li><tt>-delete</tt> deletes the named savefile</li>

      <li><tt>-exists</tt> returns the string <tt>true</tt> if
      <i>savefile</i> exists <tt>false</tt> otherwise.</li>

      <li>
        <tt>-lib</tt> <i>savedlibname</i>

        <ul>
          <li>for a <tt>-save</tt> operation, sets the name of the
          library to be saved, or from which selected objects are
          to be saved</li>

          <li>for a <tt>-restore</tt> operation, sets the name of
          the library which was saved into the savefile.<br></li>
        </ul>
      </li>

      <li><tt>-list</tt> lists the objects saved in the
      savefile</li>

      <li>
        <tt>-obj</tt> <i>objectname</i>

        <ul>
          <li>for a <tt>-save</tt> operation, adds the name of an
          object to list of objects to be saved from the library
          selected by <tt>-lib</tt>.</li>

          <li>for a <tt>-restore</tt> operation, adds the name of
          an object to list of objects to be restored from the
          library selected by <tt>-lib</tt>.</li>
        </ul>
      </li>

      <li>
        <tt>-path</tt> <i>fqpath</i>

        <ul>
          <li>for a <tt>-save</tt> operation, adds a
          fully-qualified IFS filepath to the list of fqpaths to be
          added to the save file.</li>

          <li>for a <tt>-restore</tt> operation, adds a
          fully-qualified IFS filepath to the list of fqpaths to be
          restored from the save file.</li>

          <li>ignored always if <tt>-lib</tt> has set a
          <i>libname</i> or <tt>-tolib</tt> has set a
          <i>tolibname</i>.<br></li>
        </ul>
      </li>

      <li>
        <tt>-restore</tt> restores from the savefile

        <ul>
          <li>If -lib has set a <i>libname</i>, restore is from
          that library

            <ul>
              <li>If -obj has created a list of one or more objects
              to restore, only those objects are restored from the
              library</li>

              <li>If no list of objects was created, the entire
              library is to be restored</li>

              <li>If -tolib has set a <i>tolibname</i>, then the
              restore is to that target library.</li>
            </ul>
          </li>

          <li><strike>If no</strike>
          <strike><i>libname</i></strike> <strike>was set, then all
          fully-qualified IFS filepaths set by</strike>
          <strike><tt>-path</tt></strike> <strike>are
          restored.</strike> <b>Note: restore to IFS pathnames is
          currently unimplemented</b><br></li>
        </ul>
      </li>

      <li>
        <tt>-save</tt> saves to the savefile

        <ul>
          <li>If -lib has set a <i>libname</i>, save is of that
          library</li>

          <li>If -obj has created a list of one or more objects to
          restore, only those objects are saved from the
          library</li>

          <li>If no list of objects was created, the entire library
          is to be saved</li>

          <li>If no <i>libname</i> was set, then all
          fully-qualified IFS filepaths set by <tt>-path</tt> are
          saved.</li>
        </ul>
      </li>
    </ul>
  </blockquote>

  <h4><a name="server" id="server"></a><tt>server</tt></h4>

  <blockquote>
    <tt>/0 -start | -stop | -status [-port portnumber]</tt><br>
    <br>
    Starts, stops, or displays status of the singleton TCP/IP
    server that serves up Ublu interpreter threads over
    <i>portnumber</i> (defaulting to port 43860).<br>
    <br>
    When executed without any <a href=
    "#Dash_Command">dashcommand</a>, the default action is
    <tt>-status</tt>.<br>
    <br>
    <i>Example:</i><br>
  </blockquote>

  <table width="100%" cellpadding="2" border="1" cellspacing="2">
    <tbody>
      <tr>
        <th valign="top" align="center">Ublu main interpretive
        session<br></th>

        <th valign="top" align="center">Another shell
        window<br></th>
      </tr>

      <tr>
        <td valign="top"><tt>&gt; server -start</tt><br></td>

        <td valign="top"><tt>dslmodem:scripts jwoehr$ telnet
        localhost 43860</tt><tt><br></tt> <tt>Trying
        ::1...</tt><tt><br></tt> <tt>Connected to
        localhost.</tt><tt><br></tt> <tt>Escape character is
        '^]'.</tt><tt><br></tt> <tt>spoolist mysys qsecofr ********
        fred</tt> <tt><br></tt> <tt><br></tt></td>
      </tr>

      <tr>
        <td valign="top">
        <tt>Ublu:12:UbluInterpreter.Thread[main,5,main]:SEVERE:ublu.util.Interpreter.loop():Command
        "spoolist" not found.</tt><tt><br></tt></td>

        <td valign="top"><br></td>
      </tr>

      <tr>
        <td valign="top"><tt><br></tt></td>

        <td valign="top"><tt>spoolflist mysys qsecofr ********
        dayend</tt><tt><br></tt> <tt>XYZ123 85 PROCES FRED 162586
        1130628 181030</tt><tt><br></tt> <tt>XYS124 86 PROCES FRED
        162586 1130628 181031</tt><tt><br></tt> <tt>XYQ222 86
        PROCES FRED 172685 1130712 200655</tt><tt><br></tt>
        <tt>XYR345 87 PROCES FRED 172685 1130712
        200655</tt><tt><br></tt> <tt>...</tt><tt><br></tt></td>
      </tr>

      <tr>
        <td valign="top"><br></td>

        <td valign="top"><tt>bye</tt><tt><br></tt> <tt>Connection
        closed by foreign host.</tt><br></td>
      </tr>

      <tr>
        <td valign="top"><tt>&gt; server
        -stop</tt><tt><br></tt></td>

        <td valign="top"><br></td>
      </tr>
    </tbody>
  </table>

  <h4><a name="session" id="session"></a> <tt>session</tt>
  <small><i>or</i></small> <tt>sess<br></tt></h4>

  <blockquote>
    <tt>/0 --,-sess @sess [-to datasink] [-from datasink] [-nt]
    [[-? ~@${question}$] | [-close] | [-disconnect] | [-dump] |
    [-getcursor] | [-setcursor x y] | [-send (@)${ send string
    including [tab] metakeys etc. }$ ]&nbsp; : interact with a
    tn5250 session</tt><br>
    <br>
    The session command manipulates a tn5250 session object
    provided by the <a href="#tn5250"><tt>tn5250</tt></a> command.
    The <tt>-sess @sess</tt> <a href=
    "#Dash_Command">dash-command</a> must always be present.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li>
        <tt>-? ~@${question}$</tt> queries the session with
        <i>question</i> and puts the answer to the destination
        <a href="#Datasinks">datasink</a> .

        <ul>
          <li>The following questions are supported:

            <ul>
              <li><tt>connected</tt> returns true .iff. the session
              is connected.<br></li>
            </ul>
          </li>
        </ul>
      </li>

      <li><tt>-close</tt> closes the session, which, if last
      session, resultantly closes tn5250j which calls
      <tt>System.exit()</tt><br></li>

      <li><tt>-disconnect</tt> disconnects the session, leaving it
      open.</li>

      <li><tt>-getcursor</tt> puts the current cursor position as a
      <tt>java.awt.Point</tt> to the destination datasink.</li>

      <li><tt>-setcursor</tt> sets the cursor position to <i>x
      y</i><br></li>

      <li><tt>-dump</tt> puts a character screen dump (e.g., for
      screen scraping) to the destination datasink.</li>

      <li>
        <tt>-send</tt> transmits to the session a string including
        string representations for metakeys such as [tab] [enter]
        etc.

        <ul>
          <li>If the <tt>-from</tt> dash-command is provided, the
          source datasink is the source for the string.

            <ul>
              <li>If the source datasink is a file, the first line
              of the file is the source for the string.<br></li>
            </ul>
          </li>

          <li>Otherwise, the <a href="#tuple">tuple</a> , <a href=
          "#Tuple_stack">popped tuple</a> , <a href=
          "#Quoted_strings">quoted string</a> or <a href=
          "#Plain_words">plain word</a> following the
          <tt>-send</tt> is the source.</li>

          <li>If the <tt>-from</tt> dash-command is provided, no
          symbol or string should follow <tt>-send</tt> though
          other dash-commands and commands can follow.<br></li>
        </ul>
      </li>

      <li><tt>-nt</tt> prevents the system from trimming blank
      space at the head and tail of any <tt>-send</tt>
      string.<br></li>
    </ul>
  </blockquote>

  <h4><a name="sleep"></a><tt>sleep</tt></h4>

  <blockquote>
    <tt>/0 [-m ~@{milliseconds}] [-n ~@{nanoseconds}] Sleep
    milliseconds (default 0) plus nanoseconds (default 0)</tt><br>
    <br>
    The sleep command sleeps for milliseconds plus nanoseconds. The
    default for both values, if not set via the <tt>-m
    ~@{milliseconds}</tt> and -<tt>n ~@{nanoseconds}</tt> <a href=
    "#Dash_Command">dash-commands</a> is zero (0).<br>
  </blockquote>

  <h4><a name="smapi" id="smapi"></a><tt>smapi</tt></h4>

  <blockquote>
    <tt>/2? [-to @var] ~@host ~@{funcname} [~@{parm} [~{@parm} ..]]
    : make a smapi call to a host</tt><br>
    <br>
    The <tt>smapi</tt> command uses the provided <a href=
    "http://pigiron.sourceforge.net/">PigIron</a> library to
    execute a <a href=
    "https://www.ibm.com/support/knowledgecenter/SSB27U_6.3.0/com.ibm.zvm.v630.dmse6/toc.htm">
    z/VM &#174; SMAPI</a> function on the <a href="#host">host</a>
    designated by <tt>~@host</tt> .<br>
    <br>
    The easiest way to make SMAPI calls is to use the functions
    mapped one-to-one to the supported PigIron SMAPI calls in the
    <tt>.ublu</tt> files found in the directory
    <tt>examples/pigiron</tt> and included <i>en masse</i> by the
    file <tt>all_pigiron.ublu</tt> found in that directory. These
    functions instance a PigIron output parameter array in the
    final argument <tt>@paramarray</tt> with the returns from
    SMAPI.<br>
    <br>
    Examples of testing are found in
    <tt>examples/pigiron/test/</tt> ... Copy
    <tt>test.defaults.samp</tt> to a filename of your choice (say,
    <tt>my.test.defaults</tt>), edit the values for your target
    system, and execute the shell script <tt>test_pigiron.sh -f
    my.test.defaults</tt> to see how this all works.
  </blockquote>

  <h4><a name="spoolf" id="spoolf"></a><tt>spoolf</tt></h4>

  <blockquote>
    <tt>/8? [-as400 ~@as400] [--,-spoolf ~@spoolf] [-to datasink]
    [-tofile ~@filename ] [[-answermsg ~@{ some text }] | [-copy] |
    [-copyto ~@remote_as400] | [-copyq ~@outq] | [-create] |
    [-delete] | -fetch | [-get createdate | createtime | jobname |
    jobnumber | jobsysname | jobuser | message | name | number] |
    [-hold [-immed|-pageend]] | [-instance ] | [-move
    ~@spoolf_before_me] | [-moveq ~@{outq_on_same_system}] |
    [-release] | [-sendtcp ~@remotesysname ~@remoteprintqueuepath]
    [-top] [printerfile ~@printerfile] [-ppl ~@ppl] [-outq ~@outq]]
    system user password name number jobname jobuser
    jobnumber&nbsp; : operate on an individual spooled file<br>
    &nbsp;&nbsp;&nbsp;</tt> <tt><br>
    &nbsp;&nbsp;&nbsp;</tt><br>
    The <tt>spoolf</tt> command operates on an individual spooled
    file object. You can create the spooled file object directly
    from a full specification as shown above, or you can use the
    <tt>-spoolf</tt> <a href="#Dash_Command">dash-command</a> to
    provide a tuple referencing a spooled file object either
    created directly or obtained via the <a href=
    "#spoolflist"><tt>spoolflist</tt></a> command.<br>

    <ul>
      <li>If the <tt>-as400</tt> dash-command is used to reference
      the host system, the specifications for the target system
      must not appear in the command statement.</li>

      <li>If the <tt>-spoolf</tt> dash-command is used to reference
      an extant spooled file object, none of the specifications for
      the spooled file can appear in the command statement, nor may
      the <tt>-as400</tt> dash-command appear.</li>

      <li>The <tt>-tofile</tt> <i>@filename</i> dash-command allows
      providing a filename in a <a href="#Tuple_Variables">tuple
      variable</a> so that the <tt>-fetch</tt> operation (see
      below) can be used to iterate over a filelist.<br></li>
    </ul>

    <p>The various operations are as follows:<br></p>

    <ul>
      <li><tt>-answermsg ~@${ some text }$</tt> answers <i>some
      text</i> to a message which the referenced spooled file is
      waiting on.<br></li>

      <li><tt>-copy</tt> copies the referenced spooled file to the
      same queue.</li>

      <li><tt>-copyto @remote_as400</tt> copies the spooled file to
      the queue of userid used in creating the remote AS400
      instance <i>@remote_as400</i> .<br></li>

      <li>
        <tt>-copyq ~@outq</tt> copies the referenced spooled file
        to the referenced <i>outq</i>.

        <ul>
          <li>Obtain the <i>outq</i> via the <a href=
          "#outq"><tt>outq</tt></a> command.</li>
        </ul>
      </li>

      <li>
        <tt>-create</tt> creates and writes a new spooled file from
        data provided by the <tt>-from @data</tt> dash-command.
        <b>Note</b> that <tt>-create</tt> does no ASCII/EBCDIC
        translation.

        <ul>
          <li><tt>-outq</tt>&nbsp; (optional)&nbsp; is the
          associated output queue object<br></li>

          <li><tt>-ppl</tt> (optional) is the associated print
          parameter list object</li>

          <li><tt>-printerfile</tt> (optional) is the associated
          printer file object<br></li>
        </ul>
      </li>

      <li><tt>-delete</tt> deletes the referenced spooled
      file.</li>

      <li>
        <tt>-fetch</tt> fetches the referenced spooled file as a
        transformed text file.

        <ul>
          <li>this is equivalent to the <a href=
          "#fetch"><tt>fetch</tt></a> command.<br></li>
        </ul>
      </li>

      <li>
        <tt>-get</tt> <i>info</i> puts a string representing the
        requested <i>info</i>. The following <i>info</i> about a
        spoolfile is available:

        <ul>
          <li><tt>createdate</tt></li>

          <li><tt>createtime</tt></li>

          <li><tt>jobname</tt></li>

          <li><tt>jobnumber</tt></li>

          <li><tt>jobsysname</tt></li>

          <li><tt>jobuser</tt></li>

          <li><tt>message</tt></li>

          <li><tt>name</tt></li>

          <li><tt>number</tt></li>
        </ul>
      </li>

      <li><tt>-hold [-immed|-pageend]</tt> holds the referenced
      spooled file in the queue, either immediately (the default)
      or at page end ( if the -<tt>pageend</tt> dash-command is
      also provided).</li>

      <li><tt>-instance</tt> instances the spooled file described
      by the arguments to the command and puts it to the
      destination <a href="#Datasinks">datasink</a>.</li>

      <li>
        <tt>-move ~@spoolf_before_me</tt> moves the referenced
        spooled file to a position immediately after
        <i>spoolf_before_me</i>.

        <ul>
          <li>The two spooled files may be on the same queue or on
          different queues, but they must both be on the same
          system.</li>
        </ul>
      </li>

      <li><tt>-moveq ~@${outq_on_same_system}$</tt> moves the
      referenced spooled file to first position on another queue on
      the same system.</li>

      <li><tt>-release</tt> releases the (ostensibly held)
      referenced spooled file.</li>

      <li><tt>-sendtcp ~@remotesysname ~@remoteprintqueuepath</tt>
      transmits the referenced spooled file to another system via
      TCP shared printing. <font color="#FF0000"><i>Untested
      <font color="#000000"><br></font></i></font></li>

      <li><font color="#FF0000"><tt><font color=
      "#000000">-top</font></tt> <font color=
      "#000000">moves</font></font> <font color=
      "#FF0000"><font color="#000000">the referenced spooled file
      to the top of its current queue.</font></font></li>
    </ul>

    <p><br></p>

    <p><i>Example</i><br>
    <tt>&nbsp;</tt><tt><br></tt> <tt>&gt; as400 -to @remote
    localbox qsecofr *******</tt><tt><br></tt> <tt>&gt; as400 -to
    @local remotebox qsecofr *******</tt><tt><br></tt> <tt>&gt;
    spoolflist -to @src -as400 @local jwoehr</tt><tt><br></tt>
    <tt>&gt; put -from @src</tt><tt><br></tt> <i><tt>QSYSPRT 1
    XBXUHP2 JWOEHR 418388 1141009
    113633</tt></i><i><tt><br></tt></i> <i><tt>QPJOBLOG 2 XBXUHP2
    JWOEHR 418388 1141009 113650</tt></i><tt><br></tt> <tt><br>
    &gt; FOR @i in @src $[ spoolf -spoolf @i -copyto @remote
    ]$</tt><tt><br></tt> <i><tt>QPRINT 1 QPRTJOB QSECOFR 019607
    1171008 174859</tt></i><i><tt><br></tt></i> <i><tt>QPRINT 2
    QPRTJOB QSECOFR 019607 1171008
    174900</tt></i><i><tt><br></tt></i> <tt><br>
    &gt; spoolflist -as400 @remote qsecofr</tt><tt><br></tt>
    <i><tt>...<br></tt></i> <i><tt>QPRINT 1 QPRTJOB QSECOFR 019607
    1171008 174859</tt></i><i><tt><br></tt></i> <i><tt>QPRINT 2
    QPRTJOB QSECOFR 019607 1171008 174900<br></tt></i></p>

    <p><i><tt>...</tt></i></p>

    <p><i><tt>as400 -to @server localbox jwoehr *******&gt;<br>
    outq -to @q -as400</tt></i> <i><tt>@server</tt></i>
    <i><tt>/QSYS.LIB/QUSRSYS.LIB/P6.OUTQ<br></tt></i> <i><tt>ifs
    -to @data -as400</tt></i> <i><tt>@server</tt></i>
    <i><tt>-read&nbsp; 0 100 /home/jwoehr/test.txt<br>
    spoolf -as400</tt></i> <i><tt>@server</tt></i> <i><tt>-from
    @data -create -outq @q<br>
    QPNPSPRTF 1 QPRTJOB JWOEHR 053887 1160629 194531<br>
    <br></tt></i></p>
  </blockquote>

  <h4><font color="#FF0000"><i><a name="spoolflist" id=
  "spoolflist"></a></i></font><tt>spoolflist</tt></h4>

  <blockquote>
    <tt>/4? [-as400 ~@as400] [-to datasrc] ~@system ~@userid
    ~@passwd ~@spoolfileowner : fetch a list of the given user's
    spooled files as objects</tt><br>
    <br>
    The <tt>spoolflist</tt> command retrieves a collection of
    spooled file objects from the host. These objects can then be
    processed in a <tt><a href="#FOR">FOR</a></tt> loop or
    <tt><a href="#put">put</a></tt> to a <a href=
    "#Datasinks">datasink</a>.<br>
    <br>
    If the <tt>-as400</tt> <i>~@as400</i> <a href=
    "#Dash_Command">dash-command</a> is used then the&nbsp;
    <i>~@system ~@userid ~@passwd</i> arguments must be omitted and
    only the <i>~@spoolfileowner</i> should be provided.<br>
    <br>
    <i>Example<br>
    <br></i> The following deletes all spooled files for user
    <tt>someuser</tt> on system <tt>sys1</tt>.<br>
    <br>
    <tt>as400 -to @sys1 sys1 qsecofr ********</tt><tt><br></tt>
    <tt>spoolflist -to @list -as400 @sys1
    someuser</tt><tt><br></tt> <tt>FOR @i in @list $[ spoolf
    -spoolf @i -delete ]$</tt><tt><br></tt>
  </blockquote>

  <h4><a name="string" id="string"></a> <tt>string</tt></h4>

  <blockquote>
    <tt>/0 [-to datasink] [-uchar ~@{ 0x????&nbsp; 0x???? ...}] |
    [-bl ~@{string}] | [-bls ~@{string} n] | [-cat ~@{string1}
    ~@{string2}] | [-eq ~@{string1} ~@{string2}] | [-len ~@{string}
    ] | [-nl ~@{string}] [-repl ~@{string} ~@{target}
    ~@{replacement}] | [-repl1 ~@{string} ~@{target}
    ~@{replacement}] | [-replregx ~@{string} ~@{regex}
    ~@{replacement}] | [-startswith ~@{string} ~@{substr}] |
    [-substr ~@{string} ~@intoffset ~@intlen] | [-trim]&nbsp; :
    string operations<br>
    &nbsp;</tt><br>
    <br>
    The <tt>string</tt> command performs string operations and
    <a href="#put">put</a>s the result to the destination <a href=
    "#Datasinks">datasink</a>. Its operands are provided with the
    individual <a href="#Dash_Command">dash-commands</a>
    specifiying the operation. Any and all string operands may
    be<br>

    <ul>
      <li><a href="#Plain_words">plain word</a>, as in
      <tt>thisword</tt><br></li>

      <li><a href="#Quoted_strings">quoted string</a>, as in <tt>${
      these words here }$</tt><br></li>

      <li><a href="#Tuple_Variables">tuple</a>, as in
      <tt>@mystringtuple</tt><br></li>

      <li><a href="#Tuple_stack">stack tuple</a>, signified by
      <tt>~</tt> (tilde)<br></li>
    </ul>

    <p>The operations are:<br></p>

    <ul>
      <li><tt>-bl</tt> <tt>~@${string}</tt> appends a blank space
      to <i>string</i> and puts the result to the destination
      <a href="#Datasinks">datasink</a>.</li>

      <li><tt>-bls</tt> <tt>~@{string} n</tt> appends <i>n</i>
      blank spaces to <i>string</i> and puts the result.</li>

      <li><tt>-cat ~@{string1} ~@{string2}</tt> concatenates
      <i>string1</i> with <i>string2</i> and puts the result. No
      space is inserted between the two strings by this
      command.<br></li>

      <li><tt>-len ~@{string}</tt> puts the length of <i>string</i>
      to the destination datasink.</li>

      <li><tt>-nl</tt> <tt>~@{string}</tt> appends a newline to
      <i>string</i> and puts the result to the destination
      datasink.</li>

      <li><tt>-repl ~@{string}</tt> <tt>~@{target}
      ~@{replacement}</tt> puts the string resulting from the
      replacement of all occurences of <i>target</i> with
      <i>replacement</i><i>.</i><br></li>

      <li><tt>-repl1 ~@{string} ~@{target} ~@{replacement}</tt>
      puts the string resulting from the replacement of the first
      occurence of <i>target</i> with <i>replacement</i>.</li>

      <li><tt>-replregx ~@{string} ~@{regex} ~@{replacement}</tt>
      puts the string resulting from the replacement of all
      occurences of <i>regex</i> with <i>replacement</i>.</li>

      <li><tt>-startswith ~@{string} ~@{substr}</tt> puts
      <tt>true</tt> if <i>string</i> starts with <i>substr</i>,
      <tt>false</tt> otherwise.<br></li>

      <li><tt>-substr ~@{string} ~@intoffset ~@intlen</tt> puts an
      <i>intlen</i> substring of <i>string</i> starting from the
      zero-base <i>intoffset</i><i>.</i></li>

      <li><tt>-trim</tt> <tt>~@{string}</tt> puts <i>string</i>
      with the leading and trailing whitespace removed.</li>

      <li>
        <tt>-uchar ~@{ 0x????&nbsp; 0x???? ...}</tt> puts a string
        consisting of the unicode character(s) for the hex value(s)
        provided. The argument to <tt>-uchar</tt> can be

        <ul>
          <li>a tuple containing a string of hexval(s) separated by
          spaces</li>

          <li>a quoted string of hexval(s) separated by spaces</li>

          <li>a plain word consisting of one hexval.</li>
        </ul>
      </li>
    </ul>

    <p><i>Example<br>
    <br></i> <tt>&gt; string -uchar 0x09 -to @tab</tt><tt><br></tt>
    <tt>&gt; put -to @a ${ a string and some tabs
    }$</tt><tt><br></tt> <tt>&gt; string -to @z -cat @a
    @tab</tt><tt><br></tt> <tt>&gt; string -to @z -cat @z
    @tab</tt><tt><br></tt> <tt>&gt; string -to @z -cat @z
    arf_arf</tt><tt><br></tt> <tt>&gt; put @z</tt><tt><br></tt>
    <i><tt>a string and some
    tabs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    arf_arf</tt></i><br></p>
  </blockquote>

  <h4><a name="subsys" id="subsys"></a> <tt>subsys</tt></h4>

  <blockquote>
    <tt>//3? [-as400 @as400] [--,-subsys ~@subsys] [-to datasink]
    [-subsyspath ~@{subsysIFSpath}] [-authoritystring
    ~@{authoritystring}] [-timelimit ~@{intval}] [-assignprivate
    ~@{sequencenumber} ~@{size} ~@{activityLevel} | -assignshared
    ~@{sequencenumber} ~@{poolname} | -change [description ~@{text}
    | displayfile ~@{path} | languagelibrary ~@{lib}} |
    maxactivejobs ~@${int}] | -create | -delete | -end | -endall |
    -instance | -list | -query [description | activejobs |
    displayfilepath | languagelibrary | library | maxactivejobs |
    monitorjob | name | objectdescription | path | pool | pools
    ~@{sequencenumber} | status | system] | -refresh | -remove
    ~@{sequencenumber} | -start ] system userid password :
    manipulate subsystems</tt><tt><br></tt><br>
    The <tt>subsys</tt> command manipulates OS/400 subsystems. Use
    the <tt>-instance</tt> dash-command to instance the subsystem
    specifying the system via arguments or via <tt>-as400
    @as400</tt> and the IFS path to the subsystem description via
    <tt>-subsyspath ~@{subsysIFSpath}</tt>. Store the resultant
    object in a <a href="#Tuple_Variables">tuple variable</a> and
    use it with the -<tt>subsys ~@subsys</tt> <a href=
    "#Dash_Command">dash-command</a> to perform operations on the
    subsystem.<br>
    <br>
    If the <a href="#as400"><tt>-as400</tt></a> dash-command is
    provided, then the arguments <tt>system userid</tt> and
    <tt>password</tt> must be omitted.<br>
    <br>
    If the -<tt>subsys ~@subsys</tt> dash-command is provided, then
    the&nbsp; <a href="#as400"><tt>-as400</tt></a> dash-command and
    the arguments <tt>system userid</tt> and <tt>password</tt> must
    be omitted.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-assignshared ~@{sequencenumber} ~@{poolname}</tt>
      assigns the shared system pool designated by <i>poolname</i>
      to the subsystem with <i>sequencenumber</i> as its sequence
      number.</li>

      <li><tt>-assignprivate</tt> <tt>~@{sequencenumber} ~@{size}
      ~@{activityLevel}</tt> defines a private storage pool of size
      <i>size</i> and activity level <i>activitylevel</i> and
      assigns it to sequence number <i>sequencenumber</i>.</li>

      <li><tt>-change</tt> <tt>[description ~@{text} | displayfile
      ~@{path} | languagelibrary ~@{lib}} | maxactivejobs
      ~@${int}]</tt> changes the designated subsystem attribute to
      the provided value.<br></li>

      <li>
        <tt>-create</tt> creates the specified subsystem
        description on the system.<br>

        <ul>
          <li>If <tt>-authoritystring ~@{authoritystring}</tt> has
          been specified, the description is created granting the
          specified authority (e.g., <tt>*LIBCRTAUT)</tt> to users
          who do not have specific authority for the object, who
          are not on an authorization list, and whose group profile
          or supplemental group profiles do not have specific
          authority for the object.</li>
        </ul>
      </li>

      <li><tt>-delete</tt> deletes the specified subsystem
      description on the system.</li>

      <li>
        <tt>-end</tt> shuts down the specified subsystem
        description on the system.

        <ul>
          <li>If <tt>-timelimit ~@{intval}</tt> has been specified,
          the shutdown is controlled with the specified time limit
          in seconds.</li>

          <li>If <tt>-timelimit ~@{intval}</tt> has <i>not</i> been
          specified, the shutdown is immediate.</li>
        </ul>
      </li>

      <li><tt>-endall</tt> shuts down all subsystems on the
      designated by <i>as400</i>.<br></li>

      <li><tt>-instance</tt> is the default operation, instancing
      the subsystem object for Ublu use.</li>

      <li>
        <tt>-query [description | activejobs | displayfilepath |
        languagelibrary | library | maxactivejobs | monitorjob |
        name | objectdescription | path | pool | pools
        ~@{sequencenumber}</tt> queries the specified attribute and
        puts an appropriate object.

        <ul>
          <li>The query <tt>pools</tt> requires a sequence
          number.</li>
        </ul>
      </li>

      <li><tt>-refresh</tt> refreshes the data for the subsystem
      from the host.</li>

      <li><tt>-remove ~@{sequencenumber}</tt> removes the storage
      pool designated by <i>sequencenumber</i>.</li>

      <li><tt>-start</tt> starts the specified subsystem.</li>
    </ul>
  </blockquote>

  <h4><a name="SWITCH" id="SWITCH"></a><tt>SWITCH</tt></h4>

  <blockquote>
    <tt>&nbsp;~@stringselector [-case ~@${string}$ $[ block ]$
    [[-case ~@${string}$ $[ block ]$] ...] [-default $[ block ]$] :
    language switch statement</tt><tt><br></tt><br>
    <tt>SWITCH</tt> provided with a string selector proceeds to
    walk thru a series of <tt>-case</tt> <a href=
    "#Dash_Command">dash-commands</a> looking for a match. If the
    match is found, the <a href="#Execution_blocks">execution
    block</a> referenced by the <tt>-case</tt> is executed.<br>
    <br>
    Each <tt>-case</tt> is accompanied by a case string and a
    block. If the case string matches the selector, the case is
    taken, its block is executed, and no other <tt>-case</tt> or
    <tt>-default</tt> will be taken.<br>
    <br>
    Each <tt>-default</tt> is accompanied only by a block.&nbsp; If
    a <tt>-default</tt> dash-command is encountered before a
    <tt>-case</tt> matches, the <tt>-default</tt> is executed and
    no following <tt>-case</tt> will match.<br>
    <br>
    The <tt>-case</tt> dash-commands and the <tt>-default</tt>, if
    any, can be in any order and are processed in the order they
    appear. The <tt>-default</tt> once encountered is always taken
    if no match has been found prior and no other <tt>-case</tt> or
    <tt>-default</tt> will be taken.<br>
    <br>
    Nothing prevents one <tt>-case</tt> dash-command from having
    the same case string as another <tt>-case</tt> .<br>
    <br>
    <tt>SWITCH</tt> is only easy to use inside another block (e.g,
    in a <a href="#FUNC"><tt>FUNC</tt></a>) because a block is
    parsed as single line, allowing the <tt>-case</tt>
    dash-commands to appear on individual lines, indented.
    Interactively entered, all the <tt>-case</tt> dash-commands
    must appear on one line.<br>
    <br>
    <i>Example</i><br>
    <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">testswitch.ublu</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">test</font><font color="#CC0000"> </font><font color="#CC0000">SWITCH</font><font color="#CC0000"> </font><font color="#CC0000">statement</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 3 </font></span><font color="#CC0000">#</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 4 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Example</font><font color="#CC0000"> </font><font color="#CC0000">session:</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 5 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">&gt;</font><font color="#CC0000"> </font><font color="#CC0000">put</font><font color="#CC0000"> </font><font color="#CC0000">-to</font><font color="#CC0000"> </font><font color="#CC0000">@sel</font><font color="#CC0000"> </font><font color="#CC0000">red</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 6 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">&gt;</font><font color="#CC0000"> </font><font color="#CC0000">testSwitch</font><font color="#CC0000"> </font><font color="#CC0000">(</font><font color="#CC0000"> </font><font color="#CC0000">@sel</font><font color="#CC0000"> </font><font color="#CC0000">)</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 7 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">you</font><font color="#CC0000"> </font><font color="#CC0000">chose</font><font color="#CC0000"> </font><font color="#CC0000">red</font><font color="#CC0000"> </font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 8 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">&gt;</font><font color="#CC0000"> </font><font color="#CC0000">put</font><font color="#CC0000"> </font><font color="#CC0000">-to</font><font color="#CC0000"> </font><font color="#CC0000">@sel</font><font color="#CC0000"> </font><font color="#CC0000">green</font><font color="#CC0000"> </font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 9 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">&gt;</font><font color="#CC0000"> </font><font color="#CC0000">testSwitch</font><font color="#CC0000"> </font><font color="#CC0000">(</font><font color="#CC0000"> </font><font color="#CC0000">@sel</font><font color="#CC0000"> </font><font color="#CC0000">)</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">10 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">you</font><font color="#CC0000"> </font><font color="#CC0000">chose</font><font color="#CC0000"> </font><font color="#CC0000">green</font><font color="#CC0000"> </font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">11 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">&gt;</font><font color="#CC0000"> </font><font color="#CC0000">put</font><font color="#CC0000"> </font><font color="#CC0000">-to</font><font color="#CC0000"> </font><font color="#CC0000">@sel</font><font color="#CC0000"> </font><font color="#CC0000">blue</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">12 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">&gt;</font><font color="#CC0000"> </font><font color="#CC0000">testSwitch</font><font color="#CC0000"> </font><font color="#CC0000">(</font><font color="#CC0000"> </font><font color="#CC0000">@sel</font><font color="#CC0000"> </font><font color="#CC0000">)</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">13 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">What!?</font><font color="#CC0000"> </font><font color="#CC0000"> </font><font color="#CC0000">blue</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">14 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">15 </font></span><font color="#006699"><strong>FUNC</strong></font> testSwitch <font color="#000000"><strong>(</strong></font> selector <font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">16 </font></span>    <font color="#006699"><strong>SWITCH</strong></font> <font color="#6600CC">@@selector</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">17 </font></span>        <font color="#0099FF"><strong>-case</strong></font> red
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">18 </font></span>            <font color="#000000"><strong>$[</strong></font> <font color="#009966"><strong>put</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">you</font><font color="#FF00CC"> </font><font color="#FF00CC">chose</font><font color="#FF00CC"> </font><font color="#FF00CC">red</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font> <font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">19 </font></span>        <font color="#0099FF"><strong>-case</strong></font> green
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">20 </font></span>            <font color="#000000"><strong>$[</strong></font> <font color="#009966"><strong>put</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">you</font><font color="#FF00CC"> </font><font color="#FF00CC">chose</font><font color="#FF00CC"> </font><font color="#FF00CC">green</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font> <font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">21 </font></span>        <font color="#0099FF"><strong>-default</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">22 </font></span>            <font color="#000000"><strong>$[</strong></font> <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-s</strong></font> <font color="#0099FF"><strong>-n</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">What!?</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font> <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#6600CC">@@selector</font> <font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">23 </font></span><font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">24 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">End</font>
</font>
</pre>
  </blockquote>

  <h4><a name="system" id="system"></a><tt>system</tt></h4>

  <blockquote>
    <tt>/0|3 [-to datasink] -from datasink | ${ system command
    }$</tt><br>
    <br>
    executes a system command<br>
    <br>
    The command string can be provided as a <a href=
    "#Quoted_strings">quoted string</a> or can come from a tuple
    variable or from a file as indicated by the <tt>-from</tt>
    <a href="#Dash_Command">dash-command</a>.<br>
    <br>
    If input is from a file, only the first line of the file is
    read.<br>
    <br>
    The output of command plus an extra line indicating the return
    code of the command execution is displayed or put to a <a href=
    "#Datasinks">datasink</a> specified by the -to
    dash-command.<br>
    <br>
    <tt>system</tt> is only good for one-time commands, not
    interactive programs such as telnet.<br>
    <i><br></i> <i>Example</i><br>
    <br>
    <tt>&gt; system ${ cat syscmd.txt }$</tt><tt><br></tt> <tt>ls
    -al /Users/jwoehr</tt><tt><br></tt> <tt><br></tt> <tt>return
    code: 0</tt><tt><br></tt> <tt>&gt; system -from
    syscmd.txt</tt><tt><br></tt> <tt>total 240</tt><tt><br></tt>
    <tt>drwxr-xr-x+ 46 jwoehr&nbsp; staff&nbsp;&nbsp; 1564
    Aug&nbsp; 1 00:44 .</tt><tt><br></tt>
    <tt>drwxr-xr-x&nbsp;&nbsp; 6 root&nbsp;&nbsp;&nbsp;
    admin&nbsp;&nbsp;&nbsp; 204 Jun 11 09:30 ..</tt><tt><br></tt>
    <tt>-rw-------&nbsp;&nbsp; 1 jwoehr&nbsp;
    staff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 Jun 11 09:30
    .CFUserTextEncoding</tt><tt><br></tt> <tt>-rw-r--r--@&nbsp; 1
    jwoehr&nbsp; staff&nbsp; 21508 Jul 24 22:15
    .DS_Store</tt><tt><br></tt> <tt>drwx------&nbsp;&nbsp; 2
    jwoehr&nbsp; staff&nbsp;&nbsp;&nbsp;&nbsp; 68 Jul 29 10:49
    .Trash</tt><br>
    <i>... etc.<br></i> <tt>return code: 0</tt><tt><i><br></i></tt>
    <tt>&gt; put -to @myCommand -from syscmd.txt</tt><tt><br></tt>
    <tt>&gt; system -from @myCommand -to
    @myOutput</tt><tt><br></tt> <tt>&gt; put -from
    @myOutput</tt><tt><br></tt> <tt>total 240</tt><tt><br></tt>
    <tt>drwxr-xr-x+ 46 jwoehr&nbsp; staff&nbsp;&nbsp; 1564
    Aug&nbsp; 1 00:44 .</tt><tt><br></tt>
    <tt>drwxr-xr-x&nbsp;&nbsp; 6 root&nbsp;&nbsp;&nbsp;
    admin&nbsp;&nbsp;&nbsp; 204 Jun 11 09:30 ..</tt><tt><br></tt>
    <tt>-rw-------&nbsp;&nbsp; 1 jwoehr&nbsp;
    staff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 Jun 11 09:30
    .CFUserTextEncoding</tt><tt><br></tt> <tt>-rw-r--r--@&nbsp; 1
    jwoehr&nbsp; staff&nbsp; 21508 Jul 24 22:15
    .DS_Store</tt><tt><br></tt> <tt>drwx------&nbsp;&nbsp; 2
    jwoehr&nbsp; staff&nbsp;&nbsp;&nbsp;&nbsp; 68 Jul 29 10:49
    .Trash</tt><br>
    <i>... etc.<br></i> <tt>return code: 0</tt>
  </blockquote>

  <h4><a name="sysval" id="sysval"></a><tt>sysval</tt></h4>

  <blockquote>
    <tt>/0 [-as400 @as400] [-to datasink] [--,-sysval ~@sysval]
    [[-instance alc|all|dattim|edt|libl|msg|net|sec|stg|sysctl] |
    [haskey ~@${ key }$] | [-value ~@${ key }$] | -set ~@${ key }$
    ~@value] | [</tt><tt>-systemvalue] | [-list] | [-map]] :
    retrieve a system value list</tt><br>
    <br>
    The sysval command gets and sets system values. When
    instancing, an <a href="#as400"><tt>as400</tt></a> instance
    must be provided via the <tt>-as400</tt> <a href=
    "#Dash_Command">dash-command</a>. Thereafter the instance is
    passed to <tt>sysval</tt> for the other operations via the
    <tt>-sysval</tt> dash-command.<br>
    <br>
    There is no default operation. The operations are as
    follows:<br>

    <ul>
      <li>
        <tt>-instance</tt> <i>groupid</i> creates a system value
        list instance for the group of system values represent by
        <i>groupid</i>.

        <ul>
          <li><tt>all</tt> is the easiest to use.<br></li>
        </ul>
      </li>

      <li><tt>-haskey ~@${ key }$</tt> puts <tt>true</tt> .IFF.
      there exists in the list a system value represented by
      <i>key</i>, otherwise <tt>false</tt>.<br></li>

      <li><tt>-value</tt> <tt>~@${ key }$</tt> puts the object for
      the system value represented by <i>key</i>.</li>

      <li><tt>-set ~@${ key }$ ~@value</tt> sets the system value
      represented by <i>key</i> to the object <i>value</i>.</li>

      <li><tt>-systemvalue</tt> puts the SystemValueList object
      itself (for debugging).</li>

      <li><tt>-list</tt> puts a list of the SystemValue
      objects.</li>

      <li><tt>-map</tt> puts a map of the keys this
      SystemValueHelper contains.</li>
    </ul>

    <p><i>Example</i></p>

    <p><tt>as400 -to @a mysystem myuserid
    ********</tt><tt><br></tt> <tt>sysval -as400 @a -to @svl
    -instance all</tt><tt><br></tt> <tt>sysval -- @svl -to @keys
    -keys</tt><tt><br></tt> <tt>FOR @i in @keys $[ LOCAL @myval put
    -n -from @i -s put -n ${ : }$ sysval -- @svl -value @i -to
    @myval put -from @myval ]$</tt><br>
    <i><tt>QMODEL : E4D</tt></i><i><tt><br></tt></i>
    <i><tt>QDAYOFWEEK : *WED</tt></i><i><tt><br></tt></i>
    <i><tt>ALRBCKFP : [*NONE&nbsp;&nbsp;
    ]</tt></i><i><tt><br></tt></i> <i><tt>MAXINTSSN :
    200</tt></i><i><tt><br></tt></i> <i><tt>DDMACC :
    *OBJAUT</tt></i><i><tt><br></tt></i> <i><tt>QMINUTE :
    48</tt></i></p>
  </blockquote>

  <h4><a name="TASK" id="TASK"></a><tt>TASK</tt></h4>

  <blockquote>
    <tt>/1? [-from datasink] [-to datasink] [-start] $[ BLOCK TO
    EXECUTE ]$ : create a background thread to execute a block,
    putting the thread and starting the thread if specified<br>
    <br></tt> The <tt>TASK</tt> command creates a thread to execute
    a block and optionally launches the thread immediately.
    <tt>TASK</tt> <tt><a href="#put">put</a></tt>s the thread
    object it creates, which can be stored in the destination
    <a href="#Datasinks">datasink</a> via the <tt>-to</tt> <a href=
    "#Dash_Command">dash-command</a> for later manipulation by the
    <tt><a href="#thread">thread</a></tt> command which can start
    and stop the thread.<br>
    <br>
    Instead of providing a block as an argument to the
    <tt>TASK</tt> command, you may provide a series of commands
    stored as a string in a file or <a href=
    "#Tuple_Variables">tuple variable</a> indicated as the source
    datasink via the <tt>-from</tt> dash-command.<br>
    <br>
    The new thread inherits the current tuple variable space but
    will not possess new entries added to other threads subsequent
    to the launch of this <tt>TASK</tt>'s thread.<br>
    <br>
    The new thread starts with the system dictionary. Any
    additional functions must be added by include or <tt><a href=
    "#dict">dict</a></tt> <tt>-restore</tt>.<br>
    <br>
    The <tt>-start</tt> dash-command starts the thread immediately.
    The default is to simply put the thread to be later started via
    the <tt><a href="#thread">thread</a></tt> command.<br>
  </blockquote>

  <h4><a name="test" id="test"></a><tt>test</tt></h4>

  <blockquote>
    <tt>/0 [-to @var] [[[-eq | -ne] @var|lex @var|lex] | [-null
    @var ] | | [-nnull @var ] [-jcls @var full.javaclass.name]]:
    compare and return boolean result</tt><br>
    <tt>test</tt> performs object and string tests and comparisons.
    It can be used to set a <a href="#Tuple_Variables">tuple
    variable</a> for use by conditionals such as the <tt><a href=
    "#IF">IF</a></tt> command or to put the result to default
    <a href="#Datasinks">datasink</a>.<br>
    <br>
    Each of the two objects of the following binary tests<br>

    <ul>
      <li><tt>-eq</tt> (equality)<br></li>

      <li><tt>-ne</tt> (inequality)<br></li>
    </ul>are either the value of a <tt>@tuplevar</tt> or a single
    lex (single word). The following test will return true:<br>

    <blockquote>
      <tt>put -to @foo 7</tt><tt><br></tt> <tt>test -eq 7
      @foo</tt><br>
    </blockquote>The other tests are unary and their object is
    always a <tt>@tuplevar</tt>.<br>
    <br>
    The operations known to <tt>test</tt> each return <tt>true</tt>
    if the test succeeds, <tt>false</tt> otherwise, and are as
    follows:<br>

    <ul>
      <li><tt>-eq</tt> tests two values for strict Java
      equality.<br></li>

      <li><tt>-jcls</tt> test the value of a tuple variable for
      Java class type.</li>

      <li><tt>-ne</tt> negates the value of a test of the two
      values for strict Java equality.</li>

      <li><tt>-null</tt> tests the value of a tuple variable for
      <tt>null</tt>.</li>

      <li>-<tt>nnull</tt> tests the value of a tuple variable for
      <tt>not</tt> <tt>null</tt>.<br></li>
    </ul>

    <p>If the operands to <tt>-test</tt> are Strings, the Strings
    are first <tt>trim</tt>med of leading and trailing
    whitespace.<br></p>

    <p><tt>test</tt> is primarily for string and object comparison.
    Use <a href="#eval"><tt>eval</tt></a> for arithmetic and
    logical operations.<br></p>

    <p>To test for the existence of a tuple variable, use
    <tt><a href="#tuple">tuple</a> -exists</tt> <i>@varname</i></p>

    <p>See the <tt><a href="#IF">IF</a></tt>&nbsp; and <tt><a href=
    "#DO">DO</a></tt> commands for examples.</p>
  </blockquote>

  <h4><a name="thread" id="thread"></a><tt>thread</tt></h4>

  <blockquote>
    <tt>/0 [-from datasink] [-to datasink ] [--,-thread ~@thread]
    -instance | -start | -stop : interpret in a background
    thread</tt><br>
    <br>
    The thread command creates and/or manipulates threads of
    execution.&nbsp; When the thread command instances a thread, it
    <tt><a href="#put">put</a></tt>s the thread object it creates,
    which can be stored in the destination <a href=
    "#Datasinks">datasink</a> via the <tt>-to</tt> <a href=
    "#Dash_Command">dash-command</a> for later manipulation. The
    thread command can also manipulate threads created by the
    <a href="#TASK"><tt>TASK</tt></a> command.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li>
        <tt>-instance</tt> creates and puts a new thread.

        <ul>
          <li>The program for the thread to execute is an <a href=
          "#Execution_blocks">execution block</a> found in the
          source <a href="#Datasinks">datasink</a> referenced by
          the <tt>-from</tt> dash-command.</li>

          <li>The thread is not started and must be started by
          another invocation of the <tt>thread</tt> command with
          the <tt>-start</tt> dash-command.</li>
        </ul>
      </li>

      <li>
        <tt>-start</tt> starts the thread referenced by the
        <tt>-thread</tt> <i>@thread</i> dash-command.

        <ul>
          <li>The thread referenced by the <tt>-thread</tt>
          <i>@thread</i> dash-command can be one created by the
          thread command or one created by the <a href=
          "#TASK"><tt>TASK</tt></a> command.</li>
        </ul>
      </li>

      <li>
        <tt>-stop</tt> stops the thread referenced by the
        <tt>-thread</tt> <i>@thread</i> dash-command.

        <ul>
          <li>The thread referenced by the <tt>-thread</tt>
          <i>@thread</i> dash-command can be one created by the
          thread command or one created by the <a href=
          "#TASK"><tt>TASK</tt></a> command.</li>

          <li>The thread which is stopped cannot be
          restarted.<br></li>
        </ul>
      </li>
    </ul>The thread object will display information about itself if
    <tt>put</tt> to standard output.<br>
  </blockquote>

  <h4><a name="THROW" id="THROW"></a> <tt>THROW</tt></h4>

  <blockquote>
    <tt>/1&nbsp; ~@{log string} : THROW from a TRY block</tt><br>
    <br>
    <tt>THROW</tt> creates an error condition and a log
    message.<br>
    <br>
    The error condition will cause exit from a <a href=
    "#TRY"><tt>TRY</tt></a> block and entry to the <tt>CATCH</tt>
    block.<br>
    <br>
    If there is no enclosing <tt>TRY</tt> block the <tt>THROW</tt>
    will return to the interpreter and the error condition will be
    reported by the interpreter.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>FUNC testTry ( ) $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; TRY $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; put ${ outer try
    block }$</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; TRY $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    put ${ inner TRY block }$</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    THROW oops</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; ]$ CATCH $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    put ${ caught the oops }$</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ]$</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; put ${ continuing
    outer TRY }$</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp; ]$ CATCH
    $[</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    put ${ caught error in outer try block }$</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; ]$</tt><tt><br></tt> <tt>]$</tt><br>
    <tt>testTry ( )</tt><tt><br></tt> <i><tt>outer try
    block</tt></i> <i><tt><br></tt></i> <i><tt>inner TRY
    block</tt></i> <i><tt><br></tt></i>
    <i><tt>Ublu:1:UbluInterpreter.Thread[main,5,main]:SEVERE:ublu.command.CmdThrow.doThrow():oops</tt></i><i><tt><br>
    </tt></i> <i><tt>caught the oops</tt></i> <i><tt><br></tt></i>
    <i><tt>continuing outer TRY</tt></i><br>
  </blockquote>

  <h4><a name="tn5250" id="tn5250"></a> <tt>tn5250</tt></h4>

  <blockquote>
    <tt>/0 [-tn5250 @tn5250] [-to datasink] [[-instance] |
    [-my5250] | [-run] | [-session] | [-sessionlist]]&nbsp; [-args
    ~@${ arg string }$] ~@system : instance a programmable or
    interactive tn5250j</tt><br>
    &nbsp;&nbsp;&nbsp;<br>
    <a href="http://tn5250j.sourceforge.net/">tn5250j</a> is an
    open source terminal emulator coded in Java for 5250 display
    terminal emulator over TCP/IP. This command creates and
    manipulates instances of tn5250j.<br>
    <br>
    If the <tt>-tn5250 @tn5250</tt> <a href=
    "#Dash_Command">dash-command</a> is provided, the
    <tt>~@system</tt> <a href="#Argument">argument</a> must be
    omitted. Some operations require the <tt>-tn5250 @tn5250</tt>
    dash-command.<br>
    <br>
    <b>Note</b> that at present, when a running tn5250j instance
    exits, it calls System.exit() shutting down AbsPerfOS400.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-instance</tt> puts a tn5250j instance to the
      destination <a href="#Datasinks">datasink</a> .</li>

      <li><tt>-my5250</tt> runs an instance of tn5250j in a thread
      without preserving the instanced object for
      manipulation.<br></li>

      <li><tt>-run</tt> runs the tn5250j instance referenced by the
      <tt>-tn5250 @tn5250</tt> dash-command</li>

      <li>
        <tt>-session</tt> puts the initial tn5250 session instance
        to the destination datasink, usually a tuple so that it can
        be manipulated via the <a href="#session">session</a>
        command.

        <ul>
          <li>A tn5250j instance can have multiple sessions. At
          present this command only supports the initial
          session.</li>

          <li>This command presumes the <tt>-tn5250 @tn5250</tt>
          dash-command</li>
        </ul>
      </li>

      <li>
        <tt>-sessionlist</tt> returns a list of sessions in the
        tn5250j instance

        <ul>
          <li>A tn5250j instance can have multiple sessions. At
          present this command only supports the initial
          session.</li>

          <li>This command presumes the <tt>-tn5250 @tn5250</tt>
          dash-command&nbsp;&nbsp;<br></li>
        </ul>
      </li>
    </ul>
  </blockquote>

  <h4><a name="TRY" id="TRY"></a> <tt>TRY</tt></h4>

  <blockquote>
    <tt>/3 $[ try block ]$ CATCH $[ catch block ]$ : TRY and CATCH
    on error or THROW</tt><br>
    <br>
    <tt>TRY ... CATCH</tt> provides a simple error-handling
    mechanism. If the system encounters an error during execution
    of the <tt>TRY</tt> <a href="#Execution_blocks">block</a> then
    the <tt>CATCH</tt> block is entered. Otherwise, execution
    continues after the <tt>CATCH</tt> block.<br>
    <br>
    Ublu itself catches Java exceptions and a large number of error
    conditions. Any of these conditions or exceptions will cause
    entry to the <tt>CATCH</tt> block.<br>
    <br>
    No exception classes are provided and no bookkeeping is
    performed. Your program itself must place intermediate results
    in <a href="#Tuple_Variables">tuple variables</a> to be tested
    in the <tt>CATCH</tt> block to determine what happened.<br>
    <br>
    <tt>TRY .. CATCH</tt> can be nested to any practical depth.<br>
    <br>
    You can also <a href="#THROW"><tt>THROW</tt></a> an error in
    your program.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>as400 -to @as400 badname baduser
    badpasswd</tt><tt><br></tt> <tt>&gt; TRY $[ put -to @foo ${ not
    connected }$ as400 -- @as400 -connectsvc CENTRAL put -to @foo
    ${ now connected }$ ]$ CATCH $[ put -from @foo ]$</tt>
    <tt>...<br></tt>
    <i><tt>Ublu:1:UbluInterpreter.Thread[main,5,main]:SEVERE:ublu.command.CmdAS400.as400():Exception
    connecting to service in as400/3?
    ...</tt></i><i><tt><br></tt></i>
    <i><tt>java.net.UnknownHostException:
    badname</tt></i><i><tt><br></tt></i> <i><tt>&nbsp;&nbsp;&nbsp;
    at
    java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)</tt></i><i><tt><br>
    </tt></i> <i><tt>&nbsp;&nbsp;&nbsp;
    ...</tt></i><i><tt><br></tt></i> <i><tt>not
    connected</tt></i><br>
  </blockquote>

  <h4><a name="tuple" id="tuple"></a><tt>tuple</tt></h4>

  <blockquote>
    <tt>0 [-delete @tuplename | -exists @tuplename | -istuplename
    @tuplename | -null @tuplename | -true @tuplename | -false
    @tuplename | -name @tuplename | -realname @tuplename | -Value |
    -sub ~@${subname}$ @tuple | -typename @tuplename | -map] :
    operations on tuple variables</tt><br>
    <br>
    Operations on <a href="#Tuple_Variables">tuple
    variables</a>.<br>

    <ul>
      <li>-<tt>delete</tt> <tt>@tuplename</tt> deletes
      <i>@tuplename</i>

        <ul>
          <li><tt>-delete</tt> <tt>@@example</tt> may be called on
          a function parameter and deletes the bound tuple
          represented by the runtime parameter, however subsequent
          references to such a runtime parameter via, for example,
          <tt>put</tt> or <tt>tuple</tt> are invalid and will
          produce runtime errors.<i><br></i></li>
        </ul>
      </li>

      <li><tt>-</tt><tt>exists</tt> <tt>@tuplename</tt> returns
      true iff tuple <i>@tuplename</i> already exists</li>

      <li>
        <tt>-istuplename @tuplename</tt> puts true iff
        <i>@tuplename</i> is a valid tuplename

        <ul>
          <li>useful in <a href="#FUNC"><tt>FUNC</tt></a>s for
          testing if the input arguments are tuples when such is
          needed.<br></li>
        </ul>
      </li>

      <li><tt>-true</tt> <tt>@tuplename</tt> sets <i>@tuplename</i>
      to the boolean <tt>true</tt> value</li>

      <li>-<tt>false</tt> <tt>@tuplename</tt> sets
      <i>@tuplename</i> to the boolean <tt>false</tt> value</li>

      <li>
        <tt>-name</tt> <tt>@tuplename</tt> puts the name of the
        tuple named by @tuplename

        <ul>
          <li>if applied to a real tuple variable, this returns the
          same name as passed in<br></li>

          <li>if applied to a temporary used in function parameter
          binding, this returns the temporary tuple name which
          refers to a real tuple variable<br></li>
        </ul>
      </li>

      <li>
        <tt>-realname</tt> <tt>@tuplename</tt> puts the name of the
        tuple named by @tuplename

        <ul>
          <li>if applied to a real tuple variable, this returns the
          same name as passed in<br></li>

          <li>if applied to a temporary used in <a href=
          "#Function_Parameter_Binding">function parameter
          binding</a>, this returns the name of the real tuple
          represented by the temporary binding, even though this
          name may currently be hidden by a local tuple
          variable<tt><br></tt></li>
        </ul>
      </li>

      <li><tt>-sub ~@${subname}$ @tuple</tt> creates a tuple</li>

      <li><tt>-value @tuplename</tt> puts the value object
      represented by the tuple named <i>@tuplename</i>.<br></li>

      <li><tt>-null</tt> <tt>@tuplename</tt> sets <i>@tuplename</i>
      to <tt>null</tt><br></li>

      <li><tt>-map</tt> shows all tuple names<br></li>
    </ul>

    <p><i>Example</i></p>

    <p><tt>tuple -true @woof</tt> <tt><br></tt> <tt><a href=
    "#IF">IF</a> @woof THEN $[ put ${ woof is true }$ ]$ ELSE $[
    put ${ woof is false }$ ]$</tt> <tt><br></tt> <i><tt>woof is
    true</tt></i> <tt><br></tt> <tt>tuple -false @woof</tt>
    <tt><br></tt> <tt>IF @woof THEN $[ put ${ woof is true }$ ]$
    ELSE $[ put ${ woof is false }$ ]$</tt> <tt><br></tt>
    <i><tt>woof is false</tt></i><br></p>
  </blockquote>

  <h4><a name="usage" id="usage"></a><tt>usage</tt></h4>

  <blockquote>
    See <a href="#help"><tt>help</tt></a>.
  </blockquote>

  <h4><a name="user" id="user"></a><tt>user</tt></h4>

  <blockquote>
    <tt>/3? [-as400 @as400] [--,-user ~@user] [-to datasink]&nbsp;
    [-userprofile ~@{username}] [-enable | -disable | -instance |
    -query ~@{property} | -refresh ] system userid password :
    manipulate user profile</tt><br>
    <br>
    The <tt>user</tt> command instances a User object to manipulate
    a user profile. If the <a href=
    "#System_Userid"><tt>-as400</tt></a> <a href=
    "#Dash_Command">dash-command</a> is provided, then the
    arguments <tt>system userid</tt> and <tt>password</tt> must be
    omitted. If an instanced User object is suppled via the
    <tt>-user ~@user</tt> dash-command then the
    <tt>-userprofile</tt> dash-command should be omitted.<br>
    <br>
    One way to get one or more User objects is via the <a href=
    "#userlist"><tt>userlist</tt></a> command.<br>
    <br>
    The operations are as follows:<br>

    <ul>
      <li><tt>-disable</tt> disables the user profile. It makes no
      difference if the user profile was already disabled.</li>

      <li><tt>-enable</tt> enables the user profile. It makes no
      difference if the user profile was already enabled.</li>

      <li>
        <tt>-instance</tt> instances the user profile and puts it
        to the destination <a href="#Datasinks">datasink</a>.

        <ul>
          <li>If the destination datasink is a file or standard
          output, effectively <tt>-instance</tt> prints out a
          nearly complete description of the user profile.<br></li>
        </ul>
      </li>

      <li>
        <tt>-query</tt> <i>property</i> queries for the specified
        user profile property and puts the result. The following
        query strings are currently supported:

        <ul>
          <li><tt>curlib</tt> puts the user profile's current
          library.<br></li>

          <li><tt>desc</tt> puts the user profile's text
          description.</li>

          <li><tt>direntry</tt> puts the system distribution
          directory entry for the user profile, if one
          exists.<br></li>

          <li><tt>exists</tt> puts <tt>true</tt> if the user
          profile exists, <tt>false</tt> otherwise.<br></li>

          <li><tt>homedir</tt> puts the IFS path to the user
          profile's home directory.<br></li>

          <li><tt>msgq</tt> puts the IFS path to the user profile's
          message queue.</li>

          <li><tt>name</tt> puts the name of the user profile.</li>

          <li><tt>status</tt> puts the status of the user
          profile.</li>

          <li><tt>storage</tt> puts the amount of auxiliary storage
          (in kilobytes) occupied by this user's owned
          objects.</li>

          <li><tt>supplementalgroups</tt> puts the supplemental
          groups for the user profile.</li>

          <li><tt>supplementalgroupsnum</tt> puts the number of
          supplemental groups for the user profile.<br></li>
        </ul>
      </li>

      <li><tt>-refresh</tt> refreshes from the host the data
      associated with the user.<br></li>
    </ul>

    <p>The default operation in the absence of any operation
    dash-command is <tt>-instance</tt>.<br></p>
  </blockquote>

  <h4><a name="userlist" id="userlist"></a> <tt>userlist</tt></h4>

  <blockquote>
    <tt>/3? [-as400 @as400] [-to datasink] [-userinfo
    ~@{ALL|USER|GROUP|MEMBER}] [-groupinfo
    ~@{NONE|NOGROUP|profilename}] [-userprofile ~@{username|*ALL}]
    ~@{system} ~@{userid} ~@{password} : return a list of users<br>
    &nbsp;&nbsp;&nbsp;</tt><br>
    <br>
    The userlist command puts a UserList object to the destination
    <a href="#Datasinks">datasink</a>. If the <a href=
    "#System_Userid"><tt>-as400</tt></a> dash-command is provided,
    then the arguments <tt>system userid</tt> and <tt>password</tt>
    must be omitted.<br>
    <br>
    The UserList can be iterated for its individual User
    objects.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>FUNC testUserList ( as400 ) $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; LOCAL @users</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; userlist -to @users -as400
    @@as400</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp; FOR @user in
    @users $[ user -- @user -query name ]$</tt><tt><br></tt>
    <tt>]$</tt><tt><br></tt> <tt><br></tt> <tt>as400 -to @as400
    mysys myuser mypassword</tt><tt><br></tt> <tt>testUserList (
    @as400 )</tt><tt><br></tt>
    <i><tt>FRED</tt></i><i><tt><br></tt></i>
    <i><tt>JIM</tt></i><i><tt><br></tt></i>
    <i><tt>SUZY</tt></i><i><tt><br></tt></i>
    <i><tt>QFOO</tt></i><i><tt><br></tt></i>
    <i><tt>...</tt></i><br>
    <br>
    See also: <a href="#user"><tt>user</tt></a><br>
  </blockquote>

  <h4><a name="WHILE" id="WHILE"></a><tt>WHILE</tt></h4>

  <blockquote>
    <tt>/4 ~@whiletrue $[ cmd .. ]$ : WHILE @whiletrue iterate over
    block</tt><br>
    <br>
    <tt>WHILE</tt> iterates over its block until the tuple
    (provided by name on the command line or popped from the
    <a href="#Tuple_stack">tuple stack</a> using the <tt>~</tt>
    symbol) <i>@whiletrue</i> returns <tt>false</tt> or a
    <tt>BREAK</tt> is encountered.<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>tuple -true @continue</tt><tt><br></tt> <tt>lifo -push
    @continue</tt><tt><br></tt> <tt>put -to @index -#
    -3</tt><tt><br></tt> <tt>WHILE ~ $[</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LOCAL
    @i</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eval -to @index
    + @index 1</tt> <tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -to @i -from
    @index</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lifo -push
    @i</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put -s -n ${
    index is }$ put -from ~</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eval -to @exit
    == @index 7</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF @exit THEN $[
    BREAK ]$</tt><tt><br></tt> <tt>]$</tt><tt><br></tt> <tt>put -n
    -s ${ after WHILE, the index is }$ put -from
    @index</tt><tt><br></tt> <tt>put -n -s ${ tuple stack depth is
    }$ lifo -depth</tt><br>
  </blockquote>

  <h4><tt><a name="comment_introducer" id=
  "comment_introducer">#</a></tt>&nbsp;<i>-&nbsp;or&nbsp;-</i>&nbsp;<tt>#!</tt></h4>

  <blockquote>
    introduces a comment which continues to the end of the input
    line, either in interpretive mode or in reading a file via the
    <a href="#include"><tt>include</tt></a> command. Like all
    commands, it must be separated by at least one space from any
    following non-whitespace in order to be recognized.<br>
    <br>
    <b>Note</b> that line comments introduced by <tt>#</tt> should
    not be used inside an <a href="#Execution_blocks">execution
    block</a>, which is treated as a single line so the comment
    character devours everything to the end of the block. Inside of
    functions, use the <tt><a href="#comment_quote">\\</a></tt>
    command instead.<br>

    <p>The form <tt>#!</tt> is used as the first line of an
    executable shell script. The interpreter in such a shell script
    should be indicated as follows:</p>

    <blockquote>
      <tt>#!&nbsp;/fully/qualified/path/to/java -jar
      /fully/qualified/path/to/ublu.jar include</tt>
    </blockquote>(<b>Note</b> the blank space after the <tt>#!</tt>
    and before the path to java.)<br>
    <br>
    This assumes that <tt>ublu.jar</tt> resides in a directory
    containing a <tt>lib</tt> subdirectory with the several support
    .jar files used by Ublu (<i>see</i> <a href=
    "#Invocation">Invocation</a>).<br>
    <br>
    <b>Note</b> that not all versions of the shell support the
    invocation syntax just as shown, i.e., it works on Mac Darwin
    but doesn't on some Linux shells.<br>
    <br>
    The script should be <tt>chmod u(go)+x</tt> and at runtime, the
    <tt>include</tt> directive at the end of the line ends up
    preceding the name of the script as provided by the shell, thus
    loading Ublu and executing the command <a href=
    "#include"><tt>include</tt></a> <i>filename</i> .<br>
    <br>
    <i>Example</i><br>
    <br>
    <tt>$ cat hello.ublu</tt><tt><br></tt> <i><tt>#! /usr/bin/java
    -jar /Users/jwoehr/NetBeansProjects/Ublu/dist/ublu.jar
    include</tt></i><i><tt><br></tt></i> <i><tt>put ${ Hello,
    world! }$</tt></i><tt><br></tt> <tt>$ chmod u+x
    hello.ublu</tt><tt><br></tt> <tt>$
    ./hello.ublu</tt><tt><br></tt> <i><tt>:: #! /usr/bin/java -jar
    /Users/jwoehr/NetBeansProjects/Ublu/dist/ublu.jar
    include</tt></i><i><tt><br></tt></i> <i><tt>:: put ${ Hello,
    world! }$</tt></i><i><tt><br></tt></i> <i><tt>Hello,
    world!</tt></i> <i><tt><br></tt></i> <i><tt>::</tt></i><br>
  </blockquote>

  <h3><tt><a name="bang" id="bang"></a>!</tt></h3>

  <blockquote>
    <tt>/1 history_linenumber</tt><br>
    The "bang" command is a convenient shortcut for <a href=
    "#history"><tt>history -do</tt></a> used to repeat a previous
    line. History must be on for this command to work.<br>

    <blockquote>
      <tt>! 386</tt><br>
    </blockquote>is short for<br>

    <blockquote>
      <tt>history -do 386</tt><br>
    </blockquote><b>Note</b> that, unlike shell history, a space
    must separate the "bang" and the history linenumber.<br>
    If <tt>!</tt> appears with the argument <tt>!</tt> then the
    most recent command which was not a <tt>!</tt> is repeated.<br>
    <b>Note</b> that if the above <tt>! !</tt> abbreviation appears
    embedded in a recalled history line to be executed by <tt>!
    !</tt> , the command line fails and issues an error message for
    recursive usage.
  </blockquote>

  <h3><a name="comment_quote"><tt>\\</tt></a></h3>

  <blockquote>
    <tt>/1 [-to datasink] ${ some text, usually a comment }$&nbsp;
    : redirect a quotation to a datasink or simply make an enclosed
    comment</tt><br>
  </blockquote>The <tt>\\</tt> ("comment-quote") command allows you
  to use a <tt>${ <a href="#Quoted_strings">quoted string</a>
  }$</tt> or single <a href="#Plainwords">plainword</a> for an
  enclosed comment. This is useful in defining functions (e.g.,
  with <a href="#FUNC"><tt>FUNC</tt></a>) because the line comment
  command <a href="#comment_introducer"><tt>#</tt></a> can't be
  used in a function definition's <a href=
  "#Execution_blocks">execution block</a> since it has the effect
  of consuming the entire remainder of the block.<br>
  <br>
  The string can actually be redirected to a <a href=
  "#Datasinks">datasink</a> by the <tt>-to</tt> <a href=
  "#Dash_Command">dash-command</a>, if desired. The default
  datasink for <tt>\\</tt> is set to <tt>NULL:</tt><br>
  <br>
  <i>Example</i>
  <pre>
<font color="#000000"><span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 1 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">test</font><font color="#CC0000"> </font><font color="#CC0000">comment</font><font color="#CC0000"> </font><font color="#CC0000">quote</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 2 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Example</font><font color="#CC0000"> </font><font color="#CC0000">from</font><font color="#CC0000"> </font><font color="#CC0000">Ublu</font><font color="#CC0000"> </font><font color="#CC0000">https://github.com/jwoehr/ublu</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 3 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">Copyright</font><font color="#CC0000"> </font><font color="#CC0000">(C)</font><font color="#CC0000"> </font><font color="#CC0000">2016</font><font color="#CC0000"> </font><font color="#CC0000">Jack</font><font color="#CC0000"> </font><font color="#CC0000">J.</font><font color="#CC0000"> </font><font color="#CC0000">Woehr</font><font color="#CC0000"> </font><font color="#CC0000">http://www.softwoehr.com</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 4 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">See</font><font color="#CC0000"> </font><font color="#CC0000">the</font><font color="#CC0000"> </font><font color="#CC0000">Ublu</font><font color="#CC0000"> </font><font color="#CC0000">license</font><font color="#CC0000"> </font><font color="#CC0000">(BSD-2</font><font color="#CC0000"> </font><font color="#CC0000">open</font><font color="#CC0000"> </font><font color="#CC0000">source)</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066"> 5 </font></span>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 6 </font></span><font color="#006699"><strong>FUNC</strong></font> cq <font color="#000000"><strong>(</strong></font> param <font color="#000000"><strong>)</strong></font> <font color="#000000"><strong>$[</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 7 </font></span>  <font color="#006699"><strong>\\</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@foo</font> zog  
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 8 </font></span>  <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#6600CC">@@param</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000"> 9 </font></span>  <font color="#CC0000">\\</font><font color="#CC0000"> </font><font color="#CC0000">-to</font><font color="#CC0000"> </font><font color="#CC0000">@bar</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">this</font><font color="#CC0000"> </font><font color="#CC0000">is</font><font color="#CC0000"> </font><font color="#CC0000">an</font><font color="#CC0000"> </font><font color="#CC0000">extended</font><font color="#CC0000"> </font><font color="#CC0000">comment</font><font color="#CC0000"> </font><font color="#CC0000">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">10 </font></span>  <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#6600CC">@@param</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">11 </font></span>  <font color="#CC0000">\\</font><font color="#CC0000"> </font><font color="#CC0000">${</font><font color="#CC0000"> </font><font color="#CC0000">this</font><font color="#CC0000"> </font><font color="#CC0000">is</font><font color="#CC0000"> </font><font color="#CC0000">also</font><font color="#CC0000"> </font><font color="#CC0000">an</font><font color="#CC0000"> </font><font color="#CC0000">extended</font><font color="#CC0000"> </font><font color="#CC0000">comment</font><font color="#CC0000"> </font><font color="#CC0000">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">12 </font></span>  <font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#6600CC">@@param</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">13 </font></span>  <font color="#009966"><strong>put</strong></font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">done</font><font color="#FF00CC"> </font><font color="#FF00CC">function</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">14 </font></span><font color="#000000"><strong>]$</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#990066">15 </font></span><font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-to</strong></font> <font color="#0000FF">@myparam</font> <font color="#FF00CC">${</font><font color="#FF00CC"> </font><font color="#FF00CC">a</font><font color="#FF00CC"> </font><font color="#FF00CC">test</font><font color="#FF00CC"> </font><font color="#FF00CC">param</font><font color="#FF00CC"> </font><font color="#FF00CC">}$</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">16 </font></span>cq <font color="#000000"><strong>(</strong></font> <font color="#0000FF">@myparam</font> <font color="#000000"><strong>)</strong></font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">17 </font></span><font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@foo</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">18 </font></span><font color="#009966"><strong>put</strong></font> <font color="#0099FF"><strong>-from</strong></font> <font color="#0000FF">@bar</font>
<span style=
"background:#dbdbdb; border-right:solid 2px black; margin-right:5px;"><font color="#000000">19 </font></span><font color="#CC0000">#</font><font color="#CC0000"> </font><font color="#CC0000">done</font>
</font>
</pre>

  <h2><a name="Tips_and_Tricks" id="Tips_and_Tricks"></a> Tips and
  Tricks<br></h2>

  <h3><a name="Expert_Tool" id="Expert_Tool"></a>Expert Tool</h3>

  <p>Ublu is an expert tool for expert users. It is assumed the
  user is capable of shell scripting and shell one-liners. Examples
  are given below.<br></p>

  <h3><a name="Shortening_invocation" id=
  "Shortening_invocation"></a>Shortening invocation</h3>

  <p>An easy way to make invoking Ublu involve less typing is to
  create a function in <tt>.bash_profile</tt>, e.g.,<br></p>

  <blockquote>
    <tt>function ublu () {</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
    java -jar /opt/ublu/ublu.jar $*</tt><tt><br></tt>
    <tt>&nbsp;&nbsp;&nbsp; }</tt><br>
  </blockquote>

  <p>Thereafter you can simply type <tt>ublu</tt> <i>arg arg
  ...</i> instead of <tt>java -jar /opt/ublu/ublu.jar</tt> <i>arg
  arg ...</i></p>

  <h3><a name="Making_your_AbsPerfOS400_script_an" id=
  "Making_your_AbsPerfOS400_script_an"></a>Making your Ublu script
  an executable shell script</h3>

  <p>See the&nbsp; <a href="#comment_introducer"><tt>#!</tt></a>
  command example.</p>

  <h3><a name="Recording_a_session" id=
  "Recording_a_session"></a>Recording a session<br></h3>

  <p>Either interpretive or simple command-line sessions can be
  recorded via shell i/o redirection.<br></p>

  <blockquote>
    <b><tt>java -jar ublu.jar <i>command args</i> <i>command
    args</i> 2&gt;&amp;1 | tee mysession.txt</tt></b><br>
  </blockquote>

  <h3><a name="Piping_input_to_AbsPerfOS400" id=
  "Piping_input_to_AbsPerfOS400"></a>Piping input to Ublu</h3>You
  can pipe input into Ublu:<br>

  <blockquote>
    <b><tt>echo "include somefile.ublu" | java -jar
    ublu.jar</tt></b>
  </blockquote>When the input runs out from the redirection, Ublu
  will exit normally.<br>
  <br>
  <b>Note</b> that the <a href="#interpret"><tt>interpret</tt></a>
  command will simply exit because there is no extra input for a
  nested interpeter session to be had when input is redirected in
  this fashion.

  <h3><a name="Defluff_a_CSV" id="Defluff_a_CSV"></a>Defluff a
  CSV</h3>

  <p>Currently ASCII translation of EBCDIC character data is
  inserted intercolumnarly in the output of <tt>db -csv</tt> if the
  db type is AS400 and the column datatype is BINARY. Want to dump
  the hex output and just keep the character columns?</p>

  <blockquote>
    <p><b><tt>java -jar ublu.jar db -db as400 -csv SOMETABLE
    somehost somedatabase someuser ******** | awk 'BEGIN {FS=","}
    {printf("%s,%s,%s\n",$2,$4,$6)}' &gt;SOMETABLE.txt</tt></b></p>
  </blockquote>

  <h3><a name="Splitting_a_result_set_from_an_extant" id=
  "Splitting_a_result_set_from_an_extant"></a> Splitting a result
  set from an extant table into a new table</h3>The following
  program creates a new Postgres table, grabs a result set from an
  extant DB400 table and inserts it into the new Postgres table
  splitting one column of the extant table into several columns. In
  the example, the original table has three (3) columns, the last
  of which actually contains several different data entities all
  stuffed into the one column.<br>

  <h4><a name="rssplitapavend.ublu" id=
  "rssplitapavend.ublu"></a>rssplitapavend.ublu</h4><tt>db -db
  postgres -query_nors ${ create table ap_avend (active bytea, id
  bytea, name bytea, addr_1 bytea, addr_2 bytea, addr_3 bytea, city
  bytea, state bytea, weird_bitmap bytea, buncha_ns bytea,
  buncha_nonsense bytea, primary key
  (active,id,name,addr_1,addr_2,addr_3,city,state,weird_bitmap,buncha_ns,buncha_nonsense))
  }$ onesys test fred ********</tt><tt><br></tt> <tt>db -db as400
  -star ARF.FILE -to @srctable anothersys farfel fred
  ********</tt><tt><br></tt> <tt>db -db postgres -star ap_avend -to
  @desttable onesys test fred ********</tt><tt><br></tt> <tt>rs
  -split 3 9 35 35 35 35 20 2 44 9 94 -toascii 3 1 2 3 -from
  @srctable -to @desttable</tt><tt><br></tt> <tt>rs -close
  @srctable</tt><tt><br></tt> <tt>rs -close @desttable</tt><br>

  <h3><a name="Replicating_a_table_and_copying_the_data" id=
  "Replicating_a_table_and_copying_the_data"></a> Replicating a
  table and copying the data</h3>

  <p>To replicate table structure and copy in the data, the steps
  are:<br></p>

  <ol>
    <li>Replicate the empty table structure.</li>

    <li>Get a result set from the source table.</li>

    <li>Get an (empty) result set from the destination table.</li>

    <li>Use the rs command to copy the source result set to the
    destination result set.</li>

    <li>Close the result sets.</li>
  </ol>

  <p>Two examples follow, one where the autogenerator generates the
  primary keys, and the second one where the primary keys are
  provided to the command.<br></p>

  <h4><a name="testreplicate.ublu" id=
  "testreplicate.ublu"></a>testreplicate.ublu - the primary keys
  are automatically generated<br></h4>

  <p><tt>#! /usr/bin/java -jar
  /Users/jwoehr/NetBeansProjects/Ublu/dist/ublu.jar
  include</tt><tt><br></tt> <tt>db -db as400 -replicate ARF.FILE
  onesys postgres test fred ********* testsojac farfel fred
  *********</tt><tt><br></tt> <tt>db -db as400 -query ${ SELECT *
  FROM "ARF.FILE" }$ -to @srctable anothersys farfel fred
  *********</tt><tt><br></tt> <tt>db -db postgres -query ${ SELECT
  * FROM "ARF.FILE" }$ -to @desttable onesys test fred
  *********</tt><tt><br></tt> <tt>rs -insert -toascii 3 1 2 3 -from
  @srctable -to @desttable<br></tt> <tt>rs -closedb @desttable<br>
  rs -closedb @srctable<br>
  put ${ Done replication and data copy. }$</tt></p>

  <p>Here is the above script running:</p>

  <p><tt>$ ./testreplicate.ublu</tt> <tt><br></tt> <tt>:: #!
  /usr/bin/java -jar
  /Users/jwoehr/NetBeansProjects/Ublu/dist/ublu.jar
  include</tt><tt><br></tt> <tt>:: db -db as400 -replicate ARF.FILE
  sojac postgres test fred ********* testsojac farfel fred
  *********</tt><tt><br></tt> <tt>Aug 04, 2013 5:57:46 PM
  ublu.db.TableReplicator replicate</tt><tt><br></tt> <tt>INFO:
  Table creation SQL is CREATE TABLE "ARF.FILE" ( F00001 varchar
  NOT NULL, K00001 varchar NOT NULL, F00002 varchar NOT NULL,
  PRIMARY KEY (F00001, K00001, F00002) )</tt><tt><br></tt> <tt>::
  db -db as400 -query ${ SELECT * FROM "ARF.FILE" }$ -to @srctable
  testsojac farfel fred *********</tt><tt><br></tt> <tt>:: db -db
  postgres -query ${ SELECT * FROM "ARF.FILE" }$ -to @desttable
  sojac test fred *********</tt><tt><br></tt> <tt>:: rs -insert
  -toascii 3 1 2 3 -from @srctable -to @desttable<br>
  :: rs -closedb @desttable<br>
  :: rs -closedb @srctable<br>
  :: put ${ Done replication and data copy. }$<br>
  Done replication and data copy.<br></tt> <tt>$</tt></p>

  <p>Even simpler than the above is to replace the two query lines
  above with the following lines:<br></p>

  <p><tt>db -db as400 -star ARF.FILE -to @srctable testsojac farfel
  fred *********</tt><tt><br></tt> <tt>db -db postgres -star
  ARF.FILE -to @desttable sojac test fred *********</tt><br></p>

  <p>using <tt><a href="#db">db -star</a></tt> to formulate
  automatically the <tt>SELECT * FROM</tt> query.<br></p>

  <p>Afterwards of course you can view your handiwork:</p>

  <p><tt>java -jar ublu.jar db -db postgres -star ARF.FILE sojac
  test fred ********</tt><br></p>

  <h4><a name="replicate" id="replicate"></a>replicate - the
  primary keys are provided to the command<br></h4>

  <p>Here is an example of replication when it is desired to
  provide manually the primary key list to table replication<br>
  <tt><br></tt> <tt>db -db as400 -pklist ${ FOO BAR WOOF ARF ZOTZ
  }$ -replicate SNORK 1.2.3.4 postgres test fred ******** 5.6.7.8
  farfel fred ********</tt><tt><br></tt> <tt>db -db as400 -property
  ${ block size }$ 512 -star PPPOLICY -to @srctable 5.6.7.8 farfel
  fred ********</tt><tt><br></tt> <tt>db -db postgres -star SNORK
  -to @desttable 1.2.3.4 test fred ********</tt><tt><br></tt>
  <tt>rs -insert -from @srctable -to @desttable</tt><tt><br></tt>
  <tt>rs -closedb @desttable</tt><tt><br></tt> <tt>rs -closedb
  @srctable</tt><br></p>

  <h3><a name="Saving_history_as_a_program" id=
  "Saving_history_as_a_program">Saving history as a
  program</a></h3>You can save command history as a program, either
  temporarily in a tuple variable or by writing history lines to a
  file.<br>

  <blockquote>
    <tt>&gt; history -range 214 215</tt> <tt><br></tt> <i><tt>put
    ${ this is a first line }$</tt></i> <i><tt><br></tt></i>
    <i><tt>put ${ this is a second line }$</tt></i> <tt><br></tt>
    <tt><br></tt> <tt>&gt; history -range 214 215 -to
    @myProgram</tt><tt><br></tt> <tt>&gt; put -from
    @myProgram</tt><tt><br></tt> <i><tt>put ${ this is a first line
    }$</tt></i> <i><tt><br></tt></i> <i><tt>put ${ this is a second
    line }$</tt></i> <i><tt><br></tt></i> <tt><br></tt> <tt>&gt;
    include -from @myProgram</tt><tt><br></tt> <i><tt>:: put ${
    this is a first line }$</tt></i> <i><tt><br></tt></i>
    <i><tt>this is a first line</tt></i> <i><tt><br></tt></i>
    <i><tt>:: put ${ this is a second line }$</tt></i> <i><tt><br>
    </tt></i> <i><tt>this is a second line</tt></i> <tt><br></tt>
    <tt>&gt; put -from @myProgram -to
    myProgram.ublu</tt><tt><br></tt> <tt>&gt; put -from
    myProgram.ublu</tt><tt><br></tt> <i><tt>put ${ this is a first
    line }$</tt></i> <i><tt><br></tt></i> <i><tt>put ${ this is a
    second line }$</tt></i> <i><tt><br></tt></i> <tt><br></tt>
    <tt>&gt; include myProgram.ublu</tt><tt><br></tt> <i><tt>:: put
    ${ this is a first line }$</tt></i> <i><tt><br></tt></i>
    <i><tt>this is a first line</tt></i> <i><tt><br></tt></i>
    <i><tt>:: put ${ this is a second line }$</tt></i> <i><tt><br>
    </tt></i> <i><tt>this is a second line</tt></i> <tt><br></tt>
    <tt>&gt;</tt> <tt><br></tt>
  </blockquote>

  <h3><a name="Searching_for_tables_in_the_i_Series" id=
  "Searching_for_tables_in_the_i_Series"></a> Searching for tables
  in the i Series database</h3>

  <p><i>Submitted by Kevin McGinnis</i><br></p>

  <div>
    <div>
      To obtain info on all tables in the i Series db use the
      command:<br>

      <blockquote>
        <tt>db -db as 400 -query ${ select * from SYSTABLES }$
        myhost&nbsp; QSYS2 qsecofr ********</tt><br>
      </blockquote>
    </div>To obtain a result set listing all the tables in a
    library SOMELIB the command can be modified to:<br>

    <blockquote>
      &nbsp;<tt>db -db as400 -query ${ select * from SYSTABLES
      where SYSTEM_TABLE_SCHEMA = 'SOMELIB' }$ myhost QSYS2 qsecofr
      *********</tt><br>
    </blockquote>
  </div>To obtain an ordered list of the tables in a library
  SOMELIB the command can be modified to:<br>

  <blockquote>
    &nbsp;<tt>db -db as400 -query ${ select TABLE_NAME from
    SYSTABLES where SYSTEM_TABLE_SCHEMA = 'SOMELIB' order by 1 }$
    myhost QSYS2 qsecofr xx</tt><br>
  </blockquote>

  <h3><a name="Get_a_list_of_active_interactive_jobs" id=
  "Get_a_list_of_active_interactive_jobs"></a> Get a list of active
  interactive jobs and search that list for specific
  jobs</h3><tt>as400 -to @as400 MYHOST qsecofr
  ********</tt><tt><br></tt> <tt>joblist -to @joblist -jobtype
  INTERACTIVE -active -as400 @as400</tt><tt><br></tt> <tt>put -to
  @namelist ${ THISUSER THATUSER ANOTHER FRED }$</tt><tt><br></tt>
  <tt>FOR @j @joblist $[</tt><tt><br></tt> <tt>&nbsp;&nbsp;&nbsp;
  job -job @j -get user -to @user</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp; FOR @name in @namelist
  $[</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test -to @match
  -eq @name @user</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF @match THEN
  $[</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  put ${ !! }$ put -n ${ We found user }$ put -from
  @user</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  ]$ ELSE $[</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  put -n ${ . }$</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  ]$</tt><tt><br></tt>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  ]$</tt><tt><br></tt> <tt>]$</tt>

  <h2><a name="Syntax_coloring_edit_modes" id=
  "Syntax_coloring_edit_modes"></a>Syntax coloring edit modes</h2>

  <p>There are two syntax coloring edit modes provided with
  Ublu:<br></p>

  <ul>
    <li><tt>stuff/.vim</tt></li>

    <li><tt>stuff/jEdit</tt></li>
  </ul>

  <p>which should be self-explanatory to users of the <a href=
  "http://www.vim.org/">Vim</a> and/or <a href=
  "http://www.jedit.org/">jEdit</a> editors.<br></p><i>End of
  document</i>
</body>
</html>
